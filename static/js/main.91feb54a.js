/*! For license information please see main.91feb54a.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,q=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(Vd){var r=Vd}Reflect.construct(e,[],t)}else{try{t.call()}catch(Vd){r=Vd}e.call(t.prototype)}else{try{throw Error()}catch(Vd){r=Vd}e()}}catch(Vd){if(Vd&&r&&"string"===typeof Vd.stack){for(var i=Vd.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(rg){return e.body}}function Y(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Se=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Re=!1}function Me(e,t,n,r,i,s,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,qe=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,qe=e}};function je(e,t,n,r,i,s,a,o,u){Le=!1,qe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ut|0)|0},ot=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,St,Et,Tt,kt=!1,Ct=[],xt=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Pt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&jt(xt,e),null!==Nt&&jt(Nt,e),null!==At&&jt(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)qt(n),null===n.blockedOn&&Rt.shift()}var Bt=w.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Wt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Ht(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Lt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(ln),dn=q({},ln,{view:0,detail:0}),hn=sn(dn),fn=q({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,on=e.screenY-un.screenY):on=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(q({},fn,{dataTransfer:0})),gn=sn(q({},dn,{relatedTarget:0})),vn=sn(q({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=q({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(q({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return En}var kn=q({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),xn=sn(q({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(q({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(q({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=q({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Dn),Rn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,qn=c&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Fr(e,0)}function Yn(e){if(H(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(c){var $n;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Gn(t,Hn,e,_e(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function Tr(e){if(Sr[e])return Sr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,u,l){if(je.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=qe;Le=!1,qe=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;qr(i,o,l),s=u}else for(a=0;a<r.length;a++){if(u=(o=r[a]).instance,l=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;qr(i,o,l),s=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(u=a.tag)||6===u){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case kr:case Cr:case xr:u=vn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&c.push(Gr(p,m,f)))),d)break;p=p.return}0<c.length&&(o=new u(o,l,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?o:wi(u),f=null==l?o:wi(l),(o=new c(m,p+"leave",u,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=f,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(h=l,p=0,f=c=u;f;f=Hr(f))p++;for(f=0,m=h;m;m=Hr(m))f++;for(;0<p-f;)c=Hr(c),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Hr(c),h=Hr(h)}c=null}else c=null;null!==u&&Qr(a,o,u,c,!1),null!==l&&null!==d&&Qr(a,d,l,c,!0)}if("select"===(u=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var g=Xn;else if(Kn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(u=o.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(null!==u&&u===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(u=Pe(n,s))&&a.unshift(Gr(n,u,o)):i||null!=(u=Pe(n,s))&&a.push(Gr(n,u,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Si=-1;function Ei(e){return{current:e}}function Ti(e){0>Si||(e.current=Ii[Si],Ii[Si]=null,Si--)}function ki(e,t){Si++,Ii[Si]=e.current,e.current=t}var Ci={},xi=Ei(Ci),Ni=Ei(!1),Ai=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));ki(xi,t),ki(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return q({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),ki(xi,e)):Ti(Ni),ki(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function ji(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var Bi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){Bi[Ki++]=Wi,Bi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=Bi[--Ki],Bi[Ki]=null,Wi=Bi[--Ki],Bi[Ki]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function us(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(us(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(us(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(us(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=li(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case I:return(t=Fl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case I:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,u){for(var l=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===c?l=v:c.sibling=v,c=v,d=g}if(m===o.length)return n(i,d),is&&$i(i,m),l;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],u))&&(s=a(d,s,m),null===c?l=d:c.sibling=d,c=d);return is&&$i(i,m),l}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),is&&$i(i,m),l}function g(i,o,u,l){var c=M(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var d=c=null,m=o,g=o=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&$i(i,g),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,l))&&(o=a(y,o,g),null===d?c=y:d.sibling=y,d=y);return is&&$i(i,g),c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),c}return function e(r,s,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,c=s;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&ys(l)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=gs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((s=Ml(a.props.children,r.mode,u,a.key)).return=r,r=s):((u=Ol(a.type,a.key,a.props,null,r.mode,u)).ref=gs(r,s,a),u.return=r,r=u)}return o(r);case I:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fl(a,r.mode,u)).return=r,r=s}return o(r);case P:return e(r,s,(c=a._init)(a._payload),u)}if(te(a))return m(r,s,a,u);if(M(a))return g(r,s,a,u);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=ql(a,r.mode,u)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Is=Ei(null),Ss=null,Es=null,Ts=null;function ks(){Ts=Es=Ss=null}function Cs(e){var t=Is.current;Ti(Is),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ss=e,Ts=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ds=null;function Ps(e){null===Ds?Ds=[e]:Ds.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var u=o,l=u.next;u.next=null,null===a?s=l:a.next=l,a=u;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(null!==s){var d=i.baseState;for(a=0,c=l=u=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=q({},d,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=f,u=d):c=c.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=d}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ks={},Gs=Ei(Ks),Ws=Ei(Ks),Hs=Ei(Ks);function Qs(e){if(e===Ks)throw Error(s(174));return e}function Ys(e,t){switch(ki(Hs,t),ki(Ws,e),ki(Gs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Gs),ki(Gs,t)}function Xs(){Ti(Gs),Ti(Ws),Ti(Hs)}function Js(e){Qs(Hs.current);var t=Qs(Gs.current),n=ue(t,e.type);t!==n&&(ki(Ws,e),ki(Gs,n))}function $s(e){Ws.current===e&&(Ti(Gs),Ti(Ws))}var Zs=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,ua=null,la=!1,ca=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?$a:Za,e=n(r,i),ca){a=0;do{if(ca=!1,da=0,25<=a)throw Error(s(301));a+=1,ua=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ca)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,ua=oa=aa=null,la=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?aa.memoizedState=ua=e:ua=ua.next=e,ua}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===ua?aa.memoizedState:ua.next;if(null!==t)ua=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===ua?aa.memoizedState=ua=e:ua=ua.next=e}return ua}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=o=null,l=null,c=a;do{var d=c.lane;if((sa&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,o=r):l=l.next=h,aa.lanes|=d,Lu|=d}c=c.next}while(null!==c&&c!==a);null===l?o=r:l.next=u,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Sa(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ma(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Aa(9,Ta.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&xa(e)}function ka(e,t,n){return n((function(){Ca(t)&&xa(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function xa(e){var t=Os(e,1);null!==t&&nl(t,e,1,-1)}function Na(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ya().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Oa(e,t){return Pa(8390656,8,e,t)}function Ma(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function qa(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Va(){}function ja(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Lu|=n,e.baseState=!0),t)}function Ka(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ga(){return ya().memoizedState}function Wa(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Rs(e,t,n,r))){nl(n,e,r,el()),Xa(n,t,r)}}function Ha(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var u=t.interleaved;return null===u?(i.next=i,Ps(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(Vd){}null!==(n=Rs(e,t,i,r))&&(nl(n,e,r,i=el()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ca=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},$a={readContext:As,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Ka.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nu)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(ka.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nu.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:ja,useContext:As,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:qa,useMemo:za,useReducer:wa,useRef:Da,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return Ba(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:ja,useContext:As,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:qa,useMemo:za,useReducer:_a,useRef:Da,useState:function(){return _a(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ba(t,oa.memoizedState,e)},useTransition:function(){return[_a(ba)[0],ya().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nl(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nl(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nl(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:xi.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Gu=r),co(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Rl(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(ur(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ru,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ru,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ru,Pu),Pu|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ru,Pu),Pu|=r;return wo(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,i){var s=Pi(n)?Ai:xi.current;return s=Di(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Bo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=As(l):l=Di(t,l=Pi(n)?Ai:xi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||u!==l)&&ao(t,a,r,l),Ms=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),u=t.memoizedState,o!==r||h!==u||Ni.current||Ms?("function"===typeof c&&(no(t,n,c,r),u=t.memoizedState),(o=Ms||io(t,n,o,r,h,u,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qs(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:to(t.type,o),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=As(u):u=Di(t,u=Pi(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==u)&&ao(t,a,r,u),Ms=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||Ms?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(l=Ms||io(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xo(e,t,n,r,s,i)}function xo(e,t,n,r,i,s){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&qi(t,n,!1),Ko(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ys(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Do,Po,Ro,Oo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function qo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(Zs,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,o?(i=t.mode,o=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=u):o=Ll(u,i,0,null),e=Ml(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Mo,e):Fo(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Uo(e,t,o,r=lo(a=Error(s(419)),r,void 0))}if(u=0!==(o&e.childLanes),bo||u){if(null!==(r=Nu)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nl(r,e,i,-1))}return ml(),Uo(e,t,o,r=lo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(o){o=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rl(r,o):(o=Ml(o,u,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,u=null===(u=e.child.memoizedState)?Lo(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Rl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function jo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jo(t,!0,n,null,s);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ho(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,Xs(),Ti(Ni),Ti(xi),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Po(e,t),Wo(t),null;case 5:$s(t);var i=Qs(Hs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Qs(Gs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Hs.current),Qs(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(al(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ou&&(Ou=3):ml())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Xs(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Cs(t.type._context),Wo(t),null;case 19:if(Ti(Zs),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Go(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ea(e))){for(t.flags|=128,Go(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>zu&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!is)return Wo(t),null}else 2*Je()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ti(Ni),Ti(xi),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Xs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Gs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){El(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&eu(t,n,s)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function ou(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=cu,i=du;cu=null,hu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,hu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){El(n,t,o)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hu(e,t,n),Xo=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(s(160));fu(a,o,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(Vd){El(i,t,Vd)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),vu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){El(e,e.return,g)}try{nu(5,e,e.return)}catch(g){El(e,e.return,g)}}break;case 1:mu(t,e),vu(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(mu(t,e),vu(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){El(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),be(u,o);var c=be(u,a);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(u){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){El(e,e.return,g)}}break;case 6:if(mu(t,e),vu(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){El(e,e.return,g)}}break;case 3:if(mu(t,e),vu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){El(e,e.return,g)}break;case 4:default:mu(t,e),vu(e);break;case 13:mu(t,e),vu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Je())),4&r&&pu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(c=Xo)||d,mu(t,e),Xo=c):mu(t,e),vu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){El(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_u(h);continue}}null!==p?(p.return=f,$o=p):_u(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,o=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",o))}catch(g){El(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){El(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),vu(e),4&r&&pu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,ou(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,ou(e),a);break;default:throw Error(s(161))}}catch(Ld){El(e,e.return,Ld)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){$o=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,u=null!==o&&null!==o.memoizedState||Xo;o=Yo;var l=Xo;if(Yo=a,(Xo=u)&&!l)for($o=i;null!==$o;)u=(a=$o).child,22===a.tag&&null!==a.memoizedState?Iu(i):null!==u?(u.return=a,$o=u):Iu(i);for(;null!==s;)$o=s,bu(s,t,n),s=s.sibling;$o=i,Yo=o,Xo=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):wu(e)}}function wu(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&iu(t)}catch(Yd){El(t,t.return,Yd)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function _u(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Iu(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(Ld){El(t,n,Ld)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(Ld){El(t,i,Ld)}}var s=t.return;try{iu(t)}catch(Ld){El(t,s,Ld)}break;case 5:var a=t.return;try{iu(t)}catch(Ld){El(t,a,Ld)}}}catch(Ld){El(t,t.return,Ld)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Su,Eu=Math.ceil,Tu=w.ReactCurrentDispatcher,ku=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,xu=0,Nu=null,Au=null,Du=0,Pu=0,Ru=Ei(0),Ou=0,Mu=null,Lu=0,qu=0,Fu=0,Uu=null,Vu=null,ju=0,zu=1/0,Bu=null,Ku=!1,Gu=null,Wu=null,Hu=!1,Qu=null,Yu=0,Xu=0,Ju=null,$u=-1,Zu=0;function el(){return 0!==(6&xu)?Je():-1!==$u?$u:$u=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Du?Du&-Du:null!==ms.transition?(0===Zu&&(Zu=mt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(s(185));vt(e,n,r),0!==(2&xu)&&e===Nu||(e===Nu&&(0===(2&xu)&&(qu|=n),4===Ou&&ol(e,Du)),rl(e,r),1===n&&0===xu&&0===(1&t.mode)&&(zu=Je()+500,Ui&&zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,u=i[a];-1===u?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Nu?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(ul.bind(null,e)):ji(ul.bind(null,e)),ai((function(){0===(6&xu)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if($u=-1,Zu=0,0!==(6&xu))throw Error(s(327));var n=e.callbackNode;if(Il()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=xu;xu|=2;var a=pl();for(Nu===e&&Du===t||(Bu=null,zu=Je()+500,hl(e,t));;)try{yl();break}catch(u){fl(e,u)}ks(),Tu.current=a,xu=i,null!==Au?t=0:(Nu=null,Du=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Mu,hl(e,0),ol(e,r),rl(e,Je()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=sl(e,a))),1===t))throw n=Mu,hl(e,0),ol(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_l(e,Vu,Bu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=ju+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Vu,Bu),t);break}_l(e,Vu,Bu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Vu,Bu),r);break}_l(e,Vu,Bu);break;default:throw Error(s(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function sl(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Vu,Vu=n,null!==t&&al(t)),e}function al(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function ol(e,t){for(t&=~Fu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&xu))throw Error(s(327));Il();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Mu,hl(e,0),ol(e,t),rl(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Vu,Bu),rl(e,Je()),null}function ll(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(zu=Je()+500,Ui&&zi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&xu)&&Il();var t=xu;xu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(xu=t))&&zi()}}function dl(){Pu=Ru.current,Ti(Ru)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xs(),Ti(Ni),Ti(xi),na();break;case 5:$s(r);break;case 4:Xs();break;case 13:case 19:Ti(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Nu=e,Au=e=Rl(e.current,null),Du=Pu=t,Ou=0,Mu=null,Fu=qu=Lu=0,Vu=Uu=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function fl(e,t){for(;;){var n=Au;try{if(ks(),ra.current=Ja,la){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(sa=0,ua=oa=aa=null,ca=!1,da=0,ku.current=null,null===n||null===n.return){Ou=1,Mu=t,Au=null;break}e:{var a=e,o=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,u,0,t),1&p.mode&&mo(a,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){mo(a,c,t),ml();break e}l=Error(s(426))}else if(is&&1&u.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,u,0,t),ps(uo(l,u));break e}}a=l=uo(l,u),4!==Ou&&(Ou=2),null===Uu?Uu=[a]:Uu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,js(a,fo(0,l,t));break e;case 1:u=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,js(a,po(a,u,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(Zd){t=Zd,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pl(){var e=Tu.current;return Tu.current=Ja,null===e?Ja:e}function ml(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Lu)&&0===(268435455&qu)||ol(Nu,Du)}function gl(e,t){var n=xu;xu|=2;var r=pl();for(Nu===e&&Du===t||(Bu=null,hl(e,t));;)try{vl();break}catch(i){fl(e,i)}if(ks(),xu=n,Tu.current=r,null!==Au)throw Error(s(261));return Nu=null,Du=0,Ou}function vl(){for(;null!==Au;)bl(Au)}function yl(){for(;null!==Au&&!Ye();)bl(Au)}function bl(e){var t=Su(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wl(e):Au=t,ku.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ho(n,t,Pu)))return void(Au=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function _l(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{Il()}while(null!==Qu);if(0!==(6&xu))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nu&&(Au=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Nl(tt,(function(){return Il(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var o=bt;bt=1;var u=xu;xu|=4,ku.current=null,function(e,t){if(ei=Kt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Sf){n=null;break e}var o=0,u=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=o+i),h!==a||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(u=o),f===a&&++d===r&&(l=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Sf){El(t,t.return,Sf)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=tu,tu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Xe(),xu=u,bt=o,Cu.transition=a}else e.current=n;if(Hu&&(Hu=!1,Qu=e,Yu=i),a=e.pendingLanes,0===a&&(Wu=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Gu,Gu=null,e;0!==(1&Yu)&&0!==e.tag&&Il(),a=e.pendingLanes,0!==(1&a)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function Il(){if(null!==Qu){var e=wt(Yu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&xu))throw Error(s(331));var i=xu;for(xu|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($o=c;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nu(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(su(d),d===c){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var w=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,$o=w;else e:for(o=b;null!==$o;){if(0!==(2048&(u=$o).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(Zd){El(u,u.return,Zd)}if(u===o){$o=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,$o=_;break e}$o=u.return}}if(xu=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(Zd){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sl(e,t,n){e=Us(e,t=fo(0,t=uo(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function El(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Us(t,e=po(t,e=uo(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>Je()-ju?hl(e,0):Fu|=n),rl(e,t)}function kl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Os(e,t))&&(vt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function xl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kl(e,n)}function Nl(e,t){return He(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Al(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Ml(n.children,i,a,t);case E:o=8,i|=8;break;case T:return(e=Dl(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Dl(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Dl(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Ll(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case x:o=11;break e;case D:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function ql(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,s,a,o,u){return e=new Ul(e,t,n,o,u),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function jl(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function zl(e,t,n,r,i,s,a,o,u){return(e=Vl(n,r,!0,e,0,s,0,o,u)).context=jl(null),n=e.current,(s=Fs(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function Bl(e,t,n,r){var i=t.current,s=el(),a=tl(i);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nl(e,i,a,s),Vs(e,i,a)),a}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fs();break;case 5:Js(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Is,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qo(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Ko(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Ko(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=Di(t,xi.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=xo(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===D)return 14}return 2}(r),e=to(r,e),i){case 0:t=ko(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Io(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,qs(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=uo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=uo(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ko(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),To(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return qo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(Is,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){o=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Fs(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xs(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),Io(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Bo(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ns(t,n),so(t,r,i),oo(t,r,i,n),xo(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Hl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function Zl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Kl(a);o.call(e)}}Bl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(a);s.call(e)}}var a=zl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kl(u);o.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cl((function(){Bl(t,u,n,r)})),u}(n,t,e,i,r);return Kl(a)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bl(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Bl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&qt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Je()),0===(6&xu)&&(zu=Je()+500,zi()))}break;case 13:cl((function(){var t=Os(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},It=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Os(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ie=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ll,Ne=cl;var ec={usingClientEntryPoint:!1,Events:[bi,wi,_i,ke,Ce,ll]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Hl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Hl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(cl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===s[i]&&(s[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===s?"."+x(u,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var c=s+x(o=e[l],l);u+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)u+=N(o=o.value,t,i,c=s+x(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)I.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,u=e[o],l=o+1,c=e[l];if(0>s(u,n))l<i&&0>s(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[o]=n,r=o);else{if(!(l<i&&0>s(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,R(I);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var d=r(c);null!==d&&O(_,d.startTime-n),u=!1}return u}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){v(A,0)};function R(e){T=e,E||(E=!0,S())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(l)&&e===r(c)&&(g?(y(k),k=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(l,e),m||p||(m=!0,R(I))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)},895:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,a=r.useRef,o=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=u((function(){function e(e){if(!o){if(o=!0,s=e,e=r(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(s=e,a=n)}var s,a,o=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,c]);var f=s(e,d[0],d[1]);return o((function(){h.hasValue=!0,h.value=f}),[f]),l(f),f}},237:(e,t,n)=>{e.exports=n(895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".7ab4befc.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="react-blog:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,u;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),u&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/react-blog/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],u=r[2],l=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkreact_blog=self.webpackChunkreact_blog||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{FirebaseError:()=>Ui,SDK_VERSION:()=>ha,_DEFAULT_ENTRY_NAME:()=>ea,_addComponent:()=>ia,_addOrOverwriteComponent:()=>sa,_apps:()=>na,_clearComponents:()=>la,_components:()=>ra,_getProvider:()=>oa,_registerComponent:()=>aa,_removeServiceInstance:()=>ua,deleteApp:()=>ga,getApp:()=>pa,getApps:()=>ma,initializeApp:()=>fa,onLog:()=>ya,registerVersion:()=>va,setLogLevel:()=>ba});const i=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};var s,a=n(43),o=n.t(a,2),u=n(950),l=n.t(u,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u=s.Pop,l=null,f=v();function v(){return(o.state||{idx:null}).idx}function y(){u=s.Pop;let e=v(),t=null==e?null:e-f;f=e,l&&l({action:u,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(c({},o.state,{idx:f}),""));let w={get action(){return u},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d,y),l=e,()=>{i.removeEventListener(d,y),l=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=s.Push;let r=m(w.location,e,t);n&&n(r,e),f=v()+1;let c=p(r,f),d=w.createHref(r);try{o.pushState(c,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}a&&l&&l({action:u,location:w.location,delta:1})},replace:function(e,t){u=s.Replace;let r=m(w.location,e,t);n&&n(r,e),f=v();let i=p(r,f),c=w.createHref(r);o.replaceState(i,"",c),a&&l&&l({action:u,location:w.location,delta:0})},go:e=>o.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));const w=new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,String(i)],a="string"===typeof e.id?e.id:s.join("-");if(h(!0!==e.index||!e.children,"Cannot specify children on an index route"),h(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=c({},e,t(e),{id:a});return r[a]=n,n}{let n=c({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=_(e.children,t,s,r)),n}}))}function I(e,t,n){return void 0===n&&(n="/"),S(e,t,n,!1)}function S(e,t,n,r){let i=q(("string"===typeof t?v(t):t).pathname||"/",n);if(null==i)return null;let s=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=L(i);a=O(s[o],e,r)}return a}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:R(o,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of T(e.path))i(e,t,r);else i(e,t)})),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=T(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,C=3,x=2,N=1,A=10,D=-2,P=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=D),t&&(r+=x),n.filter((e=>!P(e))).reduce(((e,t)=>e+(k.test(t)?C:""===t?N:A)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],u=o===r.length-1,l="/"===s?t:t.slice(s.length)||"/",c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},l),d=e.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:z([s,c.pathname]),pathnameBase:B(z([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=z([s,c.pathnameBase]))}return a}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const u=o[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function V(e,t){let n=U(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=v(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),F("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?v(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:K(r),hash:G(i)}}(i,s),l=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return u.pathname.endsWith("/")||!l&&!d||(u.pathname+="/"),u}const z=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const W=function(e,t){void 0===t&&(t=302);let n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",e),new Response(null,c({},n,{headers:r}))};class H{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Y=["post","put","patch","delete"],X=new Set(Y),J=["get",...Y],$=new Set(J),Z=new Set([301,302,303,307,308]),ee=new Set([307,308]),te={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},re={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ae="remix-router-transitions";function oe(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(h(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=se;let a,o,u,l={},d=_(e.routes,i,void 0,l),p=e.basename||"/",g=e.unstable_dataStrategy||ve,v=e.unstable_patchRoutesOnMiss,y=c({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),w=null,E=new Set,T=null,k=null,C=null,x=null!=e.hydrationData,N=I(d,e.history.location,p),A=null;if(null==N&&!v){let t=De(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ae(d);N=n,A={[r.id]:t}}if(N)if(N.some((e=>e.route.lazy)))o=!1;else if(N.some((e=>e.route.loader)))if(y.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=N.findIndex((e=>void 0!==n[e.route.id]));o=N.slice(0,e+1).every(r)}else o=N.every(r)}else o=null!=e.hydrationData;else o=!0;else o=!1,N=[];let D,P={historyAction:e.history.action,location:e.history.location,matches:N,initialized:o,navigation:te,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},R=s.Pop,O=!1,M=!1,L=new Map,F=null,U=!1,V=!1,j=[],z=[],B=new Map,K=0,G=-1,W=new Map,H=new Set,Y=new Map,X=new Map,J=new Set,$=new Map,Z=new Map,oe=new Map,ce=!1;function he(e,t){void 0===t&&(t={}),P=c({},P,e);let n=[],r=[];y.v7_fetcherPersist&&P.fetchers.forEach(((e,t)=>{"idle"===e.state&&(J.has(t)?r.push(t):n.push(t))})),[...E].forEach((e=>e(P,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),y.v7_fetcherPersist&&(n.forEach((e=>P.fetchers.delete(e))),r.forEach((e=>Xe(e))))}function fe(t,n,r){var i,o;let u,{flushSync:l}=void 0===r?{}:r,h=null!=P.actionData&&null!=P.navigation.formMethod&&Ve(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?P.actionData:null;let f=n.loaderData?Ce(P.loaderData,n.loaderData,n.matches||[],n.errors):P.loaderData,p=P.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,re))));let m,g=!0===O||null!=P.navigation.formMethod&&Ve(P.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);if(a&&(d=a,a=void 0),U||R===s.Pop||(R===s.Push?e.history.push(t,t.state):R===s.Replace&&e.history.replace(t,t.state)),R===s.Pop){let e=L.get(P.location.pathname);e&&e.has(t.pathname)?m={currentLocation:P.location,nextLocation:t}:L.has(t.pathname)&&(m={currentLocation:t,nextLocation:P.location})}else if(M){let e=L.get(P.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(P.location.pathname,e)),m={currentLocation:P.location,nextLocation:t}}he(c({},n,{actionData:u,loaderData:f,historyAction:R,location:t,initialized:!0,navigation:te,revalidation:"idle",restoreScrollPosition:ut(t,n.matches||P.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===l}),R=s.Pop,O=!1,M=!1,U=!1,V=!1,j=[],z=[]}async function ge(t,n,r){D&&D.abort(),D=null,R=t,U=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(T&&C){let n=ot(e,t);T[n]=C()}}(P.location,P.matches),O=!0===(r&&r.preventScrollReset),M=!0===(r&&r.enableViewTransition);let i=a||d,o=r&&r.overrideNavigation,u=I(i,n,p),l=!0===(r&&r.flushSync),h=lt(u,i,n.pathname);if(h.active&&h.matches&&(u=h.matches),!u){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return void fe(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:l})}if(P.initialized&&!V&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(P.location,n)&&!(r&&r.submission&&Ve(r.submission.formMethod)))return void fe(n,{matches:u},{flushSync:l});D=new AbortController;let f,m=Ie(e.history,n,D.signal,r&&r.submission);if(r&&r.pendingError)f=[Ne(u).route.id,{type:b.error,error:r.pendingError}];else if(r&&r.submission&&Ve(r.submission.formMethod)){let t=await async function(e,t,n,r,i,a){void 0===a&&(a={});Fe();let o,u=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(he({navigation:u},{flushSync:!0===a.flushSync}),i){let n=await ct(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{error:e,notFoundMatches:r,route:i}=st(t.pathname,n);return{matches:r,pendingActionResult:[i.id,{type:b.error,error:e}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=it(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:b.error,error:n}]}}r=n.matches}let l=Ke(r,t);if(l.route.action||l.route.lazy){if(o=(await Te("action",e,[l],r))[0],e.signal.aborted)return{shortCircuited:!0}}else o={type:b.error,error:De(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(qe(o)){let t;if(a&&null!=a.replace)t=a.replace;else{t=_e(o.response.headers.get("Location"),new URL(e.url),p)===P.location.pathname+P.location.search}return await Ee(e,o,{submission:n,replace:t}),{shortCircuited:!0}}if(Me(o))throw De(400,{type:"defer-action"});if(Le(o)){let e=Ne(r,l.route.id);return!0!==(a&&a.replace)&&(R=s.Push),{matches:r,pendingActionResult:[e.route.id,o]}}return{matches:r,pendingActionResult:[l.route.id,o]}}(m,n,r.submission,u,h.active,{replace:r.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Le(r)&&Q(r.error)&&404===r.error.status)return D=null,void fe(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}u=t.matches||u,f=t.pendingActionResult,o=We(n,r.submission),l=!1,h.active=!1,m=Ie(e.history,m.url,m.signal)}let{shortCircuited:g,matches:v,loaderData:w,errors:_}=await async function(t,n,r,i,s,o,u,l,h,f,m){let g=s||We(n,o),v=o||u||Ge(g),b=!U&&(!y.v7_partialHydration||!h);if(i){if(b){let e=Se(m);he(c({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:f})}let e=await ct(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{error:t,notFoundMatches:r,route:i}=st(n.pathname,e);return{matches:r,loaderData:{},errors:{[i.id]:t}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let w=a||d,[_,I]=de(e.history,P,r,v,n,y.v7_partialHydration&&!0===h,y.unstable_skipActionErrorRevalidation,V,j,z,J,Y,H,w,p,m);if(at((e=>!(r&&r.some((t=>t.route.id===e)))||_&&_.some((t=>t.route.id===e)))),G=++K,0===_.length&&0===I.length){let e=Ze();return fe(n,c({matches:r,loaderData:{},errors:m&&Le(m[1])?{[m[0]]:m[1].error}:null},xe(m),e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(b){let e={};if(!i){e.navigation=g;let t=Se(m);void 0!==t&&(e.actionData=t)}I.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=P.fetchers.get(e.key),n=He(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)})),new Map(P.fetchers)}(I)),he(e,{flushSync:f})}I.forEach((e=>{B.has(e.key)&&Je(e.key),e.controller&&B.set(e.key,e.controller)}));let S=()=>I.forEach((e=>Je(e.key)));D&&D.signal.addEventListener("abort",S);let{loaderResults:E,fetcherResults:T}=await Re(P.matches,r,_,I,t);if(t.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",S);I.forEach((e=>B.delete(e.key)));let k=Pe([...E,...T]);if(k){if(k.idx>=_.length){let e=I[k.idx-_.length].key;H.add(e)}return await Ee(t,k.result,{replace:l}),{shortCircuited:!0}}let{loaderData:C,errors:x}=ke(P,r,_,E,m,I,T,$);$.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&$.delete(t)}))})),y.v7_partialHydration&&h&&P.errors&&Object.entries(P.errors).filter((e=>{let[t]=e;return!_.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;x=Object.assign(x||{},{[t]:n})}));let N=Ze(),A=et(G),R=N||A||I.length>0;return c({matches:r,loaderData:C,errors:x},R?{fetchers:new Map(P.fetchers)}:{})}(m,n,u,h.active,o,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,l,f);g||(D=null,fe(n,c({matches:v||u},xe(f),{loaderData:w,errors:_})))}function Se(e){return e&&!Le(e[1])?{[e[0]]:e[1].data}:P.actionData?0===Object.keys(P.actionData).length?null:P.actionData:void 0}async function Ee(r,i,a){let{submission:o,fetcherSubmission:u,replace:l}=void 0===a?{}:a;i.response.headers.has("X-Remix-Revalidate")&&(V=!0);let d=i.response.headers.get("Location");h(d,"Expected a Location header on the redirect Response"),d=_e(d,new URL(r.url),p);let f=m(P.location,d,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ie.test(d)){const r=e.history.createURL(d);n=r.origin!==t.location.origin||null==q(r.pathname,p)}if(n)return void(l?t.location.replace(d):t.location.assign(d))}D=null;let g=!0===l?s.Replace:s.Push,{formMethod:v,formAction:y,formEncType:b}=P.navigation;!o&&!u&&v&&y&&b&&(o=Ge(P.navigation));let w=o||u;if(ee.has(i.response.status)&&w&&Ve(w.formMethod))await ge(g,f,{submission:c({},w,{formAction:d}),preventScrollReset:O});else{let e=We(f,o);await ge(g,f,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:O})}}async function Te(e,t,n,r){try{let s=await ye(g,e,t,n,r,l,i);return await Promise.all(s.map(((e,i)=>{if(Oe(e)){let s=e.result;return{type:b.redirect,response:we(s,t,n[i].route.id,r,p,y.v7_relativeSplatPath)}}return be(e)})))}catch(s){return n.map((()=>({type:b.error,error:s})))}}async function Re(t,n,r,i,s){let[a,...o]=await Promise.all([r.length?Te("loader",s,r,n):[],...i.map((t=>{if(t.matches&&t.match&&t.controller){return Te("loader",Ie(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:b.error,error:De(404,{pathname:t.path})})}))]);return await Promise.all([je(t,r,a,a.map((()=>s.signal)),!1,P.loaderData),je(t,i.map((e=>e.match)),o,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:a,fetcherResults:o}}function Fe(){V=!0,j.push(...at()),Y.forEach(((e,t)=>{B.has(t)&&(z.push(t),Je(t))}))}function Ue(e,t,n){void 0===n&&(n={}),P.fetchers.set(e,t),he({fetchers:new Map(P.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Be(e,t,n,r){void 0===r&&(r={});let i=Ne(P.matches,t);Xe(e),he({errors:{[i.route.id]:n},fetchers:new Map(P.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Ye(e){return y.v7_fetcherPersist&&(X.set(e,(X.get(e)||0)+1),J.has(e)&&J.delete(e)),P.fetchers.get(e)||ne}function Xe(e){let t=P.fetchers.get(e);!B.has(e)||t&&"loading"===t.state&&W.has(e)||Je(e),Y.delete(e),W.delete(e),H.delete(e),J.delete(e),P.fetchers.delete(e)}function Je(e){let t=B.get(e);h(t,"Expected fetch controller: "+e),t.abort(),B.delete(e)}function $e(e){for(let t of e){let e=Qe(Ye(t).data);P.fetchers.set(t,e)}}function Ze(){let e=[],t=!1;for(let n of H){let r=P.fetchers.get(n);h(r,"Expected fetcher: "+n),"loading"===r.state&&(H.delete(n),e.push(n),t=!0)}return $e(e),t}function et(e){let t=[];for(let[n,r]of W)if(r<e){let e=P.fetchers.get(n);h(e,"Expected fetcher: "+n),"loading"===e.state&&(Je(n),W.delete(n),t.push(n))}return $e(t),t.length>0}function tt(e){P.blockers.delete(e),Z.delete(e)}function nt(e,t){let n=P.blockers.get(e)||re;h("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(P.blockers);r.set(e,t),he({blockers:r})}function rt(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===Z.size)return;Z.size>1&&f(!1,"A router only supports one blocker at a time");let i=Array.from(Z.entries()),[s,a]=i[i.length-1],o=P.blockers.get(s);return o&&"proceeding"===o.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function it(e){let t=De(404,{pathname:e}),n=a||d,{matches:r,route:i}=Ae(n);return at(),{notFoundMatches:r,route:i,error:t}}function st(e,t){let n=t.partialMatches,r=n[n.length-1].route;return{notFoundMatches:n,route:r,error:De(400,{type:"route-discovery",routeId:r.id,pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function at(e){let t=[];return $.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),$.delete(r))})),t}function ot(e,t){if(k){return k(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,P.loaderData))))||e.key}return e.key}function ut(e,t){if(T){let n=ot(e,t),r=T[n];if("number"===typeof r)return r}return null}function lt(e,t,n){if(v){if(!e){return{active:!0,matches:S(t,n,p,!0)||[]}}if("*"===e[e.length-1].route.path){return{active:!0,matches:S(t,n,p,!0)}}}return{active:!1,matches:null}}async function ct(e,t,n){let r=e,s=r.length>0?r[r.length-1].route:null;for(;;){try{await pe(v,t,r,d||a,l,i,oe,n)}catch(o){return{type:"error",error:o,partialMatches:r}}if(n.aborted)return{type:"aborted"};let e=a||d,u=I(e,t,p),c=!1;if(u){let e=u[u.length-1].route;if(e.index)return{type:"success",matches:u};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:u};c=!0}}let h=S(e,t,p,!0);if(!h||r.map((e=>e.route.id)).join("-")===h.map((e=>e.route.id)).join("-"))return{type:"success",matches:c?u:null};if(r=h,s=r[r.length-1].route,"*"===s.path)return{type:"success",matches:r}}}return u={get basename(){return p},get future(){return y},get state(){return P},get routes(){return d},get window(){return t},initialize:function(){if(w=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(ce)return void(ce=!1);f(0===Z.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=rt({currentLocation:P.location,nextLocation:r,historyAction:n});return s&&null!=i?(ce=!0,e.history.go(-1*i),void nt(s,{state:"blocked",location:r,proceed(){nt(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(P.blockers);e.set(s,re),he({blockers:e})}})):ge(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(ae);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,L);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ae,JSON.stringify(r))}catch(n){f(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,L);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return P.initialized||ge(s.Pop,P.location,{initialHydration:!0}),u},subscribe:function(e){return E.add(e),()=>E.delete(e)},enableScrollRestoration:function(e,t,n){if(T=e,C=t,k=n||null,!x&&P.navigation===te){x=!0;let e=ut(P.location,P.matches);null!=e&&he({restoreScrollPosition:e})}return()=>{T=null,C=null,k=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=ue(P.location,P.matches,p,y.v7_prependBasename,n,y.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:a,submission:o,error:u}=le(y.v7_normalizeFormMethod,!1,i,r),l=P.location,d=m(P.location,a,r&&r.state);d=c({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=s.Push;!0===h?f=s.Replace:!1===h||null!=o&&Ve(o.formMethod)&&o.formAction===P.location.pathname+P.location.search&&(f=s.Replace);let g=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=!0===(r&&r.unstable_flushSync),b=rt({currentLocation:l,nextLocation:d,historyAction:f});if(!b)return await ge(f,d,{submission:o,pendingError:u,preventScrollReset:g,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:v});nt(b,{state:"blocked",location:d,proceed(){nt(b,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(P.blockers);e.set(b,re),he({blockers:e})}})},fetch:function(t,n,i,s){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(t)&&Je(t);let o=!0===(s&&s.unstable_flushSync),u=a||d,l=ue(P.location,P.matches,p,y.v7_prependBasename,i,y.v7_relativeSplatPath,n,null==s?void 0:s.relative),c=I(u,l,p),f=lt(c,u,l);if(f.active&&f.matches&&(c=f.matches),!c)return void Be(t,n,De(404,{pathname:l}),{flushSync:o});let{path:m,submission:g,error:v}=le(y.v7_normalizeFormMethod,!0,l,s);if(v)return void Be(t,n,v,{flushSync:o});let b=Ke(c,m);O=!0===(s&&s.preventScrollReset),g&&Ve(g.formMethod)?async function(t,n,r,i,s,o,u,l){function c(e){if(!e.route.action&&!e.route.lazy){let e=De(405,{method:l.formMethod,pathname:r,routeId:n});return Be(t,n,e,{flushSync:u}),!0}return!1}if(Fe(),Y.delete(t),!o&&c(i))return;let f=P.fetchers.get(t);Ue(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(l,f),{flushSync:u});let m=new AbortController,g=Ie(e.history,r,m.signal,l);if(o){let e=await ct(s,r,g.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=st(r,e);return void Be(t,n,i,{flushSync:u})}if(!e.matches)return void Be(t,n,De(404,{pathname:r}),{flushSync:u});if(c(i=Ke(s=e.matches,r)))return}B.set(t,m);let v=K,b=await Te("action",g,[i],s),w=b[0];if(g.signal.aborted)return void(B.get(t)===m&&B.delete(t));if(y.v7_fetcherPersist&&J.has(t)){if(qe(w)||Le(w))return void Ue(t,Qe(void 0))}else{if(qe(w))return B.delete(t),G>v?void Ue(t,Qe(void 0)):(H.add(t),Ue(t,He(l)),Ee(g,w,{fetcherSubmission:l}));if(Le(w))return void Be(t,n,w.error)}if(Me(w))throw De(400,{type:"defer-action"});let _=P.navigation.location||P.location,S=Ie(e.history,_,m.signal),E=a||d,T="idle"!==P.navigation.state?I(E,P.navigation.location,p):P.matches;h(T,"Didn't find any matches after fetcher action");let k=++K;W.set(t,k);let C=He(l,w.data);P.fetchers.set(t,C);let[x,N]=de(e.history,P,T,l,_,!1,y.unstable_skipActionErrorRevalidation,V,j,z,J,Y,H,E,p,[i.route.id,w]);N.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=P.fetchers.get(t),r=He(void 0,n?n.data:void 0);P.fetchers.set(t,r),B.has(t)&&Je(t),e.controller&&B.set(t,e.controller)})),he({fetchers:new Map(P.fetchers)});let A=()=>N.forEach((e=>Je(e.key)));m.signal.addEventListener("abort",A);let{loaderResults:O,fetcherResults:M}=await Re(P.matches,T,x,N,S);if(m.signal.aborted)return;m.signal.removeEventListener("abort",A),W.delete(t),B.delete(t),N.forEach((e=>B.delete(e.key)));let L=Pe([...O,...M]);if(L){if(L.idx>=x.length){let e=N[L.idx-x.length].key;H.add(e)}return Ee(S,L.result)}let{loaderData:q,errors:F}=ke(P,P.matches,x,O,void 0,N,M,$);if(P.fetchers.has(t)){let e=Qe(w.data);P.fetchers.set(t,e)}et(k),"loading"===P.navigation.state&&k>G?(h(R,"Expected pending action"),D&&D.abort(),fe(P.navigation.location,{matches:T,loaderData:q,errors:F,fetchers:new Map(P.fetchers)})):(he({errors:F,loaderData:Ce(P.loaderData,q,T,F),fetchers:new Map(P.fetchers)}),V=!1)}(t,n,m,b,c,f.active,o,g):(Y.set(t,{routeId:n,path:m}),async function(t,n,r,i,s,a,o,u){let l=P.fetchers.get(t);Ue(t,He(u,l?l.data:void 0),{flushSync:o});let c=new AbortController,d=Ie(e.history,r,c.signal);if(a){let e=await ct(s,r,d.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=st(r,e);return void Be(t,n,i,{flushSync:o})}if(!e.matches)return void Be(t,n,De(404,{pathname:r}),{flushSync:o});i=Ke(s=e.matches,r)}B.set(t,c);let f=K,p=await Te("loader",d,[i],s),m=p[0];Me(m)&&(m=await ze(m,d.signal,!0)||m);B.get(t)===c&&B.delete(t);if(d.signal.aborted)return;if(J.has(t))return void Ue(t,Qe(void 0));if(qe(m))return G>f?void Ue(t,Qe(void 0)):(H.add(t),void await Ee(d,m));if(Le(m))return void Be(t,n,m.error);h(!Me(m),"Unhandled fetcher deferred data"),Ue(t,Qe(m.data))}(t,n,m,b,c,f.active,o,g))},revalidate:function(){Fe(),he({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?ge(R||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation}):ge(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ye,deleteFetcher:function(e){if(y.v7_fetcherPersist){let t=(X.get(e)||0)-1;t<=0?(X.delete(e),J.add(e)):X.set(e,t)}else Xe(e);he({fetchers:new Map(P.fetchers)})},dispose:function(){w&&w(),F&&F(),E.clear(),D&&D.abort(),P.fetchers.forEach(((e,t)=>Xe(t))),P.blockers.forEach(((e,t)=>tt(t)))},getBlocker:function(e,t){let n=P.blockers.get(e)||re;return Z.get(e)!==t&&Z.set(e,t),n},deleteBlocker:tt,patchRoutes:(e,t)=>me(e,t,d||a,l,i),_internalFetchControllers:B,_internalActiveDeferreds:$,_internalSetRoutes:function(e){l={},a=_(e,i,void 0,l)}},u}Symbol("deferred");function ue(e,t,n,r,i,s,a,o){let u,l;if(a){u=[];for(let e of t)if(u.push(e),e.route.id===a){l=e;break}}else u=t,l=t[t.length-1];let c=j(i||".",V(u,s),q(e.pathname,n)||e.pathname,"path"===o);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||Be(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:z([n,c.pathname])),g(c)}function le(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Ue(r.formMethod))return{path:n,error:De(405,{method:r.formMethod})};let i,s,a=()=>({path:n,error:De(400,{type:"invalid-body"})}),o=r.formMethod||"get",u=e?o.toUpperCase():o.toLowerCase(),l=Re(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ve(u))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ve(u))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return a()}}}if(h("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Se(r.formData),s=r.formData;else if(r.body instanceof FormData)i=Se(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=Ee(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=Ee(i)}catch(f){return a()}let c={formMethod:u,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ve(c.formMethod))return{path:n,submission:c};let d=v(n);return t&&d.search&&Be(d.search)&&i.append("index",""),d.search="?"+i,{path:g(d),submission:c}}function ce(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function de(e,t,n,r,i,s,a,o,u,l,d,h,f,p,m,g){let v=g?Le(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),b=e.createURL(i),w=g&&Le(g[1])?g[0]:void 0,_=w?ce(n,w):n,S=g?g[1].statusCode:void 0,E=a&&S&&S>=400,T=_.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!("function"===typeof i.loader&&!i.loader.hydrate)||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||u.some((t=>t===e.route.id)))return!0;let a=t.matches[n],l=e;return fe(e,c({currentUrl:y,currentParams:a.params,nextUrl:b,nextParams:l.params},r,{actionResult:v,unstable_actionStatus:S,defaultShouldRevalidate:!E&&(o||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||he(a,l))}))})),k=[];return h.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||d.has(i))return;let a=I(p,e.path,m);if(!a)return void k.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let u=t.fetchers.get(i),h=Ke(a,e.path),g=!1;g=!f.has(i)&&(!!l.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?o:fe(h,c({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:v,unstable_actionStatus:S,defaultShouldRevalidate:!E&&o})))),g&&k.push({key:i,routeId:e.routeId,path:e.path,matches:a,match:h,controller:new AbortController})})),[T,k]}function he(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function fe(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function pe(e,t,n,r,i,s,a,o){let u=[t,...n.map((e=>e.route.id))].join("-");try{let c=a.get(u);c||(c=e({path:t,matches:n,patch:(e,t)=>{o.aborted||me(e,t,r,i,s)}}),a.set(u,c)),c&&("object"===typeof(l=c)&&null!=l&&"then"in l)&&await c}finally{a.delete(u)}var l}function me(e,t,n,r,i){if(e){var s;let n=r[e];h(n,"No route found to patch children into: routeId = "+e);let a=_(t,i,[e,"patch",String((null==(s=n.children)?void 0:s.length)||"0")],r);n.children?n.children.push(...a):n.children=a}else{let e=_(t,i,["patch",String(n.length||"0")],r);n.push(...e)}}async function ge(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];h(i,"No route found in manifest");let s={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;f(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||w.has(a)||(s[a]=r[a])}Object.assign(i,s),Object.assign(i,c({},t(i),{lazy:void 0}))}function ve(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function ye(e,t,n,r,i,s,a,o){let u=r.reduce(((e,t)=>e.add(t.route.id)),new Set),l=new Set,d=await e({matches:i.map((e=>{let r=u.has(e.route.id);return c({},e,{shouldLoad:r,resolve:i=>(l.add(e.route.id),r?async function(e,t,n,r,i,s,a){let o,u,l=r=>{let i,o=new Promise(((e,t)=>i=t));u=()=>i(),t.signal.addEventListener("abort",u);let l,c=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:a},...void 0!==i?[i]:[]);return l=s?s((e=>c(e))):(async()=>{try{return{type:"data",result:await c()}}catch(e){return{type:"error",result:e}}})(),Promise.race([l,o])};try{let s=n.route[e];if(n.route.lazy)if(s){let e,[t]=await Promise.all([l(s).catch((t=>{e=t})),ge(n.route,i,r)]);if(void 0!==e)throw e;o=t}else{if(await ge(n.route,i,r),s=n.route[e],!s){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw De(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:b.data,result:void 0}}o=await l(s)}else{if(!s){let e=new URL(t.url);throw De(404,{pathname:e.pathname+e.search})}o=await l(s)}h(void 0!==o.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(c){return{type:b.error,result:c}}finally{u&&t.signal.removeEventListener("abort",u)}return o}(t,n,e,s,a,i,o):Promise.resolve({type:b.data,result:void 0}))})})),request:n,params:i[0].params,context:o});return i.forEach((e=>h(l.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),d.filter(((e,t)=>u.has(i[t].route.id)))}async function be(e){let{result:t,type:n,status:r}=e;if(Fe(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(a){return{type:b.error,error:a}}return n===b.error?{type:b.error,error:new H(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:b.data,data:e,statusCode:t.status,headers:t.headers}}return n===b.error?{type:b.error,error:t,statusCode:Q(t)?t.status:r}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:b.deferred,deferredData:t,statusCode:null==(i=t.init)?void 0:i.status,headers:(null==(s=t.init)?void 0:s.headers)&&new Headers(t.init.headers)}:{type:b.data,data:t,statusCode:r};var i,s}function we(e,t,n,r,i,s){let a=e.headers.get("Location");if(h(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!ie.test(a)){let o=r.slice(0,r.findIndex((e=>e.route.id===n))+1);a=ue(new URL(t.url),o,i,!0,a,s),e.headers.set("Location",a)}return e}function _e(e,t,n){if(ie.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=null!=q(i.pathname,n);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Ie(e,t,n,r){let i=e.createURL(Re(t)).toString(),s={signal:n};if(r&&Ve(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=Se(r.formData):s.body=r.formData}return new Request(i,s)}function Se(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function Ee(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Te(e,t,n,r,i,s){let a,o={},u=null,l=!1,c={},d=r&&Le(r[1])?r[1].error:void 0;return n.forEach(((n,r)=>{let f=t[r].route.id;if(h(!qe(n),"Cannot handle redirect results in processLoaderData"),Le(n)){let t=n.error;if(void 0!==d&&(t=d,d=void 0),u=u||{},s)u[f]=t;else{let n=Ne(e,f);null==u[n.route.id]&&(u[n.route.id]=t)}o[f]=void 0,l||(l=!0,a=Q(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Me(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(c[f]=n.headers)):(o[f]=n.data,n.statusCode&&200!==n.statusCode&&!l&&(a=n.statusCode),n.headers&&(c[f]=n.headers))})),void 0!==d&&r&&(u={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function ke(e,t,n,r,i,s,a,o){let{loaderData:u,errors:l}=Te(t,n,r,i,o,!1);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:r}=s[d];h(void 0!==a&&void 0!==a[d],"Did not find corresponding fetcher result");let i=a[d];if(!r||!r.signal.aborted)if(Le(i)){let r=Ne(e.matches,null==n?void 0:n.route.id);l&&l[r.route.id]||(l=c({},l,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(qe(i))h(!1,"Unhandled fetcher revalidation redirect");else if(Me(i))h(!1,"Unhandled fetcher deferred data");else{let n=Qe(i.data);e.fetchers.set(t,n)}}return{loaderData:u,errors:l}}function Ce(e,t,n,r){let i=c({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function xe(e){return e?Le(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ne(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ae(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function De(e,t){let{pathname:n,routeId:r,method:i,type:s,message:a}=void 0===t?{}:t,o="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(o="Bad Request","route-discovery"===s?u='Unable to match URL "'+n+'" - the `children()` function for route `'+r+"` threw the following error:\n"+a:i&&n&&r?u="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?u="defer() is not supported in actions":"invalid-body"===s&&(u="Unable to encode submission body")):403===e?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",u='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new H(e||500,o,new Error(u),!0)}function Pe(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(qe(n))return{result:n,idx:t}}}function Re(e){return g(c({},"string"===typeof e?v(e):e,{hash:""}))}function Oe(e){return Fe(e.result)&&Z.has(e.result.status)}function Me(e){return e.type===b.deferred}function Le(e){return e.type===b.error}function qe(e){return(e&&e.type)===b.redirect}function Fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ue(e){return $.has(e.toLowerCase())}function Ve(e){return X.has(e.toLowerCase())}async function je(e,t,n,r,i,s){for(let a=0;a<n.length;a++){let o=n[a],u=t[a];if(!u)continue;let l=e.find((e=>e.route.id===u.route.id)),c=null!=l&&!he(l,u)&&void 0!==(s&&s[u.route.id]);if(Me(o)&&(i||c)){let e=r[a];h(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await ze(o,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function ze(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:b.data,data:e.deferredData.unwrappedData}}catch(r){return{type:b.error,error:r}}return{type:b.data,data:e.deferredData.data}}}function Be(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ke(e,t){let n="string"===typeof t?v(t).search:t.search;if(e[e.length-1].route.index&&Be(n||""))return e[e.length-1];let r=U(e);return r[r.length-1]}function Ge(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function We(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function He(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Qe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}const Xe=a.createContext(null);const Je=a.createContext(null);const $e=a.createContext(null);const Ze=a.createContext(null);const et=a.createContext({outlet:null,matches:[],isDataRoute:!1});const tt=a.createContext(null);function nt(){return null!=a.useContext(Ze)}function rt(){return nt()||h(!1),a.useContext(Ze).location}function it(e){a.useContext($e).static||a.useLayoutEffect(e)}function st(){let{isDataRoute:e}=a.useContext(et);return e?function(){let{router:e}=vt(mt.UseNavigateStable),t=bt(gt.UseNavigateStable),n=a.useRef(!1);it((()=>{n.current=!0}));let r=a.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Ye({fromRouteId:t},i)))}),[e,t]);return r}():function(){nt()||h(!1);let e=a.useContext(Xe),{basename:t,future:n,navigator:r}=a.useContext($e),{matches:i}=a.useContext(et),{pathname:s}=rt(),o=JSON.stringify(V(i,n.v7_relativeSplatPath)),u=a.useRef(!1);it((()=>{u.current=!0}));let l=a.useCallback((function(n,i){if(void 0===i&&(i={}),!u.current)return;if("number"===typeof n)return void r.go(n);let a=j(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:z([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,o,s,e]);return l}()}const at=a.createContext(null);function ot(){let{matches:e}=a.useContext(et),t=e[e.length-1];return t?t.params:{}}function ut(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext($e),{matches:i}=a.useContext(et),{pathname:s}=rt(),o=JSON.stringify(V(i,r.v7_relativeSplatPath));return a.useMemo((()=>j(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function lt(e,t,n,r){nt()||h(!1);let{navigator:i}=a.useContext($e),{matches:o}=a.useContext(et),u=o[o.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let d,f=rt();if(t){var p;let e="string"===typeof t?v(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",g=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=I(e,{pathname:g});let b=pt(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:z([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:z([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&b?a.createElement(Ze.Provider,{value:{location:Ye({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},b):b}function ct(){let e=function(){var e;let t=a.useContext(tt),n=yt(gt.UseRouteError),r=bt(gt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const dt=a.createElement(ct,null);class ht extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(et.Provider,{value:this.props.routeContext},a.createElement(tt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ft(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(Xe);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(et.Provider,{value:t},r)}function pt(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){let e=o.findIndex((e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id])));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=a),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let s,d=!1,h=null,f=null;var p;n&&(s=u&&r.route.id?u[r.route.id]:void 0,h=r.route.errorElement||dt,l&&(c<0&&0===i?(p="route-fallback",!1||wt[p]||(wt[p]=!0),d=!0,f=null):c===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=s?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ft,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(ht,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var mt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mt||{}),gt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gt||{});function vt(e){let t=a.useContext(Xe);return t||h(!1),t}function yt(e){let t=a.useContext(Je);return t||h(!1),t}function bt(e){let t=function(e){let t=a.useContext(et);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const wt={};o.startTransition;function _t(e){return function(e){let t=a.useContext(et).outlet;return t?a.createElement(at.Provider,{value:e},t):t}(e.context)}function It(e){let{basename:t="/",children:n=null,location:r,navigationType:i=s.Pop,navigator:o,static:u=!1,future:l}=e;nt()&&h(!1);let c=t.replace(/^\/*/,"/"),d=a.useMemo((()=>({basename:c,navigator:o,static:u,future:Ye({v7_relativeSplatPath:!1},l)})),[c,l,o,u]);"string"===typeof r&&(r=v(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=r,b=a.useMemo((()=>{let e=q(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}}),[c,f,p,m,g,y,i]);return null==b?null:a.createElement($e.Provider,{value:d},a.createElement(Ze.Provider,{children:n,value:b}))}new Promise((()=>{}));a.Component;function St(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:a.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:a.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:a.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}function Tt(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const kt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Px){}function Ct(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Et({},t,{errors:xt(t.errors)})),t}function xt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new H(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(Px){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const Nt=a.createContext({isTransitioning:!1});const At=a.createContext(new Map);const Dt=o.startTransition,Pt=l.flushSync;o.useId;function Rt(e){Pt?Pt(e):e()}class Ot{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Mt(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=a.useState(n.state),[o,u]=a.useState(),[l,c]=a.useState({isTransitioning:!1}),[d,h]=a.useState(),[f,p]=a.useState(),[m,g]=a.useState(),v=a.useRef(new Map),{v7_startTransition:y}=r||{},b=a.useCallback((e=>{y?function(e){Dt?Dt(e):e()}(e):e()}),[y]),w=a.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:a}=t;r.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let o=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(a&&!o){if(i){Rt((()=>{f&&(d&&d.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})}));let t=n.window.document.startViewTransition((()=>{Rt((()=>s(e)))}));return t.finished.finally((()=>{Rt((()=>{h(void 0),p(void 0),u(void 0),c({isTransitioning:!1})}))})),void Rt((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(u(e),c({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?Rt((()=>s(e))):b((()=>s(e)))}),[n.window,f,d,v,b]);a.useLayoutEffect((()=>n.subscribe(w)),[n,w]),a.useEffect((()=>{l.isTransitioning&&!l.flushSync&&h(new Ot)}),[l]),a.useEffect((()=>{if(d&&o&&n.window){let e=o,t=d.promise,r=n.window.document.startViewTransition((async()=>{b((()=>s(e))),await t}));r.finished.finally((()=>{h(void 0),p(void 0),u(void 0),c({isTransitioning:!1})})),p(r)}}),[b,o,d,n.window]),a.useEffect((()=>{d&&o&&i.location.key===o.location.key&&d.resolve()}),[d,f,i.location,o]),a.useEffect((()=>{!l.isTransitioning&&m&&(u(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[l.isTransitioning,m]),a.useEffect((()=>{}),[]);let _=a.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),I=n.basename||"/",S=a.useMemo((()=>({router:n,navigator:_,static:!1,basename:I})),[n,_,I]);return a.createElement(a.Fragment,null,a.createElement(Xe.Provider,{value:S},a.createElement(Je.Provider,{value:i},a.createElement(At.Provider,{value:v.current},a.createElement(Nt.Provider,{value:l},a.createElement(It,{basename:I,location:i.location,navigationType:i.historyAction,navigator:_,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?a.createElement(Lt,{routes:n.routes,future:n.future,state:i}):t))))),null)}function Lt(e){let{routes:t,future:n,state:r}=e;return lt(t,void 0,r,n)}const qt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=a.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=Tt(e,kt),{basename:m}=a.useContext($e),v=!1;if("string"===typeof c&&Ft.test(c)&&(n=c,qt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=q(t.pathname,m);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:v=!0}catch(Px){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;nt()||h(!1);let{basename:r,navigator:i}=a.useContext($e),{hash:s,pathname:o,search:u}=ut(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:z([r,o])),i.createHref({pathname:l,search:u,hash:s})}(c,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u}=void 0===t?{}:t,l=st(),c=rt(),d=ut(e,{relative:o});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(c)===g(d);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u})}}),[c,l,d,r,i,n,e,s,o,u])}(c,{replace:o,state:u,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});return a.createElement("a",Et({},p,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:l}))}));var Vt,jt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vt||(Vt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(jt||(jt={}));var zt=n(391),Bt=n(237),Kt=a,Gt=Symbol.for("react-redux-context"),Wt="undefined"!==typeof globalThis?globalThis:{};function Ht(){var e;if(!Kt.createContext)return{};const t=null!==(e=Wt[Gt])&&void 0!==e?e:Wt[Gt]=new Map;let n=t.get(Kt.createContext);return n||(n=Kt.createContext(null),t.set(Kt.createContext,n)),n}var Qt=Ht(),Yt=()=>{throw new Error("uSES not initialized!")};function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return function(){return Kt.useContext(e)}}var Jt=Xt(),$t=Yt,Zt=(e,t)=>e===t;function en(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=e===Qt?Jt:Xt(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=Zt,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:a,getServerState:o,stabilityCheck:u,identityFunctionCheck:l}=t(),c=(Kt.useRef(!0),Kt.useCallback({[e.name]:t=>e(t)}[e.name],[e,u,i.stabilityCheck])),d=$t(a.addNestedSub,s.getState,o||s.getState,c,r);return Kt.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var tn=en();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function nn(e){e()}var rn={notify(){},get:()=>[]};function sn(e,t){let n,r=rn,i=0,s=!1;function a(){l.onStateChange&&l.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nn((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=rn)}const l={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,u())},getListeners:()=>r};return l}var an=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),on="undefined"!==typeof navigator&&"ReactNative"===navigator.product,un=an||on?Kt.useLayoutEffect:Kt.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ln=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:a="once"}=e;const o=Kt.useMemo((()=>{const e=sn(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:a}}),[t,i,s,a]),u=Kt.useMemo((()=>t.getState()),[t]);un((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);const l=n||Qt;return Kt.createElement(l.Provider,{value:o},r)};function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=e===Qt?Jt:Xt(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var dn=cn();function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=e===Qt?dn:cn(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var fn=hn();(e=>{$t=e})(Bt.useSyncExternalStoreWithSelector),(e=>{e})(a.useSyncExternalStore);var pn=Symbol.for("immer-nothing"),mn=Symbol.for("immer-draftable"),gn=Symbol.for("immer-state");function vn(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var yn=Object.getPrototypeOf;function bn(e){return!!e&&!!e[gn]}function wn(e){var t;return!!e&&(In(e)||Array.isArray(e)||!!e[mn]||!(null===(t=e.constructor)||void 0===t||!t[mn])||Cn(e)||xn(e))}var _n=Object.prototype.constructor.toString();function In(e){if(!e||"object"!==typeof e)return!1;const t=yn(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===_n}function Sn(e,t){0===En(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function En(e){const t=e[gn];return t?t.type_:Array.isArray(e)?1:Cn(e)?2:xn(e)?3:0}function Tn(e,t){return 2===En(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kn(e,t,n){const r=En(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Cn(e){return e instanceof Map}function xn(e){return e instanceof Set}function Nn(e){return e.copy_||e.base_}function An(e,t){if(Cn(e))return new Map(e);if(xn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=In(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[gn];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(yn(e),t)}{const t=yn(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rn(e)||bn(e)||!wn(e)||(En(e)>1&&(e.set=e.add=e.clear=e.delete=Pn),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Dn(n,!0)}))),e}function Pn(){vn(2)}function Rn(e){return Object.isFrozen(e)}var On,Mn={};function Ln(e){const t=Mn[e];return t||vn(0),t}function qn(){return On}function Fn(e,t){t&&(Ln("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Un(e){Vn(e),e.drafts_.forEach(zn),e.drafts_=null}function Vn(e){e===On&&(On=e.parent_)}function jn(e){return On={drafts_:[],parent_:On,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zn(e){const t=e[gn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Bn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[gn].modified_&&(Un(t),vn(4)),wn(e)&&(e=Kn(t,e),t.parent_||Wn(t,e)),t.patches_&&Ln("Patches").generateReplacementPatches_(n[gn].base_,e,t.patches_,t.inversePatches_)):e=Kn(t,n,[]),Un(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pn?e:void 0}function Kn(e,t,n){if(Rn(t))return t;const r=t[gn];if(!r)return Sn(t,((i,s)=>Gn(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Wn(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),Sn(i,((i,a)=>Gn(e,r,t,i,a,n,s))),Wn(e,t,!1),n&&e.patches_&&Ln("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Gn(e,t,n,r,i,s,a){if(bn(i)){const a=Kn(e,i,s&&t&&3!==t.type_&&!Tn(t.assigned_,r)?s.concat(r):void 0);if(kn(n,r,a),!bn(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(wn(i)&&!Rn(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Kn(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Wn(e,i)}}function Wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dn(t,n)}var Hn={get(e,t){if(t===gn)return e;const n=Nn(e);if(!Tn(n,t))return function(e,t,n){var r;const i=Xn(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!wn(r)?r:r===Yn(e.base_,t)?($n(e),e.copy_[t]=Zn(r,e)):r},has:(e,t)=>t in Nn(e),ownKeys:e=>Reflect.ownKeys(Nn(e)),set(e,t,n){const r=Xn(Nn(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Yn(Nn(e),t),i=null===r||void 0===r?void 0:r[gn];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Tn(e.base_,t)))return!0;$n(e),Jn(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Yn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,$n(e),Jn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Nn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){vn(11)},getPrototypeOf:e=>yn(e.base_),setPrototypeOf(){vn(12)}},Qn={};function Yn(e,t){const n=e[gn];return(n?Nn(n):e)[t]}function Xn(e,t){if(!(t in e))return;let n=yn(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=yn(n)}}function Jn(e){e.modified_||(e.modified_=!0,e.parent_&&Jn(e.parent_))}function $n(e){e.copy_||(e.copy_=An(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Sn(Hn,((e,t)=>{Qn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Qn.deleteProperty=function(e,t){return Qn.set.call(this,e,t,void 0)},Qn.set=function(e,t,n){return Hn.set.call(this,e[0],t,n,e[0])};function Zn(e,t){const n=Cn(e)?Ln("MapSet").proxyMap_(e,t):xn(e)?Ln("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Hn;n&&(i=[r],s=Qn);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}(e,t);return(t?t.scope_:qn()).drafts_.push(n),n}function er(e){return bn(e)||vn(10),tr(e)}function tr(e){if(!wn(e)||Rn(e))return e;const t=e[gn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=An(e,t.scope_.immer_.useStrictShallowCopy_)}else n=An(e,!0);return Sn(n,((e,t)=>{kn(n,e,tr(t))})),t&&(t.finalized_=!1),n}var nr=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&vn(6),void 0!==n&&"function"!==typeof n&&vn(7),wn(e)){const i=jn(this),s=Zn(e,void 0);let a=!0;try{r=t(s),a=!1}finally{a?Un(i):Vn(i)}return Fn(i,n),Bn(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===pn&&(r=void 0),this.autoFreeze_&&Dn(r,!0),n){const t=[],i=[];Ln("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}vn(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const s=this.produce(e,n,((e,t)=>{r=e,i=t}));return[s,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wn(e)||vn(8),bn(e)&&(e=er(e));const t=jn(this),n=Zn(e,void 0);return n[gn].isManual_=!0,Vn(t),n}finishDraft(e,t){const n=e&&e[gn];n&&n.isManual_||vn(9);const{scope_:r}=n;return Fn(r,t),Bn(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ln("Patches").applyPatches_;return bn(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},rr=nr.produce;nr.produceWithPatches.bind(nr),nr.setAutoFreeze.bind(nr),nr.setUseStrictShallowCopy.bind(nr),nr.applyPatches.bind(nr),nr.createDraft.bind(nr),nr.finishDraft.bind(nr);function ir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var sr=e=>Array.isArray(e)?e:[e];function ar(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var or="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},ur=0,lr=1;function cr(){return{s:ur,v:void 0,o:null,p:null}}function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cr();const{resultEqualityCheck:r}=t;let i,s=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=cr(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=cr(),e.set(n,t)):t=r}}const o=t;let u;if(t.s===lr)u=t.v;else if(u=e.apply(null,arguments),s++,r){var l,c,d;const e=null!==(l=null===(c=i)||void 0===c||null===(d=c.deref)||void 0===d?void 0:d.call(c))&&void 0!==l?l:i;null!=e&&r(e,u)&&(u=e,0!==s&&s--);i="object"===typeof u&&null!==u||"function"===typeof u?new or(u):u}return o.s=lr,o.v=u,u}return a.clearCache=()=>{n=cr(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,s=0,a=0,o={},u=t.pop();"object"===typeof u&&(o=u,u=t.pop()),ir(u,"createSelector expects an output function after the inputs, but received: [".concat(typeof u,"]"));const l={...i,...o},{memoize:c,memoizeOptions:d=[],argsMemoize:h=dr,argsMemoizeOptions:f=[],devModeChecks:p={}}=l,m=sr(d),g=sr(f),v=ar(t),y=c((function(){return s++,u.apply(null,arguments)}),...m);const b=h((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r}),...g);return Object.assign(b,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:h})};return Object.assign(s,{withTypes:()=>s}),s}var fr=hr(dr),pr=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>pr});function mr(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var gr=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),vr=()=>Math.random().toString(36).substring(7).split("").join("."),yr={INIT:"@@redux/INIT".concat(vr()),REPLACE:"@@redux/REPLACE".concat(vr()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(vr())};function br(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function wr(e,t,n){if("function"!==typeof e)throw new Error(mr(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(mr(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(mr(1));return n(wr)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,u=!1;function l(){a===s&&(a=new Map,s.forEach(((e,t)=>{a.set(t,e)})))}function c(){if(u)throw new Error(mr(3));return i}function d(e){if("function"!==typeof e)throw new Error(mr(4));if(u)throw new Error(mr(5));let t=!0;l();const n=o++;return a.set(n,e),function(){if(t){if(u)throw new Error(mr(6));t=!1,l(),a.delete(n),s=null}}}function h(e){if(!br(e))throw new Error(mr(7));if("undefined"===typeof e.type)throw new Error(mr(8));if("string"!==typeof e.type)throw new Error(mr(17));if(u)throw new Error(mr(9));try{u=!0,i=r(i,e)}finally{u=!1}return(s=a).forEach((e=>{e()})),e}h({type:yr.INIT});return{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(mr(10));r=e,h({type:yr.REPLACE})},[gr]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(mr(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[gr](){return this}}}}}function _r(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:yr.INIT}))throw new Error(mr(12));if("undefined"===typeof n(void 0,{type:yr.PROBE_UNKNOWN_ACTION()}))throw new Error(mr(13))}))}(n)}catch(Px){i=Px}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const a={};for(let i=0;i<r.length;i++){const o=r[i],u=n[o],l=e[o],c=u(l,t);if("undefined"===typeof c){t&&t.type;throw new Error(mr(14))}a[o]=c,s=s||c!==l}return s=s||r.length!==Object.keys(e).length,s?a:e}}function Ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Sr(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Er=Sr(),Tr=Sr,kr=(function(){const e=hr(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(bn(e)?er(e):e,...r)};return Object.assign(n,t),n}),{withTypes:()=>t})}(dr),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ir:Ir.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Cr(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Zr(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return br(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var xr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Nr(e){return wn(e)?rr(e,(()=>{})):e}function Ar(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Zr(10));const r=n.insert(t,e);return e.set(t,r),r}var Dr="RTK_autoBatch",Pr=e=>t=>{setTimeout(t,e)},Rr="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Pr(10),Or=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new xr(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const a=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?Rr:"callback"===e.type?e.queueNotification:Pr(e.timeout),u=()=>{s=!1,i&&(i=!1,a.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Dr]),i=!r,i&&(s||(s=!0,o(u))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Mr(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Zr(28));if(r in t)throw new Error(Zr(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Lr=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var qr=Symbol.for("rtk-slice-createasyncthunk");function Fr(e,t){return"".concat(e,"/").concat(t)}function Ur(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[qr];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Zr(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Zr(12));if(n in a.sliceCaseReducersByType)throw new Error(Zr(13));return a.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(a.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,o)};function u(){const[t={},n=[],r]="function"===typeof e.extraReducers?Mr(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Mr(t);if(function(e){return"function"===typeof e}(e))n=()=>Nr(e());else{const t=Nr(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===a.filter((e=>!!e)).length&&(a=[s]),a.reduce(((e,n)=>{if(n){if(bn(e)){const r=n(e,t);return void 0===r?e:r}if(wn(e))return rr(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Zr(9))}return r}}return e}),e)}return a.getInitialState=n,a}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],a={reducerName:r,type:Fr(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:a,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Zr(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(a,r).exposeAction(a,i?Cr(s,i):Cr(s))}(a,s,o):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(Zr(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:l,settled:c,options:d}=t,h=r(i,a,d);n.exposeAction(s,h),o&&n.addCase(h.fulfilled,o);u&&n.addCase(h.pending,u);l&&n.addCase(h.rejected,l);c&&n.addMatcher(h.settled,c);n.exposeCaseReducer(s,{fulfilled:o||zr,pending:u||zr,rejected:l||zr,settled:c||zr})}(a,s,o,n)}));const l=e=>e,c=new Map;let d;function h(e,t){return d||(d=u()),d(e,t)}function f(){return d||(d=u()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=f()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const r=Ar(c,n,{insert:()=>new WeakMap});return Ar(r,t,{insert:()=>{const r={};for(const[s,a]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[s]=Vr(a,t,f,n)}return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:t,reducer:h,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=null!==t&&void 0!==t?t:r;return e.inject({reducerPath:i,reducer:h},n),{...m,...p(i,!0)}}};return m}}function Vr(e,t,n,r){function i(i){let s=t(i);"undefined"===typeof s&&r&&(s=n());for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return e(s,...o)}return i.unwrapped=e,i}var jr=Ur();function zr(){}var Br="listener",Kr="completed",Gr="cancelled",Wr=("task-".concat(Gr),"task-".concat(Kr),"".concat(Br,"-").concat(Gr),"".concat(Br,"-").concat(Kr),(e,t)=>{if("function"!==typeof e)throw new Error(Zr(32))});var{assign:Hr}=Object,Qr="listenerMiddleware",Yr=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Cr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zr(21));return Wr(s),{predicate:i,type:t,effect:s}},Xr=Object.assign((e=>{const{type:t,predicate:n,effect:r}=Yr(e);return{id:Lr(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}}),{withTypes:()=>Xr}),Jr=Object.assign(Cr("".concat(Qr,"/add")),{withTypes:()=>Jr}),$r=(Cr("".concat(Qr,"/removeAll")),Object.assign(Cr("".concat(Qr,"/remove")),{withTypes:()=>$r}));Symbol.for("rtk-state-proxy-original");function Zr(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const ei=jr({name:"app",initialState:{currentPage:1,perPage:10,author:null,blogId:null,totalBlogs:0},reducers:{setPage:(e,t)=>{e.currentPage=t.payload},prevPage:(e,t)=>{e.currentPage=Math.max(0,e.currentPage-1)},nextPage:(e,t)=>{e.currentPage=Math.max(0,e.currentPage+1)},setPerPage:(e,t)=>{e.perPage=t.payload},setAuthor:(e,t)=>{e.author=t.payload},setBlogId:(e,t)=>{e.blogId=t.payload},setTotal:(e,t)=>{e.totalBlogs=t.payload}}}),ti=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let s=new xr;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(Er):s.push(Tr(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:a}=e||{};let o,u;if("function"===typeof n)o=n;else{if(!br(n))throw new Error(Zr(1));o=_r(n)}u="function"===typeof r?r(t):t();let l=Ir;i&&(l=kr({trace:!1,..."object"===typeof i&&i}));const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(mr(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},o=t.map((e=>e(a)));return s=Ir(...o)(i.dispatch),{...i,dispatch:s}}}(...u),d=Or(c);let h="function"===typeof a?a(d):d();return wr(o,s,l(...h))}({reducer:{app:ei.reducer}}),{setPage:ni,prevPage:ri,nextPage:ii,setAuthor:si,setBlogId:ai,setTotal:oi}=ei.actions,ui=e=>e.app.currentPage,li=e=>e.app.perPage,ci=e=>e.app.totalBlogs,di=fn.withTypes(),hi=(ei.reducer,{blogs:[{profile:{},id:1,title:"First Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:2,title:"Second Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:3,title:"Third Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:4,title:"Fourth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:5,title:"Fifth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:6,title:"Sixth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:7,title:"Seventh Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:8,title:"Eighth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:9,title:"Ninth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:10,title:"Tenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:11,title:"Eleventh Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:12,title:"Twelth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:13,title:"Thirteenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:14,title:"Fourteenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:15,title:"Fifteenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."}],comments:[{profile:{},id:1,title:"This is my comment",profileId:1,blogId:1}],profiles:[{id:1,name:"Mordist"}]});const fi=new class{constructor(){this.commentsCache=[],this.blogCache=[],this.allBlogCache=[],this.profilesCache=[]}async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(hi.blogs){for(let e=0;e<hi.blogs.length;e++)this.profilesCache[hi.blogs[e].profileId]?hi.blogs[e].profile=this.profilesCache[hi.blogs[e].profileId]:hi.blogs[e].profile=await this.getProfileById(hi.blogs[e].profileId);const n=Math.max(0,e*t-e);return hi.blogs.slice(n,e+n)}return[]}async getOne(e){if(hi.blogs){for(let t=0;t<hi.blogs.length;t++)if(hi.blogs[t].id===parseInt(e))return[hi.blogs[t]];return[hi.blogs[0]]}return[]}getCountByProfile(e){return hi.blogs?hi.blogs.filter((t=>t.profileId==e)).length:0}async getProfileById(e){if(this.profilesCache[e])return this.profilesCache[e];if(hi.profiles){for(let t=0;t<hi.profiles.length;t++)if(hi.profiles[t].id===e)return this.profilesCache[e]=hi.profiles[t],hi.profiles[t];return hi.profiles[0]}}async getByProfileId(e,t,n){if(hi.blogs){let r=[];for(let t=0;t<hi.blogs.length;t++)hi.blogs[t].profileId===e&&r.push(hi.blogs[t]);const i=Math.max(0,n*t-n);return r.slice(i,n+i)}return[]}async getProfiles(){return hi.profiles}async getCommentsByBlog(e){if(hi.comments){let t=[];for(let n=0;n<hi.comments.length;n++)if(hi.comments[n].blogId===e){const e=hi.comments[n];e.profile=await this.getProfileById(e.profileId),t.push(e)}return t}return[]}};var pi=n(579);function mi(){const[e,t]=(0,a.useState)([]);return(0,a.useEffect)((()=>{fi.getProfiles().then((e=>{t(e)}))}),[]),(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h1",{children:"Authors"}),e.map((e=>{let t=fi.getCountByProfile(e.id);return(0,pi.jsx)("h3",{children:(0,pi.jsxs)(Ut,{to:"/author/"+e.id,className:"item-link",children:[e.name," (",t,")"]})},e.id)}))]})}function gi(){const e=di();let t=[];const[n,r,i]=[tn(ci),tn(li),tn(ui)],s=Math.ceil(n/r);for(let a=0;a<s;a++)t.push(a);return(0,pi.jsx)("nav",{"aria-label":"Page Pagination",className:"mx-auto mt-5",children:(0,pi.jsxs)("ul",{className:"pagination justify-content-center",children:[i>1?(0,pi.jsx)("li",{className:"page-item",children:(0,pi.jsx)("button",{className:"page-link",onClick:()=>e(ri(1)),children:"Previous"})},"prev"):(0,pi.jsx)("span",{className:"page-link",children:"Previous"}),t.map((t=>(0,pi.jsx)("li",{className:"page-item",children:t+1!==i?(0,pi.jsx)("button",{className:"page-link",onClick:()=>e(ni(t+1)),children:t+1}):(0,pi.jsx)("span",{className:"page-link",children:t+1})},t))),i<Math.ceil(n/r)?(0,pi.jsx)("li",{className:"page-item",children:(0,pi.jsx)("button",{className:"page-link",onClick:()=>e(ii(2)),children:"Next"})},"next"):(0,pi.jsx)("span",{className:"page-link",children:"Next"})]})})}const vi=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;e.author&&null!==e.author?fi.getByProfileId(parseInt(e.author),n,t).then((e=>{i(e),s(!1)})).catch((e=>{console.log("profileId error = ",e),a(!0),s(!1)})):e.id&&null!==e.id?fi.getOne(e.id).then((e=>{i(e),s(!1)})).catch((e=>{console.log("getOne error : ",e),s(!1),a(!0)})):fi.getAll(t,n,r).then((e=>{i(e),s(!1)})).catch((e=>{console.log("getAll error = ",e),a(!0),s(!1)}))};function yi(e){const t=tn(ui),n=tn(li),{blogs:r,setBlogs:i,loading:s,setLoading:o,error:u,setError:l}=wi();return a.useEffect((()=>{vi(e,n,t,15,i,o,l)}),[e,n,t]),(0,pi.jsx)(pi.Fragment,{children:s?(0,pi.jsx)("h1",{children:"Loading..."}):u?(0,pi.jsx)("h1",{className:"error",children:"ERROR FOUND!"}):(0,pi.jsxs)(pi.Fragment,{children:[r.map((e=>{var t,n;return(0,pi.jsx)("div",{className:"card mb-2",children:(0,pi.jsx)("div",{className:"blog-post card-body",children:(0,pi.jsxs)("div",{className:"row",children:[(0,pi.jsx)("div",{className:"col-6 blog-title card-text",children:(0,pi.jsx)(Ut,{to:"/blog/".concat(e.id),children:e.title})}),(0,pi.jsxs)("div",{className:"col-6 blog-author card-text",children:["By"," ",(0,pi.jsx)(Ut,{to:"/author/".concat(null===(t=e.profile)||void 0===t?void 0:t.id),children:(null===(n=e.profile)||void 0===n?void 0:n.name)||"error"})]})]})})},e.id)})),(0,pi.jsx)(gi,{})]})})}function bi(){const e=ot(),[t,n]=(0,a.useState)([]);return(0,a.useEffect)((()=>{e&&e.id&&fi.getCommentsByBlog(parseInt(e.id)).then((e=>{n(e)}))}),[]),(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h4",{className:"mt-4",children:"Comments"}),t.map((e=>{var t;return(0,pi.jsx)("div",{className:"card w-100",children:(0,pi.jsxs)("div",{className:"d-flex p-2",children:[(0,pi.jsx)("div",{className:"card-text flex-fill",children:e.title}),(0,pi.jsx)("div",{className:"card-text flex-fill",children:null===(t=e.profile)||void 0===t?void 0:t.name})]})},e.id)}))]})}function wi(){const[e,t]=a.useState([]),[n,r]=a.useState(!0),[i,s]=a.useState(!1);return{blogs:e,setBlogs:t,loading:n,setLoading:r,error:i,setError:s}}function _i(){var e,t;let n=ot();const r=tn(ui),i=tn(li),{blogs:s,setBlogs:o,loading:u,setLoading:l,error:c,setError:d}=wi();(0,a.useEffect)((()=>{vi(n,i,r,15,o,l,d)}),[]);const h=s[0];return(0,pi.jsx)(pi.Fragment,{children:u||c?null:(0,pi.jsxs)("div",{children:[(0,pi.jsxs)("div",{className:"blog-post mt-22",children:[(0,pi.jsx)("div",{className:"blog-title",children:(0,pi.jsx)("h3",{children:h.title})}),h.profile?(0,pi.jsxs)("div",{className:"blog-author",children:["By"," ",(0,pi.jsx)(Ut,{to:"/author/".concat(null===(e=h.profile)||void 0===e?void 0:e.id),children:null===(t=h.profile)||void 0===t?void 0:t.name})]}):(0,pi.jsx)("p",{className:"error",children:"Error"}),(0,pi.jsx)("div",{className:"blog-content",children:h.content})]}),(0,pi.jsx)(bi,{})]},h.id)})}function Ii(){return(0,pi.jsxs)("div",{className:"container mt-5 mb-5",children:["[FOOTER]",(0,pi.jsxs)("div",{className:"row",children:[(0,pi.jsx)("div",{className:"col",children:(0,pi.jsxs)("ul",{className:"list-group",children:[(0,pi.jsx)("li",{className:"list-group-item list-group-item-light",children:"Static"}),[{link:"about",title:"About"},{link:"sitemap",title:"Sitemap"},{link:"contact",title:"Contact Us"},{link:"faq",title:"FAQ"}].map((e=>(0,pi.jsx)("li",{className:"list-group-item list-group-item-secondary",children:(0,pi.jsx)(Ut,{to:e.link,children:e.title})},e.link)))]})}),(0,pi.jsx)("div",{className:"col",children:(0,pi.jsxs)("ul",{className:"list-group",children:[(0,pi.jsx)("li",{className:"list-group-item list-group-item-light",children:"Content"}),[{link:"/",title:"Blog"},{link:"/authors",title:"Authors"}].map((e=>(0,pi.jsx)("li",{className:"list-group-item list-group-item-secondary",children:(0,pi.jsx)(Ut,{to:e.link,children:e.title})},e.link)))]})})]})]})}const Si=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,u=o?e[i+2]:0,l=t>>2,c=(3&t)<<4|a>>4;let d=(15&a)<<2|u>>6,h=63&u;o||(h=64,s||(d=64)),r.push(n[l],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Si(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Ti;const u=t<<2|s>>4;if(r.push(u),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ti extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ki=function(e){return function(e){const t=Si(e);return Ei.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ci=function(e){try{return Ei.decodeString(e,!0)}catch(Px){console.error("base64Decode failed: ",Px)}return null};function xi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=xi(e[n],t[n]));return e}const Ni=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ai=()=>{try{return Ni()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/react-blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Px){return}const t=e&&Ci(e[1]);return t&&JSON.parse(t)})()}catch(Px){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Px))}},Di=()=>{var e;return null===(e=Ai())||void 0===e?void 0:e.config};class Pi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ri(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Oi(){var e;const t=null===(e=Ai())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Px){return!1}}function Mi(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Li(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function qi(){const e=Ri();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Fi(){try{return"object"===typeof indexedDB}catch(Px){return!1}}class Ui extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vi.prototype.create)}}class Vi{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ji,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ui(n,s,t)}}const ji=/\{\$([^}]+)}/g;function zi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Ki(n)&&Ki(s)){if(!Bi(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ki(e){return null!==e&&"object"===typeof e}function Gi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wi(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Hi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Qi(e,t){const n=new Yi(e,t);return n.subscribe.bind(n)}class Yi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xi),void 0===r.error&&(r.error=Xi),void 0===r.complete&&(r.complete=Xi);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Px){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Px){"undefined"!==typeof console&&console.error&&console.error(Px)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Xi(){}function Ji(e){return e&&e._delegate?e._delegate:e}class $i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zi="[DEFAULT]";class es{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Px){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Px){if(r)return null;throw Px}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch(Px){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Px){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(_T){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Zi?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(_T){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zi;return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ts{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new es(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ns=[];var rs;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(rs||(rs={}));const is={debug:rs.DEBUG,verbose:rs.VERBOSE,info:rs.INFO,warn:rs.WARN,error:rs.ERROR,silent:rs.SILENT},ss=rs.INFO,as={[rs.DEBUG]:"log",[rs.VERBOSE]:"log",[rs.INFO]:"info",[rs.WARN]:"warn",[rs.ERROR]:"error"},os=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=as[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class us{constructor(e){this.name=e,this._logLevel=ss,this._logHandler=os,this._userLogHandler=null,ns.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rs))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?is[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rs.DEBUG,...t),this._logHandler(this,rs.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rs.VERBOSE,...t),this._logHandler(this,rs.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rs.INFO,...t),this._logHandler(this,rs.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rs.WARN,...t),this._logHandler(this,rs.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,rs.ERROR,...t),this._logHandler(this,rs.ERROR,...t)}}const ls=(e,t)=>t.some((t=>e instanceof t));let cs,ds;const hs=new WeakMap,fs=new WeakMap,ps=new WeakMap,ms=new WeakMap,gs=new WeakMap;let vs={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return fs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ps.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ys(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ds||(ds=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_s(this),n),ws(hs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ws(e.apply(_s(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(_s(this),t,...r);return ps.set(s,t.sort?t.sort():[t]),ws(s)}}function bs(e){return"function"===typeof e?ys(e):(e instanceof IDBTransaction&&function(e){if(fs.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));fs.set(e,t)}(e),ls(e,cs||(cs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,vs):e)}function ws(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ws(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&hs.set(t,e)})).catch((()=>{})),gs.set(t,e),t}(e);if(ms.has(e))return ms.get(e);const t=bs(e);return t!==e&&(ms.set(e,t),gs.set(t,e)),t}const _s=e=>gs.get(e);const Is=["get","getKey","getAll","getAllKeys","count"],Ss=["put","add","delete","clear"],Es=new Map;function Ts(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Es.get(t))return Es.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ss.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Is.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Es.set(t,s),s}vs=(e=>({...e,get:(t,n,r)=>Ts(t,n)||e.get(t,n,r),has:(t,n)=>!!Ts(t,n)||e.has(t,n)}))(vs);class ks{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Cs="@firebase/app",xs="0.9.13",Ns=new us("@firebase/app"),As="@firebase/app-compat",Ds="@firebase/analytics-compat",Ps="@firebase/analytics",Rs="@firebase/app-check-compat",Os="@firebase/app-check",Ms="@firebase/auth",Ls="@firebase/auth-compat",qs="@firebase/database",Fs="@firebase/database-compat",Us="@firebase/functions",Vs="@firebase/functions-compat",js="@firebase/installations",zs="@firebase/installations-compat",Bs="@firebase/messaging",Ks="@firebase/messaging-compat",Gs="@firebase/performance",Ws="@firebase/performance-compat",Hs="@firebase/remote-config",Qs="@firebase/remote-config-compat",Ys="@firebase/storage",Xs="@firebase/storage-compat",Js="@firebase/firestore",$s="@firebase/firestore-compat",Zs="firebase",ea="[DEFAULT]",ta={[Cs]:"fire-core",[As]:"fire-core-compat",[Ps]:"fire-analytics",[Ds]:"fire-analytics-compat",[Os]:"fire-app-check",[Rs]:"fire-app-check-compat",[Ms]:"fire-auth",[Ls]:"fire-auth-compat",[qs]:"fire-rtdb",[Fs]:"fire-rtdb-compat",[Us]:"fire-fn",[Vs]:"fire-fn-compat",[js]:"fire-iid",[zs]:"fire-iid-compat",[Bs]:"fire-fcm",[Ks]:"fire-fcm-compat",[Gs]:"fire-perf",[Ws]:"fire-perf-compat",[Hs]:"fire-rc",[Qs]:"fire-rc-compat",[Ys]:"fire-gcs",[Xs]:"fire-gcs-compat",[Js]:"fire-fst",[$s]:"fire-fst-compat","fire-js":"fire-js",[Zs]:"fire-js-all"},na=new Map,ra=new Map;function ia(e,t){try{e.container.addComponent(t)}catch(Px){Ns.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Px)}}function sa(e,t){e.container.addOrOverwriteComponent(t)}function aa(e){const t=e.name;if(ra.has(t))return Ns.debug("There were multiple attempts to register component ".concat(t,".")),!1;ra.set(t,e);for(const n of na.values())ia(n,e);return!0}function oa(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ea;oa(e,t).clearInstance(n)}function la(){ra.clear()}const ca=new Vi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class da{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $i("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}const ha="9.23.0";function fa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ea,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ca.create("bad-app-name",{appName:String(i)});if(n||(n=Di()),!n)throw ca.create("no-options");const s=na.get(i);if(s){if(Bi(n,s.options)&&Bi(r,s.config))return s;throw ca.create("duplicate-app",{appName:i})}const a=new ts(i);for(const u of ra.values())a.addComponent(u);const o=new da(n,r,a);return na.set(i,o),o}function pa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea;const t=na.get(e);if(!t&&e===ea&&Di())return fa();if(!t)throw ca.create("no-app",{appName:e});return t}function ma(){return Array.from(na.values())}async function ga(e){const t=e.name;na.has(t)&&(na.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function va(e,t,n){var r;let i=null!==(r=ta[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ns.warn(e.join(" "))}aa(new $i("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ya(e,t){if(null!==e&&"function"!==typeof e)throw ca.create("invalid-log-argument");!function(e,t){for(const n of ns){let r=null;t&&t.level&&(r=is[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:rs[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function ba(e){var t;t=e,ns.forEach((e=>{e.setLogLevel(t)}))}const wa="firebase-heartbeat-database",_a=1,Ia="firebase-heartbeat-store";let Sa=null;function Ea(){return Sa||(Sa=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=ws(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(ws(a.result),e.oldVersion,e.newVersion,ws(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(wa,_a,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ia)}}).catch((e=>{throw ca.create("idb-open",{originalErrorMessage:e.message})}))),Sa}async function Ta(e,t){try{const n=(await Ea()).transaction(Ia,"readwrite"),r=n.objectStore(Ia);await r.put(t,ka(e)),await n.done}catch(Px){if(Px instanceof Ui)Ns.warn(Px.message);else{const t=ca.create("idb-set",{originalErrorMessage:null===Px||void 0===Px?void 0:Px.message});Ns.warn(t.message)}}}function ka(e){return"".concat(e.name,"!").concat(e.options.appId)}class Ca{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Na(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=xa();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=xa(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Aa(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Aa(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ki(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function xa(){return(new Date).toISOString().substring(0,10)}class Na{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Fi()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ea();return await t.transaction(Ia).objectStore(Ia).get(ka(e))}catch(Px){if(Px instanceof Ui)Ns.warn(Px.message);else{const t=ca.create("idb-get",{originalErrorMessage:null===Px||void 0===Px?void 0:Px.message});Ns.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ta(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ta(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Aa(e){return ki(JSON.stringify({version:2,heartbeats:e})).length}var Da;Da="",aa(new $i("platform-logger",(e=>new ks(e)),"PRIVATE")),aa(new $i("heartbeat",(e=>new Ca(e)),"PRIVATE")),va(Cs,xs,Da),va(Cs,xs,"esm2017"),va("fire-js","");class Pa{constructor(e,t){this._delegate=e,this.firebase=t,ia(e,new $i("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),ga(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){ia(this._delegate,e)}_addOrOverwriteComponent(e){sa(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ra=new Vi("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Oa=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=fa(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(zi(t,i.name))return t[i.name];const s=new e(i,n);return t[i.name]=s,s},app:i,registerVersion:va,setLogLevel:ba,onLog:ya,apps:null,SDK_VERSION:ha,INTERNAL:{registerComponent:function(t){const r=t.name,s=r.replace("-compat","");if(aa(t)&&"PUBLIC"===t.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Ra.create("invalid-app-argument",{appName:r});return e[s]()};void 0!==t.serviceProps&&xi(a,t.serviceProps),n[s]=a,e.prototype[s]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!zi(t,e=e||ea))throw Ra.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(Pa);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){xi(t,e)},createSubscribe:Qi,ErrorFactory:Vi,deepExtend:xi}),t}(),Ma=new us("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ma.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ma.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const La=Oa;!function(e){va("@firebase/app-compat","0.2.13",e)}();La.registerVersion("firebase","9.23.0","app-compat");function qa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Fa={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ua="EMAIL_SIGNIN",Va="PASSWORD_RESET",ja="RECOVER_EMAIL",za="REVERT_SECOND_FACTOR_ADDITION",Ba="VERIFY_AND_CHANGE_EMAIL",Ka="VERIFY_EMAIL";function Ga(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Wa=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ha=Ga,Qa=new Vi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ya=new us("@firebase/auth");function Xa(e){if(Ya.logLevel<=rs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ya.error("Auth (".concat(ha,"): ").concat(e),...n)}}function Ja(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw to(e,...n)}function $a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return to(e,...n)}function Za(e,t,n){const r=Object.assign(Object.assign({},Ha()),{[t]:n});return new Vi("auth","Firebase",r).create(t,{appName:e.name})}function eo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ja(e,"argument-error"),Za(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function to(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Qa.create(e,...n)}function no(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw to(t,...r)}}function ro(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xa(t),new Error(t)}function io(e,t){e||ro(t)}function so(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ao(){return"http:"===oo()||"https:"===oo()}function oo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class uo{constructor(e,t){this.shortDelay=e,this.longDelay=t,io(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ri())||Li()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ao()||Mi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function lo(e,t){io(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class co{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ro("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ro("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ro("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ho={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fo=new uo(3e4,6e4);function po(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mo(e,t,n,r){return go(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Gi(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),co.fetch()(yo(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function go(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},ho),t);try{const t=new bo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw wo(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw wo(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw wo(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw wo(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Za(e,o,a);Ja(e,o)}}catch(Px){if(Px instanceof Ui)throw Px;Ja(e,"network-request-failed",{message:String(Px)})}}async function vo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await mo(e,t,n,r,i);return"mfaPendingCredential"in s&&Ja(e,"multi-factor-auth-required",{_serverResponse:s}),s}function yo(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?lo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class bo{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t($a(this.auth,"network-request-failed"))),fo.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function wo(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$a(e,t,r);return i.customData._tokenResponse=n,i}function _o(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Px){}}function Io(e){return 1e3*Number(e)}function So(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Xa("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ci(n);return e?JSON.parse(e):(Xa("Failed to decode base64 JWT payload"),null)}catch(Px){return Xa("Caught error parsing JWT payload as JSON",null===Px||void 0===Px?void 0:Px.toString()),null}}async function Eo(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Px){throw Px instanceof Ui&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(Px)&&e.auth.currentUser===e&&await e.auth.signOut(),Px}}class To{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Px){return void((null===Px||void 0===Px?void 0:Px.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ko{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Co(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Eo(e,async function(e,t){return mo(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));no(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=qa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),c=!!u&&l,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ko(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){no(e.idToken,"internal-error"),no("undefined"!==typeof e.idToken,"internal-error"),no("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=So(e);return no(t,"internal-error"),no("undefined"!==typeof t.exp,"internal-error"),no("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return no(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await go(e,{},(async()=>{const n=Gi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=yo(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",co.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new xo;return n&&(no("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(no("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(no("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return ro("not implemented")}}function No(e,t){no("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ao{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=qa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new To(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ko(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return no(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ji(e),r=await n.getIdToken(t),i=So(r);no(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_o(Io(i.auth_time)),issuedAtTime:_o(Io(i.iat)),expirationTime:_o(Io(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ji(e);await Co(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(no(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){no(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Co(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Eo(this,async function(e,t){return mo(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:I}=t;no(y&&I,e,"internal-error");const S=xo.fromJSON(this.name,I);no("string"===typeof y,e,"internal-error"),No(c,e.name),No(d,e.name),no("boolean"===typeof b,e,"internal-error"),no("boolean"===typeof w,e,"internal-error"),No(h,e.name),No(f,e.name),No(p,e.name),No(m,e.name),No(g,e.name),No(v,e.name);const E=new Ao({uid:y,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new xo;r.updateFromServerResponse(t);const i=new Ao({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Co(i),i}}const Do=new Map;function Po(e){io(e instanceof Function,"Expected a class definition");let t=Do.get(e);return t?(io(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Do.set(e,t),t)}class Ro{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ro.type="NONE";const Oo=Ro;function Mo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Lo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Mo(this.userKey,r.apiKey,i),this.fullPersistenceKey=Mo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ao._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Lo(Po(Oo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Po(Oo);const s=Mo(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Ao._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(_T){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(_T){}}))),new Lo(i,e,n)):new Lo(i,e,n)}}function qo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Bo(t))return"Blackberry";if(Ko(t))return"Webos";if(Uo(t))return"Safari";if((t.includes("chrome/")||Vo(t))&&!t.includes("edge/"))return"Chrome";if(zo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/firefox\//i.test(e)}function Uo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/crios\//i.test(e)}function jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/iemobile/i.test(e)}function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/android/i.test(e)}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/blackberry/i.test(e)}function Ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/webos/i.test(e)}function Go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return Go(e)||zo(e)||Ko(e)||Bo(e)||/windows phone/i.test(e)||jo(e)}function Ho(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=qo(Ri());break;case"Worker":t="".concat(qo(Ri()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ha,"/").concat(r)}async function Qo(e,t){return mo(e,"GET","/v2/recaptchaConfig",po(e,t))}function Yo(e){return void 0!==e&&void 0!==e.getResponse}function Xo(e){return void 0!==e&&void 0!==e.enterprise}class Jo{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function $o(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=$a("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class eu{constructor(e){this.type="recaptcha-enterprise",this.auth=iu(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Xo(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Qo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Jo(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Xo(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));$o("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function tu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new eu(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class nu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Px){r(Px)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Px){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Px||void 0===Px?void 0:Px.message})}}}class ru{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new su(this),this.idTokenSubscription=new su(this),this.beforeStateQueue=new nu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qa,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Po(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Px){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Px){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Px)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return no(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Px){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Co(e)}catch(Px){if((null===Px||void 0===Px?void 0:Px.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ji(e):null;return t&&no(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&no(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Po(e))}))}async initializeRecaptchaConfig(){const e=await Qo(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Jo(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new eu(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vi("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Po(e)||this._popupRedirectResolver;no(t,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[Po(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return no(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return no(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ho(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ya.logLevel<=rs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ya.warn("Auth (".concat(ha,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function iu(e){return Ji(e)}class su{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qi((e=>this.observer=e))}get next(){return no(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function au(e,t,n){const r=iu(e);no(r._canInitEmulator,r,"emulator-config-failed"),no(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ou(t),{host:a,port:o}=function(e){const t=ou(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:uu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:uu(t)}}}(t),u=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(u,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ou(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class lu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ro("not implemented")}_getIdTokenResponse(e){return ro("not implemented")}_linkToIdToken(e,t){return ro("not implemented")}_getReauthenticationResolver(e){return ro("not implemented")}}async function cu(e,t){return mo(e,"POST","/v1/accounts:resetPassword",po(e,t))}async function du(e,t){return mo(e,"POST","/v1/accounts:update",t)}async function hu(e,t){return vo(e,"POST","/v1/accounts:signInWithPassword",po(e,t))}async function fu(e,t){return mo(e,"POST","/v1/accounts:sendOobCode",po(e,t))}async function pu(e,t){return fu(e,t)}async function mu(e,t){return fu(e,t)}class gu extends lu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t){return new gu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await tu(e,n,"signInWithPassword");return hu(e,t)}return hu(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await tu(e,n,"signInWithPassword");return hu(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return vo(e,"POST","/v1/accounts:signInWithEmailLink",po(e,t))}(e,{email:this._email,oobCode:this._password});default:Ja(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return du(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return vo(e,"POST","/v1/accounts:signInWithEmailLink",po(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ja(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vu(e,t){return vo(e,"POST","/v1/accounts:signInWithIdp",po(e,t))}class yu extends lu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ja("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=qa(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new yu(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return vu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gi(t)}return e}}const bu={USER_NOT_FOUND:"user-not-found"};class wu extends lu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new wu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new wu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return vo(e,"POST","/v1/accounts:signInWithPhoneNumber",po(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await vo(e,"POST","/v1/accounts:signInWithPhoneNumber",po(e,t));if(n.temporaryProof)throw wo(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return vo(e,"POST","/v1/accounts:signInWithPhoneNumber",po(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),bu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new wu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class _u{constructor(e){var t,n,r,i,s,a;const o=Wi(Hi(e)),u=null!==(t=o.apiKey)&&void 0!==t?t:null,l=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);no(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Wi(Hi(e)).link,n=t?Wi(Hi(t)).deep_link_id:null,r=Wi(Hi(e)).deep_link_id;return(r?Wi(Hi(r)).link:null)||r||n||t||e}(e);try{return new _u(t)}catch(_T){return null}}}class Iu{constructor(){this.providerId=Iu.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=_u.parseLink(t);return no(n,"argument-error"),gu._fromEmailAndCode(e,n.code,n.tenantId)}}Iu.PROVIDER_ID="password",Iu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Iu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Su{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends Su{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Tu extends Eu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return no("providerId"in t&&"signInMethod"in t,"argument-error"),yu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return no(e.idToken||e.accessToken,"argument-error"),yu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Tu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Tu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new Tu(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(Px){return null}}}class ku extends Eu{constructor(){super("facebook.com")}static credential(e){return yu._fromParams({providerId:ku.PROVIDER_ID,signInMethod:ku.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ku.credentialFromTaggedObject(e)}static credentialFromError(e){return ku.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ku.credential(t.oauthAccessToken)}catch(_T){return null}}}ku.FACEBOOK_SIGN_IN_METHOD="facebook.com",ku.PROVIDER_ID="facebook.com";class Cu extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yu._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Cu.credential(n,r)}catch(_T){return null}}}Cu.GOOGLE_SIGN_IN_METHOD="google.com",Cu.PROVIDER_ID="google.com";class xu extends Eu{constructor(){super("github.com")}static credential(e){return yu._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xu.credential(t.oauthAccessToken)}catch(_T){return null}}}xu.GITHUB_SIGN_IN_METHOD="github.com",xu.PROVIDER_ID="github.com";class Nu extends lu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return vu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Nu(n,i):null}static _create(e,t){return new Nu(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Au extends Su{constructor(e){no(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Au.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Au.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Nu.fromJSON(e);return no(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Nu._create(r,n)}catch(Px){return null}}}class Du extends Eu{constructor(){super("twitter.com")}static credential(e,t){return yu._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Du.credential(n,r)}catch(_T){return null}}}async function Pu(e,t){return vo(e,"POST","/v1/accounts:signUp",po(e,t))}Du.TWITTER_SIGN_IN_METHOD="twitter.com",Du.PROVIDER_ID="twitter.com";class Ru{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ao._fromIdTokenResponse(e,n,r),s=Ou(n);return new Ru({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ou(n);return new Ru({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ou(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Mu extends Ui{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Mu(e,t,n,r)}}function Lu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Mu._fromErrorAndOperation(e,n,t,r);throw n}))}function qu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Fu(e,t){const n=Ji(e);await Vu(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return mo(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=qu(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Uu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Eo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ru._forOperation(e,"link",r)}async function Vu(e,t,n){await Co(t);const r=!1===e?"provider-already-linked":"no-such-provider";no(qu(t.providerData).has(n)===e,t.auth,r)}async function ju(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Eo(e,Lu(r,i,t,e),n);no(s.idToken,r,"internal-error");const a=So(s.idToken);no(a,r,"internal-error");const{sub:o}=a;return no(e.uid===o,r,"user-mismatch"),Ru._forOperation(e,i,s)}catch(Px){throw(null===Px||void 0===Px?void 0:Px.code)==="auth/".concat("user-not-found")&&Ja(r,"user-mismatch"),Px}}async function zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Lu(e,r,t),s=await Ru._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Bu(e,t){return zu(iu(e),t)}async function Ku(e,t){const n=Ji(e);return await Vu(!1,n,t.providerId),Uu(n,t)}async function Gu(e,t){return ju(Ji(e),t)}async function Wu(e,t){const n=iu(e),r=await async function(e,t){return vo(e,"POST","/v1/accounts:signInWithCustomToken",po(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ru._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Hu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Qu._fromServerResponse(e,t):"totpInfo"in t?Yu._fromServerResponse(e,t):Ja(e,"internal-error")}}class Qu extends Hu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Qu(t)}}class Yu extends Hu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Yu(t)}}function Xu(e,t,n){var r;no((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),no("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(no(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(no(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ju(e,t){await async function(e,t){return mo(e,"POST","/v1/accounts:update",po(e,t))}(Ji(e),{oobCode:t})}async function $u(e,t){const n=Ji(e),r=await cu(n,{oobCode:t}),i=r.requestType;switch(no(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":no(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":no(r.mfaInfo,n,"internal-error");default:no(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Hu._fromServerResponse(iu(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Zu(e,t){const n={identifier:t,continueUri:ao()?so():"http://localhost"},{signinMethods:r}=await async function(e,t){return mo(e,"POST","/v1/accounts:createAuthUri",po(e,t))}(Ji(e),n);return r||[]}async function el(e,t){const n=Ji(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Xu(n.auth,r,t);const{email:i}=await async function(e,t){return fu(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function tl(e,t,n){const r=Ji(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Xu(r.auth,i,n);const{email:s}=await async function(e,t){return fu(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function nl(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Ji(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await Eo(i,async function(e,t){return mo(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function rl(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Eo(e,du(r,i));await e._updateTokensIfNecessary(s,!0)}class il{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class sl extends il{constructor(e,t,n,r){super(e,t,n),this.username=r}}class al extends il{constructor(e,t){super(e,"facebook.com",t)}}class ol extends sl{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ul extends il{constructor(e,t){super(e,"google.com",t)}}class ll extends sl{constructor(e,t,n){super(e,"twitter.com",t,n)}}function cl(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=So(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new il(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new al(s,i);case"github.com":return new ol(s,i);case"google.com":return new ul(s,i);case"twitter.com":return new ll(s,i,e.screenName||null);case"custom":case"anonymous":return new il(s,null);default:return new il(s,r,i)}}(n)}class dl{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new dl("enroll",e,t)}static _fromMfaPendingCredential(e){return new dl("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return dl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return dl._fromIdtoken(e.multiFactorSession.idToken)}return null}}class hl{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=iu(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Hu._fromServerResponse(n,e)));no(r.mfaPendingCredential,n,"internal-error");const s=dl._fromMfaPendingCredential(r.mfaPendingCredential);return new hl(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ru._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return no(t.user,n,"internal-error"),Ru._forOperation(t.user,t.operationType,a);default:Ja(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class fl{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Hu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new fl(e)}async getSession(){return dl._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Eo(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Eo(this.user,function(e,t){return mo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",po(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(Px){throw Px}}}const pl=new WeakMap;const ml="__sak";class gl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ml,"1"),this.storage.removeItem(ml),Promise.resolve(!0)):Promise.resolve(!1)}catch(_T){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class vl extends gl{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ri();return Uo(e)||Go(e)}()&&function(){try{return!(!window||window===window.top)}catch(Px){return!1}}(),this.fallbackToPolling=Wo(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);qi()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vl.type="LOCAL";const yl=vl;class bl extends gl{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bl.type="SESSION";const wl=bl;class _l{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new _l(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Il(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}_l.receivers=[];class Sl{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const u=Il("",20);r.port1.start();const l=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function El(){return window}function Tl(){return"undefined"!==typeof El().WorkerGlobalScope&&"function"===typeof El().importScripts}const kl="firebaseLocalStorageDb",Cl="firebaseLocalStorage",xl="fbase_key";class Nl{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Al(e,t){return e.transaction([Cl],t?"readwrite":"readonly").objectStore(Cl)}function Dl(){const e=indexedDB.open(kl,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Cl,{keyPath:xl})}catch(Px){n(Px)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Cl)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(kl);return new Nl(e).toPromise()}(),t(await Dl()))}))}))}async function Pl(e,t,n){const r=Al(e,!0).put({[xl]:t,value:n});return new Nl(r).toPromise()}function Rl(e,t){const n=Al(e,!0).delete(t);return new Nl(n).toPromise()}class Ol{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Dl()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Px){if(t++>3)throw Px;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_l._getInstance(Tl()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Sl(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(_T){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dl();return await Pl(e,ml,"1"),await Rl(e,ml),!0}catch(_T){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Pl(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Al(e,!1).get(t),r=await new Nl(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Rl(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Al(e,!1).getAll();return new Nl(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ol.type="LOCAL";const Ml=Ol;const Ll=1e12;class ql{constructor(e){this.auth=e,this.counter=Ll,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Fl(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ll;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ll;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ll;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Fl{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;no(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(Px){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(Px){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ul=Zo("rcb"),Vl=new uo(3e4,6e4);class jl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=El().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return no(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Yo(El().grecaptcha)?Promise.resolve(El().grecaptcha):new Promise(((n,r)=>{const i=El().setTimeout((()=>{r($a(e,"network-request-failed"))}),Vl.get());El()[Ul]=()=>{El().clearTimeout(i),delete El()[Ul];const s=El().grecaptcha;if(!s||!Yo(s))return void r($a(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};$o("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Gi({onload:Ul,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r($a(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=El().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class zl{async load(e){return new ql(e)}clearedOneInstance(){}}const Bl="recaptcha",Kl={theme:"light",type:"image"};class Gl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Kl),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=Bl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=iu(n),this.isInvisible="invisible"===this.parameters.size,no("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;no(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new zl:new jl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(Px){return Promise.reject(Px)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){no(!this.parameters.sitekey,this.auth,"argument-error"),no(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),no("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=El()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){no(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){no(ao()&&!Tl(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await mo(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);no(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return no(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Wl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=wu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Hl(e,t,n){var r;const i=await n.verify();try{let s;if(no("string"===typeof i,e,"argument-error"),no(n.type===Bl,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){no("enroll"===t.type,e,"internal-error");const n=await function(e,t){return mo(e,"POST","/v2/accounts/mfaEnrollment:start",po(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{no("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;no(n,e,"missing-multi-factor-info");const a=await function(e,t){return mo(e,"POST","/v2/accounts/mfaSignIn:start",po(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return mo(e,"POST","/v1/accounts:sendVerificationCode",po(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ql{constructor(e){this.providerId=Ql.PROVIDER_ID,this.auth=iu(e)}verifyPhoneNumber(e,t){return Hl(this.auth,e,Ji(t))}static credential(e,t){return wu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ql.credentialFromTaggedObject(t)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?wu._fromTokenResponse(n,r):null}}function Yl(e,t){return t?Po(t):(no(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ql.PROVIDER_ID="phone",Ql.PHONE_SIGN_IN_METHOD="phone";class Xl extends lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Jl(e){return zu(e.auth,new Xl(e),e.bypassAuthState)}function $l(e){const{auth:t,user:n}=e;return no(n,t,"internal-error"),ju(n,new Xl(e),e.bypassAuthState)}async function Zl(e){const{auth:t,user:n}=e;return no(n,t,"internal-error"),Uu(n,new Xl(e),e.bypassAuthState)}class ec{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Px){this.reject(Px)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Px){this.reject(Px)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jl;case"linkViaPopup":case"linkViaRedirect":return Zl;case"reauthViaPopup":case"reauthViaRedirect":return $l;default:Ja(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tc=new uo(2e3,1e4);class nc extends ec{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nc.currentPopupAction&&nc.currentPopupAction.cancel(),nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return no(e,this.auth,"internal-error"),e}async onExecution(){io(1===this.filter.length,"Popup operations only handle one event");const e=Il();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject($a(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject($a(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject($a(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,tc.get())};e()}}nc.currentPopupAction=null;const rc="pendingRedirect",ic=new Map;class sc extends ec{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=lc(t),r=uc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Px){e=()=>Promise.reject(Px)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function ac(e,t){return uc(e)._set(lc(t),"true")}function oc(e,t){ic.set(e._key(),t)}function uc(e){return Po(e._redirectPersistence)}function lc(e){return Mo(rc,e.config.apiKey,e.name)}function cc(e,t,n){return async function(e,t,n){const r=iu(e);eo(e,t,Su),await r._initializationPromise;const i=Yl(r,n);return await ac(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function dc(e,t,n){return async function(e,t,n){const r=Ji(e);eo(r.auth,t,Su),await r.auth._initializationPromise;const i=Yl(r.auth,n);await ac(i,r.auth);const s=await pc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function hc(e,t,n){return async function(e,t,n){const r=Ji(e);eo(r.auth,t,Su),await r.auth._initializationPromise;const i=Yl(r.auth,n);await Vu(!1,r,t.providerId),await ac(i,r.auth);const s=await pc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function fc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=iu(e),i=Yl(r,t),s=new sc(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function pc(e){const t=Il("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class mc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!vc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError($a(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gc(e))}saveEventToCache(e){this.cachedEventUids.add(gc(e)),this.lastProcessedEventTime=Date.now()}}function gc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function vc(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function yc(e){return mo(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const bc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wc=/^https?/;function _c(e){const t=so(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wc.test(n))return!1;if(bc.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Ic=new uo(3e4,6e4);function Sc(){const e=El().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Ec=null;function Tc(e){return Ec=Ec||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){Sc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Sc(),n($a(e,"network-request-failed"))},timeout:Ic.get()})}if(null===(i=null===(r=El().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=El().gapi)||void 0===s?void 0:s.load)){const t=Zo("iframefcb");return El()[t]=()=>{gapi.load?a():n($a(e,"network-request-failed"))},$o("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Ec=null,e}))}(e),Ec}const kc=new uo(5e3,15e3),Cc="__/auth/iframe",xc="emulator/auth/iframe",Nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ac=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dc(e){const t=e.config;no(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lo(t,xc):"https://".concat(e.config.authDomain,"/").concat(Cc),r={apiKey:t.apiKey,appName:e.name,v:ha},i=Ac.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Gi(r).slice(1))}const Pc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Px){}}}function Oc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u=Object.assign(Object.assign({},Pc),{width:r.toString(),height:i.toString(),top:s,left:a}),l=Ri().toLowerCase();n&&(o=Vo(l)?"_blank":n),Fo(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Go(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Rc(null);const d=window.open(t||"",o,c);no(d,e,"popup-blocked");try{d.focus()}catch(Px){}return new Rc(d)}const Mc="__/auth/handler",Lc="emulator/auth/handler",qc=encodeURIComponent("fac");async function Fc(e,t,n,r,i,s){no(e.config.authDomain,e,"auth-domain-config-required"),no(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ha,eventId:i};if(t instanceof Su){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Eu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))void 0===o[c]&&delete o[c];const u=await e._getAppCheckToken(),l=u?"#".concat(qc,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Mc);return lo(t,Lc)}(e),"?").concat(Gi(o).slice(1)).concat(l)}const Uc="webStorageSupport";const Vc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wl,this._completeRedirectFn=fc,this._overrideRedirectResult=oc}async _openPopup(e,t,n,r){var i;io(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Oc(e,await Fc(e,t,n,so(),r),Il())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){El().location.href=e}(await Fc(e,t,n,so(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(io(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Tc(e),n=El().gapi;return no(n,e,"internal-error"),t.open({where:document.body,url:Dc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nc,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=$a(e,"network-request-failed"),s=El().setTimeout((()=>{r(i)}),kc.get());function a(){El().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new mc(e);return t.register("authEvent",(t=>{no(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Uc,{type:Uc},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Uc];void 0!==i&&t(!!i),Ja(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await yc(e);for(const n of t)try{if(_c(n))return}catch(_T){}Ja(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Wo()||Uo()||Go()}};class jc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ro("unexpected MultiFactorSessionType")}}}class zc extends jc{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new zc(e)}_finalizeEnroll(e,t,n){return function(e,t){return mo(e,"POST","/v2/accounts/mfaEnrollment:finalize",po(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return mo(e,"POST","/v2/accounts/mfaSignIn:finalize",po(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Bc{constructor(){}static assertion(e){return zc._fromCredential(e)}}Bc.FACTOR_ID="phone";var Kc="@firebase/auth",Gc="0.23.2";class Wc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){no(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Ai())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Hc;function Qc(){return window}Hc="Browser",aa(new $i("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;no(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:Hc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ho(Hc)},l=new ru(r,i,s,u);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Po);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),aa(new $i("auth-internal",(e=>(e=>new Wc(e))(iu(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),va(Kc,Gc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Hc)),va(Kc,Gc,"esm2017");async function Yc(e,t,n){var r;const{BuildInfo:i}=Qc();io(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(io(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Go()?a.ibi=i.packageName:zo()?a.apn=i.packageName:Ja(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Fc(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Xc(e){const{cordova:t}=Qc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Jc=20;class $c extends mc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Zc(e){const t=await nd()._get(rd(e));return t&&await nd()._remove(rd(e)),t}function ed(e,t){var n,r;const i=function(e){const t=id(e),n=t.link?decodeURIComponent(t.link):void 0,r=id(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return id(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=id(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(Px){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?$a(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function td(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Jc;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function nd(){return Po(yl)}function rd(e){return Mo("authEvent",e.config.apiKey,e.name)}function id(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Wi(n.join("?"))}const sd=class{constructor(){this._redirectPersistence=wl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fc,this._overrideRedirectResult=oc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new $c(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ja(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,u,l,c;const d=Qc();no("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),no("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),no("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),no("function"===typeof(null===(u=null===(o=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),no("function"===typeof(null===(c=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ic.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:td(),postBody:null,tenantId:e.tenantId,error:$a(e,"no-auth-event")}}(e,n,r);await function(e,t){return nd()._set(rd(e),t)}(e,s);const a=await Yc(e,s,t);return async function(e,t,n){const{cordova:r}=Qc();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){o||(o=window.setTimeout((()=>{a($a(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(u),document.addEventListener("resume",l,!1),zo()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Xc(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Qc(),n={};Go()?n.iosBundleId=t.packageName:zo()?n.androidPackageName=t.packageName:Ja(e,"operation-not-supported-in-this-environment"),await yc(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Qc(),s=setTimeout((async()=>{await Zc(e),t.onEvent(ad())}),500),a=async n=>{clearTimeout(s);const r=await Zc(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=ed(r,n.url)),t.onEvent(i||ad())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,u="".concat(i.packageName.toLowerCase(),"://");Qc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"===typeof o)try{o(e)}catch(Px){console.error(Px)}}}};function ad(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:$a("no-auth-event")}}function od(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ud(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return!("file:"!==od()&&"ionic:"!==od()&&"capacitor:"!==od()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return qi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri();return/Edge\/\d+/.test(e)}(e)}function cd(){try{const e=self.localStorage,t=Il();if(e)return e.setItem(t,"1"),e.removeItem(t),!ld()||Fi()}catch(Px){return dd()&&Fi()}return!1}function dd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hd(){return("http:"===od()||"https:"===od()||Mi()||ud())&&!(Li()||Oi())&&cd()&&!dd()}function fd(){return ud()&&"undefined"!==typeof document}const pd={LOCAL:"local",NONE:"none",SESSION:"session"},md=no,gd="persistence";async function vd(e){await e._initializationPromise;const t=yd(),n=Mo(gd,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function yd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(Px){return null}}const bd=no;class wd{constructor(){this.browserResolver=Po(Vc),this.cordovaResolver=Po(sd),this.underlyingResolver=null,this._redirectPersistence=wl,this._completeRedirectFn=fc,this._overrideRedirectResult=oc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return fd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return bd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!fd()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function _d(e){return e.unwrap()}function Id(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new kd(e,function(e,t){var n;const r=Ji(e),i=t;return no(t.customData.operationType,r,"argument-error"),no(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),hl._fromError(r,i)}(e,t))}else if(r){const e=Sd(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Sd(e){const{_tokenResponse:t}=e instanceof Ui?e.customData:e;if(!t)return null;if(!(e instanceof Ui)&&"temporaryProof"in t&&"phoneNumber"in t)return Ql.credentialFromResult(e);const n=t.providerId;if(!n||n===Fa.PASSWORD)return null;let r;switch(n){case Fa.GOOGLE:r=Cu;break;case Fa.FACEBOOK:r=ku;break;case Fa.GITHUB:r=xu;break;case Fa.TWITTER:r=Du;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Nu._create(n,a):yu._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new Tu(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof Ui?r.credentialFromError(e):r.credentialFromResult(e)}function Ed(e,t){return t.catch((t=>{throw t instanceof Ui&&Id(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Sd(r)),additionalUserInfo:cl(e),user:Cd.getOrCreate(n)};var r}))}async function Td(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Ed(e,n.confirm(t))}}class kd{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ed(_d(this.auth),this.resolver.resolveSignIn(e))}}class Cd{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Ji(e);return pl.has(t)||pl.set(t,fl._fromUser(t)),pl.get(t)}(e)}static getOrCreate(e){return Cd.USER_MAP.has(e)||Cd.USER_MAP.set(e,new Cd(e)),Cd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ed(this.auth,Ku(this._delegate,e))}async linkWithPhoneNumber(e,t){return Td(this.auth,async function(e,t,n){const r=Ji(e);await Vu(!1,r,"phone");const i=await Hl(r.auth,t,Ji(n));return new Wl(i,(e=>Ku(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Ed(this.auth,async function(e,t,n){const r=Ji(e);eo(r.auth,t,Su);const i=Yl(r.auth,n);return new nc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,wd))}async linkWithRedirect(e){return await vd(iu(this.auth)),hc(this._delegate,e,wd)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ed(this.auth,Gu(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Td(this.auth,async function(e,t,n){const r=Ji(e),i=await Hl(r.auth,t,Ji(n));return new Wl(i,(e=>Gu(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ed(this.auth,async function(e,t,n){const r=Ji(e);eo(r.auth,t,Su);const i=Yl(r.auth,n);return new nc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,wd))}async reauthenticateWithRedirect(e){return await vd(iu(this.auth)),dc(this._delegate,e,wd)}sendEmailVerification(e){return el(this._delegate,e)}async unlink(e){return await Fu(this._delegate,e),this}updateEmail(e){return function(e,t){return rl(Ji(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return rl(Ji(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Uu(Ji(e),t)}(this._delegate,e)}updateProfile(e){return nl(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return tl(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cd.USER_MAP=new WeakMap;const xd=no;class Nd{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;xd(n,"invalid-api-key",{appName:e.name}),xd(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?wd:void 0;this._delegate=t.initialize({options:{persistence:Dd(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Wa),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){au(this._delegate,e,t)}applyActionCode(e){return Ju(this._delegate,e)}checkActionCode(e){return $u(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await cu(Ji(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Ed(this._delegate,async function(e,t,n){var r;const i=iu(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await tu(i,s,"signUpPassword");a=Pu(i,e)}else a=Pu(i,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await tu(i,s,"signUpPassword");return Pu(i,e)}return Promise.reject(e)}));const o=await a.catch((e=>Promise.reject(e))),u=await Ru._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(u.user),u}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Zu(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=_u.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){xd(hd(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await iu(e)._initializationPromise,fc(e,t,!1)}(this._delegate,wd);return e?Ed(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){iu(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Ad(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Ad(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=iu(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(e,t){no(t.handleCodeInApp,i,"argument-error"),t&&Xu(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await tu(i,s,"getOobCode",!0);a(e,n),await mu(i,e)}else a(s,n),await mu(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await tu(i,s,"getOobCode",!0);a(e,n),await mu(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=iu(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await tu(i,s,"getOobCode",!0);n&&Xu(i,e,n),await pu(i,e)}else n&&Xu(i,s,n),await pu(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await tu(i,s,"getOobCode",!0);n&&Xu(i,e,n),await pu(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){md(Object.values(pd).includes(t),e,"invalid-persistence-type"),Li()?md(t!==pd.SESSION,e,"unsupported-persistence-type"):Oi()?md(t===pd.NONE,e,"unsupported-persistence-type"):dd()?md(t===pd.NONE||t===pd.LOCAL&&Fi(),e,"unsupported-persistence-type"):md(t===pd.NONE||cd(),e,"unsupported-persistence-type")}(this._delegate,e),e){case pd.SESSION:t=wl;break;case pd.LOCAL:t=await Po(Ml)._isAvailable()?Ml:yl;break;case pd.NONE:t=Oo;break;default:return Ja("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ed(this._delegate,async function(e){var t;const n=iu(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ru({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Pu(n,{returnSecureToken:!0}),i=await Ru._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Ed(this._delegate,Bu(this._delegate,e))}signInWithCustomToken(e){return Ed(this._delegate,Wu(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ed(this._delegate,function(e,t,n){return Bu(Ji(e),Iu.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Ed(this._delegate,async function(e,t,n){const r=Ji(e),i=Iu.credentialWithLink(t,n||so());return no(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Bu(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Td(this._delegate,async function(e,t,n){const r=iu(e),i=await Hl(r,t,Ji(n));return new Wl(i,(e=>Bu(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return xd(hd(),this._delegate,"operation-not-supported-in-this-environment"),Ed(this._delegate,async function(e,t,n){const r=iu(e);eo(e,t,Su);const i=Yl(r,n);return new nc(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,wd))}async signInWithRedirect(e){return xd(hd(),this._delegate,"operation-not-supported-in-this-environment"),await vd(this._delegate),cc(this._delegate,e,wd)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await $u(Ji(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Ad(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Cd.getOrCreate(e)),error:t,complete:n}}function Dd(e,t){const n=function(e,t){const n=yd();if(!n)return[];const r=Mo(gd,e,t);switch(n.getItem(r)){case pd.NONE:return[Oo];case pd.LOCAL:return[Ml,wl];case pd.SESSION:return[wl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ml)||n.push(Ml),"undefined"!==typeof window)for(const r of[yl,wl])n.includes(r)||n.push(r);return n.includes(Oo)||n.push(Oo),n}Nd.Persistence=pd;class Pd{constructor(){this.providerId="phone",this._delegate=new Ql(_d(La.auth()))}static credential(e,t){return Ql.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Pd.PHONE_SIGN_IN_METHOD=Ql.PHONE_SIGN_IN_METHOD,Pd.PROVIDER_ID=Ql.PROVIDER_ID;const Rd=no;class Od{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:La.app();var r;Rd(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Gl(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Md;(Md=La).INTERNAL.registerComponent(new $i("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Nd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ua,PASSWORD_RESET:Va,RECOVER_EMAIL:ja,REVERT_SECOND_FACTOR_ADDITION:za,VERIFY_AND_CHANGE_EMAIL:Ba,VERIFY_EMAIL:Ka}},EmailAuthProvider:Iu,FacebookAuthProvider:ku,GithubAuthProvider:xu,GoogleAuthProvider:Cu,OAuthProvider:Tu,SAMLAuthProvider:Au,PhoneAuthProvider:Pd,PhoneMultiFactorGenerator:Bc,RecaptchaVerifier:Od,TwitterAuthProvider:Du,Auth:Nd,AuthCredential:lu,Error:Ui}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Md.registerVersion("@firebase/auth-compat","0.4.2");var Ld,qd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fd={},Ud=Ud||{},Vd=qd||self;function jd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bd="closure_uid_"+(1e9*Math.random()>>>0),Kd=0;function Gd(e,t,n){return e.call.apply(e.bind,arguments)}function Wd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Hd(e,t,n){return(Hd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gd:Wd).apply(null,arguments)}function Qd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Yd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Xd(){this.s=this.s,this.o=this.o}Xd.prototype.s=!1,Xd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Bd)&&e[Bd]||(e[Bd]=++Kd))},Xd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Zd(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(jd(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function eh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}eh.prototype.h=function(){this.defaultPrevented=!0};var th=function(){if(!Vd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vd.addEventListener("test",(()=>{}),t),Vd.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function nh(e){return/^[\s\xa0]*$/.test(e)}function rh(){var e=Vd.navigator;return e&&(e=e.userAgent)?e:""}function ih(e){return-1!=rh().indexOf(e)}function sh(e){return sh[" "](e),e}sh[" "]=function(){};var ah,oh,uh=ih("Opera"),lh=ih("Trident")||ih("MSIE"),ch=ih("Edge"),dh=ch||lh,hh=ih("Gecko")&&!(-1!=rh().toLowerCase().indexOf("webkit")&&!ih("Edge"))&&!(ih("Trident")||ih("MSIE"))&&!ih("Edge"),fh=-1!=rh().toLowerCase().indexOf("webkit")&&!ih("Edge");function ph(){var e=Vd.document;return e?e.documentMode:void 0}e:{var mh="",gh=function(){var e=rh();return hh?/rv:([^\);]+)(\)|;)/.exec(e):ch?/Edge\/([\d\.]+)/.exec(e):lh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):fh?/WebKit\/(\S+)/.exec(e):uh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gh&&(mh=gh?gh[1]:""),lh){var vh=ph();if(null!=vh&&vh>parseFloat(mh)){ah=String(vh);break e}}ah=mh}if(Vd.document&&lh){var yh=ph();oh=yh||(parseInt(ah,10)||void 0)}else oh=void 0;var bh=oh;function wh(e,t){if(eh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(hh){e:{try{sh(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_h[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wh.$.h.call(this)}}Yd(wh,eh);var _h={2:"touch",3:"pen",4:"mouse"};wh.prototype.h=function(){wh.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ih="closure_listenable_"+(1e6*Math.random()|0),Sh=0;function Eh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sh,this.fa=this.ia=!1}function Th(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function kh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Ch(e){const t={};for(const n in e)t[n]=e[n];return t}const xh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<xh.length;t++)n=xh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ah(e){this.src=e,this.g={},this.h=0}function Dh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Jd(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Th(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ph(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ah.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Ph(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Eh(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Rh="closure_lm_"+(1e6*Math.random()|0),Oh={};function Mh(e,t,n,r,i){if(r&&r.once)return qh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Mh(e,t[s],n,r,i);return null}return n=Kh(n),e&&e[Ih]?e.O(t,n,zd(r)?!!r.capture:!!r,i):Lh(e,t,n,!1,r,i)}function Lh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=zd(i)?!!i.capture:!!i,o=zh(e);if(o||(e[Rh]=o=new Ah(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=jh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)th||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)qh(e,t[s],n,r,i);return null}return n=Kh(n),e&&e[Ih]?e.P(t,n,zd(r)?!!r.capture:!!r,i):Lh(e,t,n,!0,r,i)}function Fh(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Fh(e,t[s],n,r,i);else r=zd(r)?!!r.capture:!!r,n=Kh(n),e&&e[Ih]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ph(s=e.g[t],n,r,i))&&(Th(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=zh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ph(t,n,r,i)),(n=-1<e?t[e]:null)&&Uh(n))}function Uh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ih])Dh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=zh(t))?(Dh(n,e),0==n.h&&(n.src=null,t[Rh]=null)):Th(e)}}}function Vh(e){return e in Oh?Oh[e]:Oh[e]="on"+e}function jh(e,t){if(e.fa)e=!0;else{t=new wh(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Uh(e),e=n.call(r,t)}return e}function zh(e){return(e=e[Rh])instanceof Ah?e:null}var Bh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kh(e){return"function"===typeof e?e:(e[Bh]||(e[Bh]=function(t){return e.handleEvent(t)}),e[Bh])}function Gh(){Xd.call(this),this.i=new Ah(this),this.S=this,this.J=null}function Wh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new eh(t,e);else if(t instanceof eh)t.target=t.target||e;else{var i=t;Nh(t=new eh(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Hh(a,r,!0,t)&&i}if(i=Hh(a=t.g=e,r,!0,t)&&i,i=Hh(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Hh(a=t.g=n[s],r,!1,t)&&i}function Hh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,u=a.la||a.src;a.ia&&Dh(e.i,a),i=!1!==o.call(u,r)&&i}}return i&&!r.defaultPrevented}Yd(Gh,Xd),Gh.prototype[Ih]=!0,Gh.prototype.removeEventListener=function(e,t,n,r){Fh(this,e,t,n,r)},Gh.prototype.N=function(){if(Gh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Th(n[r]);delete t.g[e],t.h--}}this.J=null},Gh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qh=Vd.JSON.stringify;function Yh(){var e=nf;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Jh),(e=>e.reset()));class Jh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $h(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Zh(e){Vd.setTimeout((()=>{throw e}),0)}let ef,tf=!1,nf=new class{constructor(){this.h=this.g=null}add(e,t){const n=Xh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},rf=()=>{const e=Vd.Promise.resolve(void 0);ef=()=>{e.then(sf)}};var sf=()=>{for(var e;e=Yh();){try{e.h.call(e.g)}catch(n){Zh(n)}var t=Xh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}tf=!1};function af(e,t){Gh.call(this),this.h=e||1,this.g=t||Vd,this.j=Hd(this.qb,this),this.l=Date.now()}function of(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function uf(e,t,n){if("function"===typeof e)n&&(e=Hd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Hd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vd.setTimeout(e,t||0)}function lf(e){e.g=uf((()=>{e.g=null,e.i&&(e.i=!1,lf(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Yd(af,Gh),(Ld=af.prototype).ga=!1,Ld.T=null,Ld.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Wh(this,"tick"),this.ga&&(of(this),this.start()))}},Ld.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ld.N=function(){af.$.N.call(this),of(this),delete this.g};class cf extends Xd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lf(this)}N(){super.N(),this.g&&(Vd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function df(e){Xd.call(this),this.h=e,this.g={}}Yd(df,Xd);var hf=[];function ff(e,t,n,r){Array.isArray(n)||(n&&(hf[0]=n.toString()),n=hf);for(var i=0;i<n.length;i++){var s=Mh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function pf(e){kh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Uh(e)}),e),e.g={}}function mf(){this.g=!0}function gf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Qh(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}df.prototype.N=function(){df.$.N.call(this),pf(this)},df.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mf.prototype.Ea=function(){this.g=!1},mf.prototype.info=function(){};var vf={},yf=null;function bf(){return yf=yf||new Gh}function wf(e){eh.call(this,vf.Ta,e)}function _f(e){const t=bf();Wh(t,new wf(t))}function If(e,t){eh.call(this,vf.STAT_EVENT,e),this.stat=t}function Sf(e){const t=bf();Wh(t,new If(t,e))}function Ef(e,t){eh.call(this,vf.Ua,e),this.size=t}function Tf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vd.setTimeout((function(){e()}),t)}vf.Ta="serverreachability",Yd(wf,eh),vf.STAT_EVENT="statevent",Yd(If,eh),vf.Ua="timingevent",Yd(Ef,eh);var kf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xf(){}function Nf(e){return e.h||(e.h=e.i())}function Af(){}xf.prototype.h=null;var Df,Pf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rf(){eh.call(this,"d")}function Of(){eh.call(this,"c")}function Mf(){}function Lf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new df(this),this.P=Ff,e=dh?125:void 0,this.V=new af(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qf}function qf(){this.i=null,this.g="",this.h=!1}Yd(Rf,eh),Yd(Of,eh),Yd(Mf,xf),Mf.prototype.g=function(){return new XMLHttpRequest},Mf.prototype.i=function(){return{}},Df=new Mf;var Ff=45e3,Uf={},Vf={};function jf(e,t,n){e.L=1,e.v=ap(tp(t)),e.s=n,e.S=!0,zf(e,null)}function zf(e,t){e.G=Date.now(),Wf(e),e.A=tp(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),bp(n.i,"t",r),e.C=0,n=e.l.J,e.h=new qf,e.g=wm(e.l,n?t:null,!e.s),0<e.O&&(e.M=new cf(Hd(e.Pa,e,e.g),e.O)),ff(e.U,e.g,"readystatechange",e.nb),t=e.I?Ch(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),_f(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),u=0;u<o.length;u++){var l=o[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");a=2<=d.length&&"type"==d[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Bf(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Kf(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Gf(e,n),r==Vf){4==t&&(e.o=4,Sf(14),i=!1),gf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uf){e.o=4,Sf(15),gf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gf(e.j,e.m,r,null),Jf(e,r)}Bf(e)&&r!=Vf&&r!=Uf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hm(t),t.M=!0,Sf(11))):(gf(e.j,e.m,n,"[Invalid Chunked Response]"),Xf(e),Yf(e))}function Gf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vf:(n=Number(t.substring(n,r)),isNaN(n)?Uf:(r+=1)+n>t.length?Vf:(t=t.slice(r,r+n),e.C=r+n,t))}function Wf(e){e.Y=Date.now()+e.P,Hf(e,e.P)}function Hf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Tf(Hd(e.lb,e),t)}function Qf(e){e.B&&(Vd.clearTimeout(e.B),e.B=null)}function Yf(e){0==e.l.H||e.J||mm(e.l,e)}function Xf(e){Qf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,of(e.V),pf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Jf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||kp(n.i,e)))if(!e.K&&kp(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;pm(n),im(n)}dm(n),Sf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Tf(Hd(n.ib,n),6e3));if(1>=Tp(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else vm(n,11)}else if((e.K||n.g==e)&&pm(n),!nh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Cp(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,sp(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=bm(r,r.J?r.pa:null,r.Y),a.K){xp(r.i,a);var o=a,u=r.L;u&&o.setTimeout(u),o.B&&(Qf(o),Wf(o)),r.g=a}else cm(r);0<n.j.length&&am(n)}else"stop"!=l[0]&&"close"!=l[0]||vm(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?vm(n,7):rm(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}_f()}catch(l){}}function $f(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(jd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(jd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Ld=Lf.prototype).setTimeout=function(e){this.P=e},Ld.nb=function(e){e=e.target;const t=this.M;t&&3==Jp(e)?t.l():this.Pa(e)},Ld.Pa=function(e){try{if(e==this.g)e:{const c=Jp(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||dh||this.g&&(this.h.h||this.g.ja()||$p(this.g)))){this.J||4!=c||7==t||_f(),Qf(this);var n=this.g.da();this.ca=n;t:if(Bf(this)){var r=$p(this.g);e="";var i=r.length,s=4==Jp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Xf(this),Yf(this);var a="";break t}this.h.i=new Vd.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,u=this.g;if((o=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nh(o)){var l=o;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Sf(12),Xf(this),Yf(this);break e}gf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jf(this,n)}this.S?(Kf(this,c,a),dh&&this.i&&3==c&&(ff(this.U,this.V,"tick",this.mb),this.V.start())):(gf(this.j,this.m,a,null),Jf(this,a)),4==c&&Xf(this),this.i&&!this.J&&(4==c?mm(this.l,this):(this.i=!1,Wf(this)))}else(function(e){const t={};e=(e.g&&2<=Jp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(nh(e[r]))continue;var n=$h(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Sf(12)):(this.o=0,Sf(13)),Xf(this),Yf(this)}}}catch(c){}},Ld.mb=function(){if(this.g){var e=Jp(this.g),t=this.g.ja();this.C<t.length&&(Qf(this),Kf(this,e,t),this.i&&4!=e&&Wf(this))}},Ld.cancel=function(){this.J=!0,Xf(this)},Ld.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(_f(),Sf(17)),Xf(this),this.o=2,Yf(this)):Hf(this,this.Y-e)};var Zf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ep(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ep){this.h=e.h,np(this,e.j),this.s=e.s,this.g=e.g,rp(this,e.m),this.l=e.l;var t=e.i,n=new mp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ip(this,n),this.o=e.o}else e&&(t=String(e).match(Zf))?(this.h=!1,np(this,t[1]||"",!0),this.s=op(t[2]||""),this.g=op(t[3]||"",!0),rp(this,t[4]),this.l=op(t[5]||"",!0),ip(this,t[6]||"",!0),this.o=op(t[7]||"")):(this.h=!1,this.i=new mp(null,this.h))}function tp(e){return new ep(e)}function np(e,t,n){e.j=n?op(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ip(e,t,n){t instanceof mp?(e.i=t,function(e,t){t&&!e.j&&(gp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vp(this,t),bp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=up(t,fp)),e.i=new mp(t,e.h))}function sp(e,t,n){e.i.set(t,n)}function ap(e){return sp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function op(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function up(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ep.prototype.toString=function(){var e=[],t=this.j;t&&e.push(up(t,cp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(up(t,cp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(up(n,"/"==n.charAt(0)?hp:dp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",up(n,pp)),e.join("")};var cp=/[#\/\?@]/g,dp=/[#\?:]/g,hp=/[#\?]/g,fp=/[#\?@]/g,pp=/#/g;function mp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function gp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vp(e,t){gp(e),t=wp(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function yp(e,t){return gp(e),t=wp(e,t),e.g.has(t)}function bp(e,t,n){vp(e,t),0<n.length&&(e.i=null,e.g.set(wp(e,t),$d(n)),e.h+=n.length)}function wp(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ld=mp.prototype).add=function(e,t){gp(this),this.i=null,e=wp(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ld.forEach=function(e,t){gp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ld.ta=function(){gp(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Ld.Z=function(e){gp(this);let t=[];if("string"===typeof e)yp(this,e)&&(t=t.concat(this.g.get(wp(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ld.set=function(e,t){return gp(this),this.i=null,yp(this,e=wp(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ld.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ld.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var _p=class{constructor(e,t){this.g=e,this.map=t}};function Ip(e){this.l=e||Sp,Vd.PerformanceNavigationTiming?e=0<(e=Vd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vd.g&&Vd.g.Ka&&Vd.g.Ka()&&Vd.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sp=10;function Ep(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Tp(e){return e.h?1:e.g?e.g.size:0}function kp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Cp(e,t){e.g?e.g.add(t):e.h=t}function xp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Np(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return $d(e.i)}Ip.prototype.cancel=function(){if(this.i=Np(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ap,Dp=class{stringify(e){return Vd.JSON.stringify(e,void 0)}parse(e){return Vd.JSON.parse(e,void 0)}};function Pp(){this.g=new Dp}function Rp(e,t,n){const r=n||"";try{$f(e,(function(e,n){let i=e;zd(e)&&(i=Qh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Px){throw t.push(r+"type="+encodeURIComponent("_badmap")),Px}}function Op(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Mp(e){this.l=e.fc||null,this.j=e.ob||!1}function Lp(e,t){Gh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=qp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yd(Mp,xf),Mp.prototype.g=function(){return new Lp(this.l,this.j)},Mp.prototype.i=(Ap={},function(){return Ap}),Yd(Lp,Gh);var qp=0;function Fp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Up(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vp(e)}function Vp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ld=Lp.prototype).open=function(e,t){if(this.readyState!=qp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vp(this)},Ld.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ld.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Up(this)),this.readyState=qp},Ld.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vp(this)),this.g&&(this.readyState=3,Vp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Vd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ld.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Up(this):Vp(this),3==this.readyState&&Fp(this)}},Ld.Za=function(e){this.g&&(this.response=this.responseText=e,Up(this))},Ld.Ya=function(e){this.g&&(this.response=e,Up(this))},Ld.ka=function(){this.g&&Up(this)},Ld.setRequestHeader=function(e,t){this.v.append(e,t)},Ld.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ld.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var jp=Vd.JSON.parse;function zp(e){Gh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Bp,this.L=this.M=!1}Yd(zp,Gh);var Bp="",Kp=/^https?$/i,Gp=["POST","PUT"];function Wp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Hp(e),Yp(e)}function Hp(e){e.F||(e.F=!0,Wh(e,"complete"),Wh(e,"error"))}function Qp(e){if(e.h&&"undefined"!=typeof Ud&&(!e.C[1]||4!=Jp(e)||2!=e.da()))if(e.v&&4==Jp(e))uf(e.La,0,e);else if(Wh(e,"readystatechange"),4==Jp(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Zf)[1]||null;!i&&Vd.self&&Vd.self.location&&(i=Vd.self.location.protocol.slice(0,-1)),r=!Kp.test(i?i.toLowerCase():"")}n=r}if(n)Wh(e,"complete"),Wh(e,"success");else{e.m=6;try{var s=2<Jp(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Hp(e)}}finally{Yp(e)}}}function Yp(e,t){if(e.g){Xp(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Wh(e,"ready");try{n.onreadystatechange=r}catch(Px){}}}function Xp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vd.clearTimeout(e.A),e.A=null)}function Jp(e){return e.g?e.g.readyState:0}function $p(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Bp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(rg){return null}}function Zp(e){let t="";return kh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function em(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Zp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sp(e,t,n))}function tm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nm(e){this.Ga=0,this.j=[],this.l=new mf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=tm("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=tm("baseRetryDelayMs",5e3,e),this.hb=tm("retryDelaySeedMs",1e4,e),this.eb=tm("forwardChannelMaxRetries",2,e),this.xa=tm("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ip(e&&e.concurrentRequestLimit),this.Ja=new Pp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rm(e){if(sm(e),3==e.H){var t=e.W++,n=tp(e.I);if(sp(n,"SID",e.K),sp(n,"RID",t),sp(n,"TYPE","terminate"),um(e,n),(t=new Lf(e,e.l,t)).L=2,t.v=ap(tp(n)),n=!1,Vd.navigator&&Vd.navigator.sendBeacon)try{n=Vd.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Vd.Image&&((new Image).src=t.v,n=!0),n||(t.g=wm(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Wf(t)}ym(e)}function im(e){e.g&&(hm(e),e.g.cancel(),e.g=null)}function sm(e){im(e),e.u&&(Vd.clearTimeout(e.u),e.u=null),pm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vd.clearTimeout(e.m),e.m=null)}function am(e){if(!Ep(e.i)&&!e.m){e.m=!0;var t=e.Na;ef||rf(),tf||(ef(),tf=!0),nf.add(t,e),e.C=0}}function om(e,t){var n;n=t?t.m:e.W++;const r=tp(e.I);sp(r,"SID",e.K),sp(r,"RID",n),sp(r,"AID",e.V),um(e,r),e.o&&e.s&&em(r,e.o,e.s),n=new Lf(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=lm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Cp(e.i,n),jf(n,r,t)}function um(e,t){e.na&&kh(e.na,(function(e,n){sp(t,n,e)})),e.h&&$f({},(function(e,n){sp(t,n,e)}))}function lm(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Hd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Rp(o,e,"req"+n+"_")}catch(pg){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function cm(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ef||rf(),tf||(ef(),tf=!0),nf.add(t,e),e.A=0}}function dm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Tf(Hd(e.Ma,e),gm(e,e.A)),e.A++,!0)}function hm(e){null!=e.B&&(Vd.clearTimeout(e.B),e.B=null)}function fm(e){e.g=new Lf(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tp(e.wa);sp(t,"RID","rpc"),sp(t,"SID",e.K),sp(t,"AID",e.V),sp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sp(t,"TO",e.qa),sp(t,"TYPE","xmlhttp"),um(e,t),e.o&&e.s&&em(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ap(tp(t)),n.s=null,n.S=!0,zf(n,e)}function pm(e){null!=e.v&&(Vd.clearTimeout(e.v),e.v=null)}function mm(e,t){var n=null;if(e.g==t){pm(e),hm(e),e.g=null;var r=2}else{if(!kp(e.i,t))return;n=t.F,xp(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Wh(r=bf(),new Ef(r,n)),am(e)}else cm(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Tp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Tf(Hd(e.Na,e,t),gm(e,e.C)),e.C++,!0))}(e,t)||2==r&&dm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vm(e,5);break;case 4:vm(e,10);break;case 3:vm(e,6);break;default:vm(e,2)}}function gm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function vm(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Hd(e.pb,e);n||(n=new ep("//www.google.com/images/cleardot.gif"),Vd.location&&"http"==Vd.location.protocol||np(n,"https"),ap(n)),function(e,t){const n=new mf;if(Vd.Image){const r=new Image;r.onload=Qd(Op,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Qd(Op,n,r,"TestLoadImage: error",!1,t),r.onabort=Qd(Op,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Qd(Op,n,r,"TestLoadImage: timeout",!1,t),Vd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sf(2);e.H=0,e.h&&e.h.za(t),ym(e),sm(e)}function ym(e){if(e.H=0,e.ma=[],e.h){const t=Np(e.i);0==t.length&&0==e.j.length||(Zd(e.ma,t),Zd(e.ma,e.j),e.i.i.length=0,$d(e.j),e.j.length=0),e.h.ya()}}function bm(e,t,n){var r=n instanceof ep?tp(n):new ep(n);if(""!=r.g)t&&(r.g=t+"."+r.g),rp(r,r.m);else{var i=Vd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new ep(null);r&&np(s,r),t&&(s.g=t),i&&rp(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&sp(r,n,t),sp(r,"VER",e.ra),um(e,r),r}function wm(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new zp(new Mp({ob:!0})):new zp(e.va)).Oa(e.J),t}function _m(){}function Im(){if(lh&&!(10<=Number(bh)))throw Error("Environmental error: no available transport.")}function Sm(e,t){Gh.call(this),this.g=new nm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!nh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!nh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new km(this)}function Em(e){Rf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Tm(){Of.call(this),this.status=1}function km(e){this.g=e}function Cm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Nm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Ld=zp.prototype).Oa=function(e){this.M=e},Ld.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Df.g(),this.C=this.u?Nf(this.u):Nf(Df),this.g.onreadystatechange=Hd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Wp(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Vd.FormData&&e instanceof Vd.FormData,!(0<=Jd(Gp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xp(this),0<this.B&&((this.L=function(e){return lh&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hd(this.ua,this)):this.A=uf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Wp(this,s)}},Ld.ua=function(){"undefined"!=typeof Ud&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wh(this,"timeout"),this.abort(8))},Ld.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Wh(this,"complete"),Wh(this,"abort"),Yp(this))},Ld.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yp(this,!0)),zp.$.N.call(this)},Ld.La=function(){this.s||(this.G||this.v||this.l?Qp(this):this.kb())},Ld.kb=function(){Qp(this)},Ld.isActive=function(){return!!this.g},Ld.da=function(){try{return 2<Jp(this)?this.g.status:-1}catch(Ap){return-1}},Ld.ja=function(){try{return this.g?this.g.responseText:""}catch(Ap){return""}},Ld.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),jp(t)}},Ld.Ia=function(){return this.m},Ld.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ld=nm.prototype).ra=8,Ld.H=1,Ld.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Lf(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Ch(s),Nh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=lm(this,i,t),sp(n=tp(this.I),"RID",e),sp(n,"CVER",22),this.F&&sp(n,"X-HTTP-Session-Id",this.F),um(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Zp(s)))+"&"+t:this.o&&em(n,this.o,s)),Cp(this.i,i),this.bb&&sp(n,"TYPE","init"),this.P?(sp(n,"$req",t),sp(n,"SID","null"),i.aa=!0,jf(i,n,null)):jf(i,n,t),this.H=2}}else 3==this.H&&(e?om(this,e):0==this.j.length||Ep(this.i)||om(this))},Ld.Ma=function(){if(this.u=null,fm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Tf(Hd(this.jb,this),e)}},Ld.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Sf(10),im(this),fm(this))},Ld.ib=function(){null!=this.v&&(this.v=null,im(this),dm(this),Sf(19))},Ld.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Sf(2)):(this.l.info("Failed to ping google.com"),Sf(1))},Ld.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ld=_m.prototype).Ba=function(){},Ld.Aa=function(){},Ld.za=function(){},Ld.ya=function(){},Ld.isActive=function(){return!0},Ld.Va=function(){},Im.prototype.g=function(e,t){return new Sm(e,t)},Yd(Sm,Gh),Sm.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Sf(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bm(e,null,e.Y),am(e)},Sm.prototype.close=function(){rm(this.g)},Sm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Qh(e),e=n);t.j.push(new _p(t.fb++,e)),3==t.H&&am(t)},Sm.prototype.N=function(){this.g.h=null,delete this.j,rm(this.g),delete this.g,Sm.$.N.call(this)},Yd(Em,Rf),Yd(Tm,Of),Yd(km,_m),km.prototype.Ba=function(){Wh(this.g,"a")},km.prototype.Aa=function(e){Wh(this.g,new Em(e))},km.prototype.za=function(e){Wh(this.g,new Tm)},km.prototype.ya=function(){Wh(this.g,"b")},Yd(Cm,(function(){this.blockSize=-1})),Cm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)xm(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){xm(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){xm(this,r),i=0;break}}this.h=i,this.i+=t},Cm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Am={};function Dm(e){return-128<=e&&128>e?function(e,t){var n=Am;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Nm([0|e],0>e?-1:0)})):new Nm([0|e],0>e?-1:0)}function Pm(e){if(isNaN(e)||!isFinite(e))return Om;if(0>e)return Um(Pm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Rm;return new Nm(t,0)}var Rm=4294967296,Om=Dm(0),Mm=Dm(1),Lm=Dm(16777216);function qm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fm(e){return-1==e.h}function Um(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Nm(n,~e.h).add(Mm)}function Vm(e,t){return e.add(Um(t))}function jm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function zm(e,t){this.g=e,this.h=t}function Bm(e,t){if(qm(t))throw Error("division by zero");if(qm(e))return new zm(Om,Om);if(Fm(e))return t=Bm(Um(e),t),new zm(Um(t.g),Um(t.h));if(Fm(t))return t=Bm(e,Um(t)),new zm(Um(t.g),t.h);if(30<e.g.length){if(Fm(e)||Fm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Mm,r=t;0>=r.X(e);)n=Km(n),r=Km(r);var i=Gm(n,1),s=Gm(r,1);for(r=Gm(r,2),n=Gm(n,2);!qm(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Gm(r,1),n=Gm(n,1)}return t=Vm(e,i.R(t)),new zm(i,t)}for(i=Om;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Pm(n)).R(t);Fm(a)||0<a.X(e);)a=(s=Pm(n-=r)).R(t);qm(s)&&(s=Mm),i=i.add(s),e=Vm(e,a)}return new zm(i,e)}function Km(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Nm(n,e.h)}function Gm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Nm(i,e.h)}(Ld=Nm.prototype).ea=function(){if(Fm(this))return-Um(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Rm+r)*t,t*=Rm}return e},Ld.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(qm(this))return"0";if(Fm(this))return"-"+Um(this).toString(e);for(var t=Pm(Math.pow(e,6)),n=this,r="";;){var i=Bm(n,t).g,s=((0<(n=Vm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(qm(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Ld.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ld.X=function(e){return Fm(e=Vm(this,e))?-1:qm(e)?0:1},Ld.abs=function(){return Fm(this)?Um(this):this},Ld.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Nm(n,-2147483648&n[n.length-1]?-1:0)},Ld.R=function(e){if(qm(this)||qm(e))return Om;if(Fm(this))return Fm(e)?Um(this).R(Um(e)):Um(Um(this).R(e));if(Fm(e))return Um(this.R(Um(e)));if(0>this.X(Lm)&&0>e.X(Lm))return Pm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=a*u,jm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,jm(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,jm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,jm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Nm(n,0)},Ld.gb=function(e){return Bm(this,e).h},Ld.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Nm(n,this.h&e.h)},Ld.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Nm(n,this.h|e.h)},Ld.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Nm(n,this.h^e.h)},Im.prototype.createWebChannel=Im.prototype.g,Sm.prototype.send=Sm.prototype.u,Sm.prototype.open=Sm.prototype.m,Sm.prototype.close=Sm.prototype.close,kf.NO_ERROR=0,kf.TIMEOUT=8,kf.HTTP_ERROR=6,Cf.COMPLETE="complete",Af.EventType=Pf,Pf.OPEN="a",Pf.CLOSE="b",Pf.ERROR="c",Pf.MESSAGE="d",Gh.prototype.listen=Gh.prototype.O,zp.prototype.listenOnce=zp.prototype.P,zp.prototype.getLastError=zp.prototype.Sa,zp.prototype.getLastErrorCode=zp.prototype.Ia,zp.prototype.getStatus=zp.prototype.da,zp.prototype.getResponseJson=zp.prototype.Wa,zp.prototype.getResponseText=zp.prototype.ja,zp.prototype.send=zp.prototype.ha,zp.prototype.setWithCredentials=zp.prototype.Oa,Cm.prototype.digest=Cm.prototype.l,Cm.prototype.reset=Cm.prototype.reset,Cm.prototype.update=Cm.prototype.j,Nm.prototype.add=Nm.prototype.add,Nm.prototype.multiply=Nm.prototype.R,Nm.prototype.modulo=Nm.prototype.gb,Nm.prototype.compare=Nm.prototype.X,Nm.prototype.toNumber=Nm.prototype.ea,Nm.prototype.toString=Nm.prototype.toString,Nm.prototype.getBits=Nm.prototype.D,Nm.fromNumber=Pm,Nm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Um(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Pm(Math.pow(n,8)),i=Om,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Pm(Math.pow(n,a)),i=i.R(a).add(Pm(o))):i=(i=i.R(r)).add(Pm(o))}return i};var Wm=Fd.createWebChannelTransport=function(){return new Im},Hm=Fd.getStatEventTarget=function(){return bf()},Qm=Fd.ErrorCode=kf,Ym=Fd.EventType=Cf,Xm=Fd.Event=vf,Jm=Fd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$m=Fd.FetchXmlHttpFactory=Mp,Zm=Fd.WebChannel=Af,eg=Fd.XhrIo=zp,tg=Fd.Md5=Cm,ng=Fd.Integer=Nm;const rg="@firebase/firestore";class ig{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ig.UNAUTHENTICATED=new ig(null),ig.GOOGLE_CREDENTIALS=new ig("google-credentials-uid"),ig.FIRST_PARTY=new ig("first-party-uid"),ig.MOCK_USER=new ig("mock-user");let sg="9.23.0";const ag=new us("@firebase/firestore");function og(){return ag.logLevel}function ug(e){if(ag.logLevel<=rs.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dg);ag.debug("Firestore (".concat(sg,"): ").concat(e),...i)}}function lg(e){if(ag.logLevel<=rs.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dg);ag.error("Firestore (".concat(sg,"): ").concat(e),...i)}}function cg(e){if(ag.logLevel<=rs.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(dg);ag.warn("Firestore (".concat(sg,"): ").concat(e),...i)}}function dg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function hg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(sg,") INTERNAL ASSERTION FAILED: ")+e;throw lg(t),new Error(t)}function fg(e,t){e||hg()}function pg(e,t){return e}const mg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gg extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vg{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class bg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ig.UNAUTHENTICATED)))}shutdown(){}}class wg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _g{constructor(e){this.t=e,this.currentUser=ig.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vg,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ug("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vg)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fg("string"==typeof t.accessToken),new yg(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fg(null===e||"string"==typeof e),new ig(e)}}class Ig{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=ig.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Sg{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ig(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(ig.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Eg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tg{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&ug("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,ug("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):ug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fg("string"==typeof e.token),this.T=e.token,new Eg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Cg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=kg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function xg(e,t){return e<t?-1:e>t?1:0}function Ng(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Ag(e){return e+"\0"}class Dg{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gg(mg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gg(mg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gg(mg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gg(mg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dg.fromMillis(Date.now())}static fromDate(e){return Dg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Dg(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xg(this.nanoseconds,e.nanoseconds):xg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pg(e)}static min(){return new Pg(new Dg(0,0))}static max(){return new Pg(new Dg(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rg{constructor(e,t,n){void 0===t?t=0:t>e.length&&hg(),void 0===n?n=e.length-t:n>e.length-t&&hg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Rg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rg?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Og extends Rg{construct(e,t,n){return new Og(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gg(mg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Og(e)}static emptyPath(){return new Og([])}}const Mg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lg extends Rg{construct(e,t,n){return new Lg(e,t,n)}static isValidIdentifier(e){return Mg.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gg(mg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gg(mg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gg(mg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gg(mg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lg(t)}static emptyPath(){return new Lg([])}}class qg{constructor(e){this.path=e}static fromPath(e){return new qg(Og.fromString(e))}static fromName(e){return new qg(Og.fromString(e).popFirst(5))}static empty(){return new qg(Og.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Og.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Og.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qg(new Og(e.slice()))}}class Fg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Ug(e){return e.fields.find((e=>2===e.kind))}function Vg(e){return e.fields.filter((e=>2!==e.kind))}Fg.UNKNOWN_ID=-1;class jg{constructor(e,t){this.fieldPath=e,this.kind=t}}class zg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zg(0,Gg.min())}}function Bg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pg.fromTimestamp(1e9===r?new Dg(n+1,0):new Dg(n,r));return new Gg(i,qg.empty(),t)}function Kg(e){return new Gg(e.readTime,e.key,-1)}class Gg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Gg(Pg.min(),qg.empty(),-1)}static max(){return new Gg(Pg.max(),qg.empty(),-1)}}function Wg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=qg.comparator(e.documentKey,t.documentKey),0!==n?n:xg(e.largestBatchId,t.largestBatchId))}const Hg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yg(e){if(e.code!==mg.FAILED_PRECONDITION||e.message!==Hg)throw e;ug("LocalStore","Unexpectedly lost primary lease")}class Xg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&hg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Xg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Xg?t:Xg.resolve(t)}catch(e){return Xg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Xg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Xg.reject(t)}static resolve(e){return new Xg(((t,n)=>{t(e)}))}static reject(e){return new Xg(((t,n)=>{n(e)}))}static waitFor(e){return new Xg(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Xg.resolve(!1);for(const n of e)t=t.next((e=>e?Xg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Xg(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const u=o;t(e[u]).next((e=>{s[u]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Xg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Jg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new vg,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ev(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=sv(t.target.error);this.v.reject(new ev(e,n))}}static open(e,t,n,r){try{return new Jg(t,e.transaction(r,n))}catch(e){throw new ev(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ug("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nv(t)}}class $g{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===$g.S(Ri())&&lg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ug("SimpleDb","Removing database:",e),rv(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fi())return!1;if($g.C())return!0;const e=Ri(),t=$g.S(e),n=0<t&&t<10,r=$g.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-blog",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(ug("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ev(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new gg(mg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new gg(mg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ev(e,r))},r.onupgradeneeded=e=>{ug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{ug("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=Jg.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Xg.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(ug("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Zg{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return rv(this.L.delete())}}class ev extends gg{constructor(e,t){super(mg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function tv(e){return"IndexedDbTransactionError"===e.name}class nv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ug("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ug("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),rv(n)}add(e){return ug("SimpleDb","ADD",this.store.name,e,e),rv(this.store.add(e))}get(e){return rv(this.store.get(e)).next((t=>(void 0===t&&(t=null),ug("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ug("SimpleDb","DELETE",this.store.name,e),rv(this.store.delete(e))}count(){return ug("SimpleDb","COUNT",this.store.name),rv(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Xg(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Xg(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){ug("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Xg(((n,r)=>{t.onerror=e=>{const t=sv(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Xg(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Zg(i),a=t(i.primaryKey,i.value,s);if(a instanceof Xg){const e=a.catch((e=>(s.done(),Xg.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>Xg.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function rv(e){return new Xg(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=sv(e.target.error);n(t)}}))}let iv=!1;function sv(e){const t=$g.S(Ri());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new gg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return iv||(iv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class av{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){ug("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{ug("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){tv(e)?ug("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Yg(e)}await this.et(6e4)}))}}class ov{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Xg.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return ug("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(ug("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Kg(t);Wg(r,n)>0&&(n=r)})),new Gg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class uv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function lv(e){return null==e}function cv(e){return 0===e&&1/e==-1/0}function dv(e){return"number"==typeof e&&Number.isInteger(e)&&!cv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function hv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=pv(t)),t=fv(e.get(n),t);return pv(t)}function fv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function pv(e){return e+"\x01\x01"}function mv(e){const t=e.length;if(fg(t>=2),2===t)return fg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Og.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&hg(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:hg()}s=t+2}return new Og(r)}uv.ct=-1;const gv=["userId","batchId"];function vv(e,t){return[e,hv(t)]}function yv(e,t,n){return[e,hv(t),n]}const bv={},wv=["prefixPath","collectionGroup","readTime","documentId"],_v=["prefixPath","collectionGroup","documentId"],Iv=["collectionGroup","readTime","prefixPath","documentId"],Sv=["canonicalId","targetId"],Ev=["targetId","path"],Tv=["path","targetId"],kv=["collectionId","parent"],Cv=["indexId","uid"],xv=["uid","sequenceNumber"],Nv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Av=["indexId","uid","orderedDocumentKey"],Dv=["userId","collectionPath","documentId"],Pv=["userId","collectionPath","largestBatchId"],Rv=["userId","collectionGroup","largestBatchId"],Ov=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Mv=[...Ov,"documentOverlays"],Lv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qv=Lv,Fv=[...qv,"indexConfiguration","indexState","indexEntries"];class Uv extends Qg{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Vv(e,t){const n=pg(e);return $g.M(n.ht,t)}function jv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Bv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Kv{constructor(e,t){this.comparator=e,this.root=t||Wv.EMPTY}insert(e,t){return new Kv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wv.BLACK,null,null))}remove(e){return new Kv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gv(this.root,e,this.comparator,!0)}}class Gv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Wv.RED,this.left=null!=r?r:Wv.EMPTY,this.right=null!=i?i:Wv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Wv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Wv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw hg();if(this.right.isRed())throw hg();const e=this.left.check();if(e!==this.right.check())throw hg();return e+(this.isRed()?0:1)}}Wv.EMPTY=null,Wv.RED=!0,Wv.BLACK=!1,Wv.EMPTY=new class{constructor(){this.size=0}get key(){throw hg()}get value(){throw hg()}get color(){throw hg()}get left(){throw hg()}get right(){throw hg()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Wv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hv{constructor(e){this.comparator=e,this.data=new Kv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qv(this.data.getIterator())}getIteratorFrom(e){return new Qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Hv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Hv(this.comparator);return t.data=e,t}}class Qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yv(e){return e.hasNext()?e.getNext():void 0}class Xv{constructor(e){this.fields=e,e.sort(Lg.comparator)}static empty(){return new Xv([])}unionWith(e){let t=new Hv(Lg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Xv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ng(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Jv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $v{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Jv("Invalid base64 string: "+e):e}}(e);return new $v(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new $v(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$v.EMPTY_BYTE_STRING=new $v("");const Zv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ey(e){if(fg(!!e),"string"==typeof e){let t=0;const n=Zv.exec(e);if(fg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ty(e.seconds),nanos:ty(e.nanos)}}function ty(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ny(e){return"string"==typeof e?$v.fromBase64String(e):$v.fromUint8Array(e)}function ry(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function iy(e){const t=e.mapValue.fields.__previous_value__;return ry(t)?iy(t):t}function sy(e){const t=ey(e.mapValue.fields.__local_write_time__.timestampValue);return new Dg(t.seconds,t.nanos)}class ay{constructor(e,t,n,r,i,s,a,o,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=u}}class oy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oy&&e.projectId===this.projectId&&e.database===this.database}}const uy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ly={nullValue:"NULL_VALUE"};function cy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ry(e)?4:Ey(e)?9007199254740991:10:hg()}function dy(e,t){if(e===t)return!0;const n=cy(e);if(n!==cy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sy(e).isEqual(sy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ey(e.timestampValue),r=ey(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ny(e.bytesValue).isEqual(ny(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ty(e.geoPointValue.latitude)===ty(t.geoPointValue.latitude)&&ty(e.geoPointValue.longitude)===ty(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ty(e.integerValue)===ty(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ty(e.doubleValue),r=ty(t.doubleValue);return n===r?cv(n)===cv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ng(e.arrayValue.values||[],t.arrayValue.values||[],dy);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jv(n)!==jv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!dy(n[i],r[i])))return!1;return!0}(e,t);default:return hg()}}function hy(e,t){return void 0!==(e.values||[]).find((e=>dy(e,t)))}function fy(e,t){if(e===t)return 0;const n=cy(e),r=cy(t);if(n!==r)return xg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ty(e.integerValue||e.doubleValue),r=ty(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return py(e.timestampValue,t.timestampValue);case 4:return py(sy(e),sy(t));case 5:return xg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ny(e),r=ny(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=xg(n[i],r[i]);if(0!==e)return e}return xg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=xg(ty(e.latitude),ty(t.latitude));return 0!==n?n:xg(ty(e.longitude),ty(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=fy(n[i],r[i]);if(e)return e}return xg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===uy.mapValue&&t===uy.mapValue)return 0;if(e===uy.mapValue)return 1;if(t===uy.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=xg(r[a],s[a]);if(0!==e)return e;const t=fy(n[r[a]],i[s[a]]);if(0!==t)return t}return xg(r.length,s.length)}(e.mapValue,t.mapValue);default:throw hg()}}function py(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return xg(e,t);const n=ey(e),r=ey(t),i=xg(n.seconds,r.seconds);return 0!==i?i:xg(n.nanos,r.nanos)}function my(e){return gy(e)}function gy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ey(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ny(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,qg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=gy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(gy(e.fields[i]));return n+"}"}(e.mapValue):hg();var t,n}function vy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yy(e){return!!e&&"integerValue"in e}function by(e){return!!e&&"arrayValue"in e}function wy(e){return!!e&&"nullValue"in e}function _y(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Iy(e){return!!e&&"mapValue"in e}function Sy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Sy(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sy(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ey(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ty(e){return"nullValue"in e?ly:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?vy(oy.empty(),qg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:hg()}function ky(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?vy(oy.empty(),qg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?uy:hg()}function Cy(e,t){const n=fy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function xy(e,t){const n=fy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ny{constructor(e){this.value=e}static empty(){return new Ny({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Iy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sy(t)}setAll(e){let t=Lg.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Sy(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return dy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ny(Sy(this.value))}}function Ay(e){const t=[];return zv(e.fields,((e,n)=>{const r=new Lg([e]);if(Iy(n)){const e=Ay(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Xv(t)}class Dy{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Dy(e,0,Pg.min(),Pg.min(),Pg.min(),Ny.empty(),0)}static newFoundDocument(e,t,n,r){return new Dy(e,1,t,Pg.min(),n,r,0)}static newNoDocument(e,t){return new Dy(e,2,t,Pg.min(),Pg.min(),Ny.empty(),0)}static newUnknownDocument(e,t){return new Dy(e,3,t,Pg.min(),Pg.min(),Ny.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ny.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ny.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dy&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dy(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Py{constructor(e,t){this.position=e,this.inclusive=t}}function Ry(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?qg.comparator(qg.fromName(a.referenceValue),n.key):fy(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Oy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!dy(e.position[n],t.position[n]))return!1;return!0}class My{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ly(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class qy{}class Fy extends qy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Qy(e,t,n):"array-contains"===t?new $y(e,n):"in"===t?new Zy(e,n):"not-in"===t?new eb(e,n):"array-contains-any"===t?new tb(e,n):new Fy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Yy(e,n):new Xy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(fy(t,this.value)):null!==t&&cy(this.value)===cy(t)&&this.matchesComparison(fy(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return hg()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Uy extends qy{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Uy(e,t)}matches(e){return Vy(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Vy(e){return"and"===e.op}function jy(e){return"or"===e.op}function zy(e){return By(e)&&Vy(e)}function By(e){for(const t of e.filters)if(t instanceof Uy)return!1;return!0}function Ky(e){if(e instanceof Fy)return e.field.canonicalString()+e.op.toString()+my(e.value);if(zy(e))return e.filters.map((e=>Ky(e))).join(",");{const t=e.filters.map((e=>Ky(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Gy(e,t){return e instanceof Fy?function(e,t){return t instanceof Fy&&e.op===t.op&&e.field.isEqual(t.field)&&dy(e.value,t.value)}(e,t):e instanceof Uy?function(e,t){return t instanceof Uy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Gy(n,t.filters[r])),!0)}(e,t):void hg()}function Wy(e,t){const n=e.filters.concat(t);return Uy.create(n,e.op)}function Hy(e){return e instanceof Fy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(my(e.value))}(e):e instanceof Uy?function(e){return e.op.toString()+" {"+e.getFilters().map(Hy).join(" ,")+"}"}(e):"Filter"}class Qy extends Fy{constructor(e,t,n){super(e,t,n),this.key=qg.fromName(n.referenceValue)}matches(e){const t=qg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Yy extends Fy{constructor(e,t){super(e,"in",t),this.keys=Jy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Xy extends Fy{constructor(e,t){super(e,"not-in",t),this.keys=Jy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Jy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>qg.fromName(e.referenceValue)))}class $y extends Fy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return by(t)&&hy(t.arrayValue,this.value)}}class Zy extends Fy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hy(this.value.arrayValue,t)}}class eb extends Fy{constructor(e,t){super(e,"not-in",t)}matches(e){if(hy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hy(this.value.arrayValue,t)}}class tb extends Fy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!by(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>hy(this.value.arrayValue,e)))}}class nb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function rb(e){return new nb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function ib(e){const t=pg(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ky(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),lv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>my(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>my(e))).join(",")),t.dt=e}return t.dt}function sb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ly(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Gy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oy(e.startAt,t.startAt)&&Oy(e.endAt,t.endAt)}function ab(e){return qg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ob(e,t){return e.filters.filter((e=>e instanceof Fy&&e.field.isEqual(t)))}function ub(e,t,n){let r=ly,i=!0;for(const s of ob(e,t)){let e=ly,t=!0;switch(s.op){case"<":case"<=":e=Ty(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=ly}Cy({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Cy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function lb(e,t,n){let r=uy,i=!0;for(const s of ob(e,t)){let e=uy,t=!0;switch(s.op){case">=":case">":e=ky(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=uy}xy({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];xy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class cb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function db(e,t,n,r,i,s,a,o){return new cb(e,t,n,r,i,s,a,o)}function hb(e){return new cb(e)}function fb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function pb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function mb(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function gb(e){return null!==e.collectionGroup}function vb(e){const t=pg(e);if(null===t.wt){t.wt=[];const e=mb(t),n=pb(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new My(e)),t.wt.push(new My(Lg.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new My(Lg.keyField(),e))}}}return t.wt}function yb(e){const t=pg(e);if(!t._t)if("F"===t.limitType)t._t=rb(t.path,t.collectionGroup,vb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of vb(t)){const t="desc"===i.dir?"asc":"desc";e.push(new My(i.field,t))}const n=t.endAt?new Py(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Py(t.startAt.position,t.startAt.inclusive):null;t._t=rb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function bb(e,t){t.getFirstInequalityField(),mb(e);const n=e.filters.concat([t]);return new cb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function wb(e,t,n){return new cb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _b(e,t){return sb(yb(e),yb(t))&&e.limitType===t.limitType}function Ib(e){return"".concat(ib(yb(e)),"|lt:").concat(e.limitType)}function Sb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Hy(e))).join(", "),"]")),lv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>my(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>my(e))).join(",")),"Target(".concat(t,")")}(yb(e)),"; limitType=").concat(e.limitType,")")}function Eb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):qg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of vb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ry(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,vb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ry(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,vb(e),t))}(e,t)}function Tb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function kb(e){return(t,n)=>{let r=!1;for(const i of vb(e)){const e=Cb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Cb(e,t,n){const r=e.field.isKeyField()?qg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fy(r,i):hg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return hg()}}class xb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Bv(this.inner)}size(){return this.innerSize}}const Nb=new Kv(qg.comparator);function Ab(){return Nb}const Db=new Kv(qg.comparator);function Pb(){let e=Db;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Rb(e){let t=Db;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ob(){return Lb()}function Mb(){return Lb()}function Lb(){return new xb((e=>e.toString()),((e,t)=>e.isEqual(t)))}const qb=new Kv(qg.comparator),Fb=new Hv(qg.comparator);function Ub(){let e=Fb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Vb=new Hv(xg);function jb(){return Vb}function zb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cv(t)?"-0":t}}function Bb(e){return{integerValue:""+e}}function Kb(e,t){return dv(t)?Bb(t):zb(e,t)}class Gb{constructor(){this._=void 0}}function Wb(e,t,n){return e instanceof Yb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ry(t)&&(t=iy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Xb?Jb(e,t):e instanceof $b?Zb(e,t):function(e,t){const n=Qb(e,t),r=tw(n)+tw(e.gt);return yy(n)&&yy(e.gt)?Bb(r):zb(e.serializer,r)}(e,t)}function Hb(e,t,n){return e instanceof Xb?Jb(e,t):e instanceof $b?Zb(e,t):n}function Qb(e,t){return e instanceof ew?yy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Yb extends Gb{}class Xb extends Gb{constructor(e){super(),this.elements=e}}function Jb(e,t){const n=nw(t);for(const r of e.elements)n.some((e=>dy(e,r)))||n.push(r);return{arrayValue:{values:n}}}class $b extends Gb{constructor(e){super(),this.elements=e}}function Zb(e,t){let n=nw(t);for(const r of e.elements)n=n.filter((e=>!dy(e,r)));return{arrayValue:{values:n}}}class ew extends Gb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function tw(e){return ty(e.integerValue||e.doubleValue)}function nw(e){return by(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class rw{constructor(e,t){this.field=e,this.transform=t}}class iw{constructor(e,t){this.version=e,this.transformResults=t}}class sw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sw}static exists(e){return new sw(void 0,e)}static updateTime(e){return new sw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function aw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ow{}function uw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yw(e.key,sw.none()):new fw(e.key,e.data,sw.none());{const n=e.data,r=Ny.empty();let i=new Hv(Lg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new pw(e.key,r,new Xv(i.toArray()),sw.none())}}function lw(e,t,n){e instanceof fw?function(e,t,n){const r=e.value.clone(),i=gw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof pw?function(e,t,n){if(!aw(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=gw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function cw(e,t,n,r){return e instanceof fw?function(e,t,n,r){if(!aw(e.precondition,t))return n;const i=e.value.clone(),s=vw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof pw?function(e,t,n,r){if(!aw(e.precondition,t))return n;const i=vw(e.fieldTransforms,r,t),s=t.data;return s.setAll(mw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return aw(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function dw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Qb(r.transform,e||null);null!=i&&(null===n&&(n=Ny.empty()),n.set(r.field,i))}return n||null}function hw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ng(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Xb&&t instanceof Xb||e instanceof $b&&t instanceof $b?Ng(e.elements,t.elements,dy):e instanceof ew&&t instanceof ew?dy(e.gt,t.gt):e instanceof Yb&&t instanceof Yb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fw extends ow{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pw extends ow{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function mw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function gw(e,t,n){const r=new Map;fg(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Hb(a,o,n[i]))}return r}function vw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Wb(e,s,t))}return r}class yw extends ow{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bw extends ow{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ww{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&lw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=cw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=cw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Mb();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=uw(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Pg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ub())}isEqual(e){return this.batchId===e.batchId&&Ng(this.mutations,e.mutations,((e,t)=>hw(e,t)))&&Ng(this.baseMutations,e.baseMutations,((e,t)=>hw(e,t)))}}class _w{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fg(e.mutations.length===n.length);let r=qb;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new _w(e,t,n,r)}}class Iw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Sw{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ew,Tw;function kw(e){switch(e){default:return hg();case mg.CANCELLED:case mg.UNKNOWN:case mg.DEADLINE_EXCEEDED:case mg.RESOURCE_EXHAUSTED:case mg.INTERNAL:case mg.UNAVAILABLE:case mg.UNAUTHENTICATED:return!1;case mg.INVALID_ARGUMENT:case mg.NOT_FOUND:case mg.ALREADY_EXISTS:case mg.PERMISSION_DENIED:case mg.FAILED_PRECONDITION:case mg.ABORTED:case mg.OUT_OF_RANGE:case mg.UNIMPLEMENTED:case mg.DATA_LOSS:return!0}}function Cw(e){if(void 0===e)return lg("GRPC error has no .code"),mg.UNKNOWN;switch(e){case Ew.OK:return mg.OK;case Ew.CANCELLED:return mg.CANCELLED;case Ew.UNKNOWN:return mg.UNKNOWN;case Ew.DEADLINE_EXCEEDED:return mg.DEADLINE_EXCEEDED;case Ew.RESOURCE_EXHAUSTED:return mg.RESOURCE_EXHAUSTED;case Ew.INTERNAL:return mg.INTERNAL;case Ew.UNAVAILABLE:return mg.UNAVAILABLE;case Ew.UNAUTHENTICATED:return mg.UNAUTHENTICATED;case Ew.INVALID_ARGUMENT:return mg.INVALID_ARGUMENT;case Ew.NOT_FOUND:return mg.NOT_FOUND;case Ew.ALREADY_EXISTS:return mg.ALREADY_EXISTS;case Ew.PERMISSION_DENIED:return mg.PERMISSION_DENIED;case Ew.FAILED_PRECONDITION:return mg.FAILED_PRECONDITION;case Ew.ABORTED:return mg.ABORTED;case Ew.OUT_OF_RANGE:return mg.OUT_OF_RANGE;case Ew.UNIMPLEMENTED:return mg.UNIMPLEMENTED;case Ew.DATA_LOSS:return mg.DATA_LOSS;default:return hg()}}(Tw=Ew||(Ew={}))[Tw.OK=0]="OK",Tw[Tw.CANCELLED=1]="CANCELLED",Tw[Tw.UNKNOWN=2]="UNKNOWN",Tw[Tw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tw[Tw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tw[Tw.NOT_FOUND=5]="NOT_FOUND",Tw[Tw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tw[Tw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tw[Tw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tw[Tw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tw[Tw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tw[Tw.ABORTED=10]="ABORTED",Tw[Tw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tw[Tw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tw[Tw.INTERNAL=13]="INTERNAL",Tw[Tw.UNAVAILABLE=14]="UNAVAILABLE",Tw[Tw.DATA_LOSS=15]="DATA_LOSS";class xw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Nw}static getOrCreateInstance(){return null===Nw&&(Nw=new xw),Nw}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Nw=null;function Aw(){return new TextEncoder}const Dw=new ng([4294967295,4294967295],0);function Pw(e){const t=Aw().encode(e),n=new tg;return n.update(t),new Uint8Array(n.digest())}function Rw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ng([n,r],0),new ng([i,s],0)]}class Ow{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mw("Invalid padding: ".concat(t));if(n<0)throw new Mw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Mw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Mw("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=ng.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(ng.fromNumber(n)));return 1===r.compare(Dw)&&(r=new ng([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Pw(e),[n,r]=Rw(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ow(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Pw(e),[n,r]=Rw(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Lw(Pg.min(),r,new Kv(xg),Ab(),Ub())}}class qw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qw(n,t,Ub(),Ub(),Ub())}}class Fw{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Uw{constructor(e,t){this.targetId=e,this.Vt=t}}class Vw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$v.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class jw{constructor(){this.St=0,this.Dt=Kw(),this.Ct=$v.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ub(),t=Ub(),n=Ub();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:hg()}})),new qw(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Kw()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zw{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ab(),this.zt=Bw(),this.Wt=new Kv(xg)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:hg()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(ab(s))if(0===r){const e=new qg(s.path);this.Yt(n,e,Dy.newNoDocument(e,Pg.min()))}else fg(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=xw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,u;const l={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(u=null===(o=null==c?void 0:c.bits)||void 0===o?void 0:o.padding)&&void 0!==u?u:0}),l}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,u;try{o=ny(i).toUint8Array()}catch(e){if(e instanceof Jv)return cg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{u=new Ow(o,s,a)}catch(e){return cg(e instanceof Mw?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===u.It?1:r!==t-this.oe(e.targetId,u)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&ab(i.target)){const t=new qg(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Dy.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Ub();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Lw(e,t,this.Wt,this.jt,n);return this.jt=Ab(),this.zt=Bw(),this.Wt=new Kv(xg),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new jw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Hv(xg),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ug("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new jw),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Bw(){return new Kv(qg.comparator)}function Kw(){return new Kv(qg.comparator)}const Gw={asc:"ASCENDING",desc:"DESCENDING"},Ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hw={and:"AND",or:"OR"};class Qw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Yw(e,t){return e.useProto3Json||lv(t)?t:{value:t}}function Xw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $w(e,t){return Xw(e,t.toTimestamp())}function Zw(e){return fg(!!e),Pg.fromTimestamp(function(e){const t=ey(e);return new Dg(t.seconds,t.nanos)}(e))}function e_(e,t){return function(e){return new Og(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function t_(e){const t=Og.fromString(e);return fg(S_(t)),t}function n_(e,t){return e_(e.databaseId,t.path)}function r_(e,t){const n=t_(t);if(n.get(1)!==e.databaseId.projectId)throw new gg(mg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gg(mg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new qg(o_(n))}function i_(e,t){return e_(e.databaseId,t)}function s_(e){const t=t_(e);return 4===t.length?Og.emptyPath():o_(t)}function a_(e){return new Og(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function o_(e){return fg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function u_(e,t,n){return{name:n_(e,t),fields:n.value.mapValue.fields}}function l_(e,t,n){const r=r_(e,t.name),i=Zw(t.updateTime),s=t.createTime?Zw(t.createTime):Pg.min(),a=new Ny({mapValue:{fields:t.fields}}),o=Dy.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function c_(e,t){let n;if(t instanceof fw)n={update:u_(e,t.key,t.value)};else if(t instanceof yw)n={delete:n_(e,t.key)};else if(t instanceof pw)n={update:u_(e,t.key,t.data),updateMask:I_(t.fieldMask)};else{if(!(t instanceof bw))return hg();n={verify:n_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Yb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Xb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $b)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ew)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw hg()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$w(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:hg()}(e,t.precondition)),n}function d_(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?sw.updateTime(Zw(e.updateTime)):void 0!==e.exists?sw.exists(e.exists):sw.none()}(t.currentDocument):sw.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)fg("REQUEST_TIME"===t.setToServerValue),n=new Yb;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Xb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new $b(e)}else"increment"in t?n=new ew(e,t.increment):hg();const r=Lg.fromServerFormat(t.fieldPath);return new rw(r,n)}(e,t))):[];if(t.update){t.update.name;const i=r_(e,t.update.name),s=new Ny({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Xv(t.map((e=>Lg.fromServerFormat(e))))}(t.updateMask);return new pw(i,s,e,n,r)}return new fw(i,s,n,r)}if(t.delete){const r=r_(e,t.delete);return new yw(r,n)}if(t.verify){const r=r_(e,t.verify);return new bw(r,n)}return hg()}function h_(e,t){return{documents:[i_(e,t.path)]}}function f_(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=i_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=i_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return __(Uy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:b_(e.field),direction:g_(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Yw(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function p_(e){let t=s_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=m_(e);return t instanceof Uy&&zy(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new My(w_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,lv(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new Py(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Py(n,t)}(n.endAt)),db(t,i,a,s,o,"F",u,l)}function m_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=w_(e.unaryFilter.field);return Fy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=w_(e.unaryFilter.field);return Fy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=w_(e.unaryFilter.field);return Fy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=w_(e.unaryFilter.field);return Fy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return hg()}}(e):void 0!==e.fieldFilter?function(e){return Fy.create(w_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return hg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Uy.create(e.compositeFilter.filters.map((e=>m_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return hg()}}(e.compositeFilter.op))}(e):hg()}function g_(e){return Gw[e]}function v_(e){return Ww[e]}function y_(e){return Hw[e]}function b_(e){return{fieldPath:e.canonicalString()}}function w_(e){return Lg.fromServerFormat(e.fieldPath)}function __(e){return e instanceof Fy?function(e){if("=="===e.op){if(_y(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NAN"}};if(wy(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_y(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NOT_NAN"}};if(wy(e.value))return{unaryFilter:{field:b_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:b_(e.field),op:v_(e.op),value:e.value}}}(e):e instanceof Uy?function(e){const t=e.getFilters().map((e=>__(e)));return 1===t.length?t[0]:{compositeFilter:{op:y_(e.op),filters:t}}}(e):hg()}function I_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function S_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class E_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pg.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pg.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$v.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new E_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new E_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new E_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new E_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class T_{constructor(e){this.fe=e}}function k_(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:C_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:n_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Xw(e,t.version.toTimestamp()),createTime:Xw(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:x_(t.version)};else{if(!t.isUnknownDocument())return hg();r.unknownDocument={path:n.path.toArray(),version:x_(t.version)}}return r}function C_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function x_(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function N_(e){const t=new Dg(e.seconds,e.nanoseconds);return Pg.fromTimestamp(t)}function A_(e,t){const n=(t.baseMutations||[]).map((t=>d_(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>d_(e.fe,t))),i=Dg.fromMillis(t.localWriteTimeMs);return new ww(t.batchId,i,n,r)}function D_(e){const t=N_(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?N_(e.lastLimboFreeSnapshotVersion):Pg.min();let r;var i;return void 0!==e.query.documents?(fg(1===(i=e.query).documents.length),r=yb(hb(s_(i.documents[0])))):r=function(e){return yb(p_(e))}(e.query),new E_(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,$v.fromBase64String(e.resumeToken))}function P_(e,t){const n=x_(t.snapshotVersion),r=x_(t.lastLimboFreeSnapshotVersion);let i;i=ab(t.target)?h_(e.fe,t.target):f_(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ib(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function R_(e){const t=p_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wb(t,t.limit,"L"):t}function O_(e,t){return new Iw(t.largestBatchId,d_(e.fe,t.overlayMutation))}function M_(e,t){const n=t.path.lastSegment();return[e,hv(t.path.popLast()),n]}function L_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:x_(r.readTime),documentKey:hv(r.documentKey.path),largestBatchId:r.largestBatchId}}class q_{getBundleMetadata(e,t){return F_(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:N_(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return F_(e).put({bundleId:(n=t).id,createTime:x_(Zw(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return U_(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:R_(t.bundledQuery),readTime:N_(t.readTime)};var t}))}saveNamedQuery(e,t){return U_(e).put(function(e){return{name:e.name,readTime:x_(Zw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function F_(e){return Vv(e,"bundles")}function U_(e){return Vv(e,"namedQueries")}class V_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new V_(e,n)}getOverlay(e,t){return j_(e).get(M_(this.userId,t)).next((e=>e?O_(this.serializer,e):null))}getOverlays(e,t){const n=Ob();return Xg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Iw(t,i);r.push(this.we(e,s))})),Xg.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(hv(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(j_(e).J("collectionPathOverlayIndex",r))})),Xg.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Ob(),i=hv(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return j_(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=O_(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Ob();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return j_(e).X({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=O_(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}we(e,t){return j_(e).put(function(e,t,n){const[r,i,s]=M_(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:c_(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function j_(e){return Vv(e,"documentOverlays")}class z_{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ty(e.integerValue));else if("doubleValue"in e){const n=ty(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),cv(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ny(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ey(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):hg()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),qg.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function B_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function K_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=B_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}z_.Ve=new z_;class G_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=K_(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=K_(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class W_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class H_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Q_{constructor(){this.je=new G_,this.ze=new W_(this.je),this.We=new H_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Y_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Y_(this.indexId,this.documentKey,this.arrayValue,n)}}function X_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=J_(e.arrayValue,t.arrayValue),0!==n?n:(n=J_(e.directionalValue,t.directionalValue),0!==n?n:qg.comparator(e.documentKey,t.documentKey)))}function J_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class $_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){fg(e.collectionGroup===this.collectionId);const t=Ug(e);if(void 0!==t&&!this.en(t))return!1;const n=Vg(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[s++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Z_(e){var t,n;if(fg(e instanceof Fy||e instanceof Uy),e instanceof Fy){if(e instanceof Zy){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Fy.create(e.field,"==",t))))||[];return Uy.create(r,"or")}return e}const r=e.filters.map((e=>Z_(e)));return Uy.create(r,e.op)}function eI(e){if(0===e.getFilters().length)return[];const t=iI(Z_(e));return fg(rI(t)),tI(t)||nI(t)?[t]:t.getFilters()}function tI(e){return e instanceof Fy}function nI(e){return e instanceof Uy&&zy(e)}function rI(e){return tI(e)||nI(e)||function(e){if(e instanceof Uy&&jy(e)){for(const t of e.getFilters())if(!tI(t)&&!nI(t))return!1;return!0}return!1}(e)}function iI(e){if(fg(e instanceof Fy||e instanceof Uy),e instanceof Fy)return e;if(1===e.filters.length)return iI(e.filters[0]);const t=e.filters.map((e=>iI(e)));let n=Uy.create(t,e.op);return n=oI(n),rI(n)?n:(fg(n instanceof Uy),fg(Vy(n)),fg(n.filters.length>1),n.filters.reduce(((e,t)=>sI(e,t))))}function sI(e,t){let n;return fg(e instanceof Fy||e instanceof Uy),fg(t instanceof Fy||t instanceof Uy),n=e instanceof Fy?t instanceof Fy?function(e,t){return Uy.create([e,t],"and")}(e,t):aI(e,t):t instanceof Fy?aI(t,e):function(e,t){if(fg(e.filters.length>0&&t.filters.length>0),Vy(e)&&Vy(t))return Wy(e,t.getFilters());const n=jy(e)?e:t,r=jy(e)?t:e,i=n.filters.map((e=>sI(e,r)));return Uy.create(i,"or")}(e,t),oI(n)}function aI(e,t){if(Vy(t))return Wy(t,e.getFilters());{const n=t.filters.map((t=>sI(e,t)));return Uy.create(n,"or")}}function oI(e){if(fg(e instanceof Fy||e instanceof Uy),e instanceof Fy)return e;const t=e.getFilters();if(1===t.length)return oI(t[0]);if(By(e))return e;const n=t.map((e=>oI(e))),r=[];return n.forEach((t=>{t instanceof Fy?r.push(t):t instanceof Uy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Uy.create(r,e.op)}class uI{constructor(){this.rn=new lI}addToCollectionParentIndex(e,t){return this.rn.add(t),Xg.resolve()}getCollectionParents(e,t){return Xg.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Xg.resolve()}deleteFieldIndex(e,t){return Xg.resolve()}getDocumentsMatchingTarget(e,t){return Xg.resolve(null)}getIndexType(e,t){return Xg.resolve(0)}getFieldIndexes(e,t){return Xg.resolve([])}getNextCollectionGroupToUpdate(e){return Xg.resolve(null)}getMinOffset(e,t){return Xg.resolve(Gg.min())}getMinOffsetFromCollectionGroup(e,t){return Xg.resolve(Gg.min())}updateCollectionGroup(e,t,n){return Xg.resolve()}updateIndexEntries(e,t){return Xg.resolve()}}class lI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Hv(Og.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Hv(Og.comparator)).toArray()}}const cI=new Uint8Array(0);class dI{constructor(e,t){this.user=e,this.databaseId=t,this.on=new lI,this.un=new xb((e=>ib(e)),((e,t)=>sb(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:hv(r)};return hI(e).put(i)}return Xg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ag(t),""],!1,!0);return hI(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(mv(r.parent))}return n}))}addFieldIndex(e,t){const n=pI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=mI(e);return i.next((e=>{n.put(L_(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=pI(e),r=mI(e),i=fI(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=fI(e);let r=!0;const i=new Map;return Xg.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Ub();const r=[];return Xg.forEach(i,((i,s)=>{var a;ug("IndexedDbIndexManager","Using index ".concat((a=i,"id=".concat(a.indexId,"|cg=").concat(a.collectionGroup,"|f=").concat(a.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(ib(t)));const o=function(e,t){const n=Ug(t);if(void 0===n)return null;for(const r of ob(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),u=function(e,t){const n=new Map;for(const r of Vg(t))for(const t of ob(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of Vg(t)){const t=0===i.kind?ub(e,i.fieldPath,e.startAt):lb(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Py(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of Vg(t)){const t=0===i.kind?lb(e,i.fieldPath,e.endAt):ub(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Py(n,r)}(s,i),d=this.hn(i,s,l),h=this.hn(i,s,c),f=this.ln(i,s,u),p=this.fn(i.indexId,o,d,l.inclusive,h,c.inclusive,f);return Xg.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=qg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Xg.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:eI(Uy.create(e.filters,"and")).map((t=>rb(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),u=o/(null!=t?t.length:1),l=[];for(let c=0;c<o;++c){const o=t?this.dn(t[c/u]):cI,d=this.wn(e,o,n[c%u],r),h=this._n(e,o,i[c%u],s),f=a.map((t=>this.wn(e,o,t,!0)));l.push(...this.createRange(d,h,f))}return l}wn(e,t,n,r){const i=new Y_(e,qg.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new Y_(e,qg.empty(),t,n);return r?i.Je():i}an(e,t){const n=new $_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Xg.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Hv(Lg.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new Q_;for(const r of Vg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);z_.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Q_;return z_.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Q_;return z_.Ve._e(vy(this.databaseId,t),n.He(function(e){const t=Vg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Q_);let i=0;for(const s of Vg(e)){const e=n[i++];for(const n of r)if(this.yn(t,s.fieldPath)&&by(e))r=this.pn(r,s,e);else{const t=n.He(s.kind);z_.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Q_;n.seed(e.Qe()),z_.Ve._e(s,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof Fy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=pI(e),r=mI(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Xg.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new zg(t.sequenceNumber,new Gg(N_(t.readTime),new qg(mv(t.documentKey)),t.largestBatchId)):zg.empty(),r=e.fields.map((e=>{let[t,n]=e;return new jg(Lg.fromServerFormat(t),n)}));return new Fg(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:xg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=pI(e),i=mI(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Xg.forEach(t,(t=>i.put(L_(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Xg.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Xg.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Xg.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Xg.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return fI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return fI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=fI(e);let i=new Hv(X_);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new Y_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Hv(X_);const r=this.mn(t,e);if(null==r)return n;const i=Ug(t);if(null!=i){const s=e.data.field(i.fieldPath);if(by(s))for(const i of s.arrayValue.values||[])n=n.add(new Y_(t.indexId,e.key,this.dn(i),r))}else n=n.add(new Y_(t.indexId,e.key,cI,r));return n}vn(e,t,n,r,i){ug("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Yv(s),u=Yv(a);for(;o||u;){let e=!1,t=!1;if(o&&u){const r=n(o,u);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(u),u=Yv(a)):t?(i(o),o=Yv(s)):(o=Yv(s),u=Yv(a))}}(r,i,X_,(r=>{s.push(this.Rn(e,t,n,r))}),(r=>{s.push(this.Pn(e,t,n,r))})),Xg.waitFor(s)}Tn(e){let t=1;return mI(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>X_(e,t))).filter(((e,t,n)=>!t||0!==X_(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=X_(s,e),i=X_(s,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(s),r.push(s.Je());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,cI,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,cI,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return X_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(gI)}getMinOffset(e,t){return Xg.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||hg())))).next(gI)}}function hI(e){return Vv(e,"collectionParents")}function fI(e){return Vv(e,"indexEntries")}function pI(e){return Vv(e,"indexConfiguration")}function mI(e){return Vv(e,"indexState")}function gI(e){fg(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Wg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Gg(t.readTime,t.documentKey,n)}const vI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yI{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new yI(e,yI.DEFAULT_COLLECTION_PERCENTILE,yI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bI(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const u=r.X({range:a},((e,t,n)=>(o++,n.delete())));s.push(u.next((()=>{fg(1===o)})));const l=[];for(const c of n.mutations){const e=yv(t,c.key.path,n.batchId);s.push(i.delete(e)),l.push(c.key)}return Xg.waitFor(s).next((()=>l))}function wI(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw hg();t=e.noDocument}return JSON.stringify(t).length}yI.DEFAULT_COLLECTION_PERCENTILE=10,yI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yI.DEFAULT=new yI(41943040,yI.DEFAULT_COLLECTION_PERCENTILE,yI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yI.DISABLED=new yI(-1,0,0);class _I{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){fg(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new _I(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return SI(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=EI(e),s=SI(e);return s.add({}).next((a=>{fg("number"==typeof a);const o=new ww(a,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>c_(e.fe,t))),i=n.mutations.map((t=>c_(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),l=[];let c=new Hv(((e,t)=>xg(e.canonicalString(),t.canonicalString())));for(const e of r){const t=yv(this.userId,e.key.path,a);c=c.add(e.key.path.popLast()),l.push(s.put(u)),l.push(i.put(t,bv))}return c.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[a]=o.keys()})),Xg.waitFor(l).next((()=>o))}))}lookupMutationBatch(e,t){return SI(e).get(t).next((e=>e?(fg(e.userId===this.userId),A_(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Xg.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return SI(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(fg(t.batchId>=n),i=A_(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return SI(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return SI(e).j("userMutationsIndex",t).next((e=>e.map((e=>A_(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=vv(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return EI(e).X({range:r},((n,r,s)=>{const[a,o,u]=n,l=mv(o);if(a===this.userId&&t.path.isEqual(l))return SI(e).get(u).next((e=>{if(!e)throw hg();fg(e.userId===this.userId),i.push(A_(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Hv(xg);const r=[];return t.forEach((t=>{const i=vv(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=EI(e).X({range:s},((e,r,i)=>{const[s,a,o]=e,u=mv(a);s===this.userId&&t.path.isEqual(u)?n=n.add(o):i.done()}));r.push(a)})),Xg.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=vv(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Hv(xg);return EI(e).X({range:s},((e,t,i)=>{const[s,o,u]=e,l=mv(o);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(u)):i.done()})).next((()=>this.Dn(e,a)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(SI(e).get(t).next((e=>{if(null===e)throw hg();fg(e.userId===this.userId),n.push(A_(this.serializer,e))})))})),Xg.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return bI(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Xg.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Xg.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return EI(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=mv(e[1]);r.push(t)}else n.done()})).next((()=>{fg(0===r.length)}))}))}containsKey(e,t){return II(e,this.userId,t)}xn(e){return TI(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function II(e,t,n){const r=vv(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return EI(e).X({range:s,Y:!0},((e,n,r)=>{const[s,o,u]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function SI(e){return Vv(e,"mutations")}function EI(e){return Vv(e,"documentMutations")}function TI(e){return Vv(e,"mutationQueues")}class kI{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new kI(0)}static Mn(){return new kI(-1)}}class CI{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new kI(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>Pg.fromTimestamp(new Dg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>xI(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(fg(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return xI(e).X(((s,a)=>{const o=D_(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Xg.waitFor(i))).next((()=>r))}forEachTarget(e,t){return xI(e).X(((e,n)=>{const r=D_(n);t(r)}))}$n(e){return NI(e).get("targetGlobalKey").next((e=>(fg(null!==e),e)))}On(e,t){return NI(e).put("targetGlobalKey",t)}Fn(e,t){return xI(e).put(P_(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=ib(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return xI(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=D_(n);sb(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=AI(e);return t.forEach((t=>{const s=hv(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Xg.waitFor(r)}removeMatchingKeys(e,t,n){const r=AI(e);return Xg.forEach(t,(t=>{const i=hv(t.path);return Xg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=AI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=AI(e);let i=Ub();return r.X({range:n,Y:!0},((e,t,n)=>{const r=mv(e[1]),s=new qg(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=hv(t.path),r=IDBKeyRange.bound([n],[Ag(n)],!1,!0);let i=0;return AI(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return xI(e).get(t).next((e=>e?D_(e):null))}}function xI(e){return Vv(e,"targets")}function NI(e){return Vv(e,"targetGlobal")}function AI(e){return Vv(e,"targetDocuments")}function DI(e,t){let[n,r]=e,[i,s]=t;const a=xg(n,i);return 0===a?xg(r,s):a}class PI{constructor(e){this.Ln=e,this.buffer=new Hv(DI),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();DI(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){ug("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){tv(e)?ug("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Yg(e)}await this.Qn(3e5)}))}}class OI{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Xg.resolve(uv.ct);const n=new PI(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ug("LruGarbageCollector","Garbage collection skipped; disabled"),Xg.resolve(vI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ug("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),vI):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,s,a,o,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ug("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),og()<=rs.DEBUG&&ug("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-o)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Xg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function MI(e,t){return new OI(e,t)}class LI{constructor(e,t){this.db=e,this.garbageCollector=MI(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return qI(e,n)}removeReference(e,t,n){return qI(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return qI(e,t)}Xn(e,t){return function(e,t){let n=!1;return TI(e).Z((r=>II(e,r,t).next((e=>(e&&(n=!0),Xg.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((s,a)=>{if(a<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Pg.min()),AI(e).delete([0,hv(s.path)]))))}));r.push(t)}})).next((()=>Xg.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return qI(e,t)}Yn(e,t){const n=AI(e);let r,i=uv.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:u}=n;0===s?(i!==uv.ct&&t(new qg(mv(r)),i),i=u,r=o):i=uv.ct})).next((()=>{i!==uv.ct&&t(new qg(mv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function qI(e,t){return AI(e).put(function(e,t){return{targetId:0,path:hv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class FI{constructor(){this.changes=new xb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dy.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Xg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class UI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return BI(e).put(n)}removeEntry(e,t,n){return BI(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],C_(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=Dy.newInvalidDocument(t);return BI(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(KI(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:Dy.newInvalidDocument(t)};return BI(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(KI(t))},((e,r)=>{n={document:this.ts(t,r),size:wI(r)}})).next((()=>n))}getEntries(e,t){let n=Ab();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=Ab(),r=new Kv(qg.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,wI(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Xg.resolve();let r=new Hv(WI);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(KI(r.first()),KI(r.last())),s=r.getIterator();let a=s.getNext();return BI(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=qg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&WI(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.G(KI(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),C_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return BI(e).j(IDBKeyRange.bound(s,a,!0)).next((e=>{let n=Ab();for(const i of e){const e=this.ts(qg.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Eb(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Ab();const s=GI(t,n),a=GI(t,Gg.max());return BI(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.ts(qg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new jI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return zI(e).get("remoteDocumentGlobalKey").next((e=>(fg(!!e),e)))}Zn(e,t){return zI(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=l_(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=qg.fromSegments(t.noDocument.path),r=N_(t.noDocument.readTime);n=Dy.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return hg();{const e=qg.fromSegments(t.unknownDocument.path),r=N_(t.unknownDocument.version);n=Dy.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Dg(e[0],e[1]);return Pg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Pg.min()))return e}return Dy.newInvalidDocument(e)}}function VI(e){return new UI(e)}class jI extends FI{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new xb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Hv(((e,t)=>xg(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.us.get(i);if(t.push(this.os.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=k_(this.os.serializer,s);r=r.add(i.path.popLast());const u=wI(o);n+=u-a.size,t.push(this.os.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=k_(this.os.serializer,s.convertToNoDocument(Pg.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Xg.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function zI(e){return Vv(e,"remoteDocumentGlobal")}function BI(e){return Vv(e,"remoteDocumentsV14")}function KI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function GI(e,t){const n=t.documentKey.path.toArray();return[e,C_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function WI(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=xg(n[s],r[s]),i)return i;return i=xg(n.length,r.length),i||(i=xg(n[n.length-2],r[r.length-2]),i||xg(n[n.length-1],r[r.length-1]))}class HI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class QI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&cw(n.mutation,e,Xv.empty(),Dg.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ub()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ub();const r=Ob();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Pb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ob();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ub())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Ab();const s=Lb(),a=Lb();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof pw)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),cw(a.mutation,t,a.mutation.getFieldMask(),Dg.now())):s.set(t.key,Xv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new HI(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Lb();let r=new Kv(((e,t)=>e-t)),i=Ub();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Xv.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Ub()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,u=r.value,l=Mb();u.forEach((e=>{if(!i.has(e)){const r=uw(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return Xg.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return qg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Xg.resolve(Ob());let a=-1,o=i;return s.next((t=>Xg.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Xg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Ub()))).next((e=>({batchId:a,changes:Rb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new qg(t)).next((e=>{let t=Pb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Pb();return this.indexManager.getCollectionParents(e,r).next((s=>Xg.forEach(s,(s=>{const a=function(e,t){return new cb(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dy.newInvalidDocument(r)))}));let n=Pb();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&cw(s.mutation,i,Xv.empty(),Dg.now()),Eb(t,i)&&(n=n.insert(e,i))})),n}))}}class YI{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Xg.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Zw(n.createTime)}),Xg.resolve()}getNamedQuery(e,t){return Xg.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:R_(e.bundledQuery),readTime:Zw(e.readTime)}}(t)),Xg.resolve()}}class XI{constructor(){this.overlays=new Kv(qg.comparator),this.ls=new Map}getOverlay(e,t){return Xg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ob();return Xg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Xg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Xg.resolve()}getOverlaysForCollection(e,t,n){const r=Ob(),i=t.length+1,s=new qg(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Xg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Kv(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ob(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ob(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Xg.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Iw(t,n));let i=this.ls.get(t);void 0===i&&(i=Ub(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class JI{constructor(){this.fs=new Hv($I.ds),this.ws=new Hv($I._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new $I(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new $I(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new qg(new Og([])),n=new $I(t,e),r=new $I(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new qg(new Og([])),n=new $I(t,e),r=new $I(t,e+1);let i=Ub();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new $I(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $I{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return qg.comparator(e.key,t.key)||xg(e.As,t.As)}static _s(e,t){return xg(e.As,t.As)||qg.comparator(e.key,t.key)}}class ZI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Hv($I.ds)}checkEmpty(e){return Xg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ww(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new $I(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Xg.resolve(s)}lookupMutationBatch(e,t){return Xg.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Xg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Xg.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Xg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $I(t,0),r=new $I(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Xg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Hv(xg);return t.forEach((e=>{const t=new $I(e,0),r=new $I(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Xg.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;qg.isDocumentKey(i)||(i=i.child(""));const s=new $I(new qg(i),0);let a=new Hv(xg);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),s),Xg.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fg(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Xg.forEach(t.mutations,(r=>{const i=new $I(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new $I(t,0),r=this.Rs.firstAfterOrEqual(n);return Xg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xg.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class eS{constructor(e){this.Ds=e,this.docs=new Kv(qg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Xg.resolve(n?n.document.mutableCopy():Dy.newInvalidDocument(t))}getEntries(e,t){let n=Ab();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Dy.newInvalidDocument(e))})),Xg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Ab();const s=t.path,a=new qg(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Wg(Kg(a),n)<=0||(r.has(a.key)||Eb(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Xg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){hg()}Cs(e,t){return Xg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new tS(this)}getSize(e){return Xg.resolve(this.size)}}class tS extends FI{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Xg.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class nS{constructor(e){this.persistence=e,this.xs=new xb((e=>ib(e)),sb),this.lastRemoteSnapshotVersion=Pg.min(),this.highestTargetId=0,this.Ns=0,this.ks=new JI,this.targetCount=0,this.Ms=kI.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Xg.resolve()}getLastRemoteSnapshotVersion(e){return Xg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xg.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Xg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Xg.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new kI(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Xg.resolve()}updateTargetData(e,t){return this.Fn(t),Xg.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Xg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Xg.waitFor(i).next((()=>r))}getTargetCount(e){return Xg.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Xg.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Xg.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Xg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Xg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Xg.resolve(n)}containsKey(e,t){return Xg.resolve(this.ks.containsKey(t))}}class rS{constructor(e,t){this.$s={},this.overlays={},this.Os=new uv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nS(this),this.indexManager=new uI,this.remoteDocumentCache=function(e){return new eS(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new T_(t),this.qs=new YI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new ZI(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){ug("MemoryPersistence","Starting transaction:",e);const r=new iS(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Xg.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class iS extends Qg{constructor(e){super(),this.currentSequenceNumber=e}}class sS{constructor(e){this.persistence=e,this.Qs=new JI,this.js=null}static zs(e){return new sS(e)}get Ws(){if(this.js)return this.js;throw hg()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Xg.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Xg.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Xg.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xg.forEach(this.Ws,(n=>{const r=qg.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Pg.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Xg.or([()=>Xg.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class aS{constructor(e){this.serializer=e}O(e,t,n,r){const i=new Jg("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gv,{unique:!0}),e.createObjectStore("documentMutations")}(e),oS(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Xg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),oS(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gv,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Xg.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ys(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(s=s.next((()=>this.Zs(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ei(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Dv});t.createIndex("collectionPathOverlayIndex",Pv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Rv,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:wv});t.createIndex("documentKeyIndex",_v),t.createIndex("collectionGroupIndex",Iv)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Cv}).createIndex("sequenceNumberIndex",xv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Nv}).createIndex("documentKeyIndex",Av,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=wI(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Xg.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Xg.forEach(n,(n=>{fg(n.userId===t.userId);const r=A_(this.serializer,n);return bI(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const s=new Og(n),a=function(e){return[0,hv(e)]}(s);r.push(t.get(a).next((n=>n?Xg.resolve():(n=>t.put({targetId:0,path:hv(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Xg.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:kv});const n=t.store("collectionParents"),r=new lI,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:hv(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Og(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,s]=e;const a=mv(r);return i(a.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=D_(n),i=P_(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(a=n,a.document?new qg(Og.fromString(a.document.name).popFirst(5)):a.noDocument?qg.fromSegments(a.noDocument.path):a.unknownDocument?qg.fromSegments(a.unknownDocument.path):hg()).path.toArray();var a;const o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Xg.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=VI(this.serializer),i=new rS(sS.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Ub();A_(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Xg.forEach(n,((e,n)=>{const s=new ig(n),a=V_.de(this.serializer,s),o=i.getIndexManager(s),u=_I.de(s,this.serializer,o,i.referenceDelegate);return new QI(r,u,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Uv(t,uv.ct),e).next()}))}))}}function oS(e){e.createObjectStore("targetDocuments",{keyPath:Ev}).createIndex("documentTargetsIndex",Tv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sv,{unique:!0}),e.createObjectStore("targetGlobal")}const uS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class lS{constructor(e,t,n,r,i,s,a,o,u,l){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=s,this.document=a,this.ri=u,this.oi=l,this.ui=c,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!lS.D())throw new gg(mg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LI(this,r),this.di=t+"main",this.serializer=new T_(o),this.wi=new $g(this.di,this.ui,new aS(this.serializer)),this.Bs=new CI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=VI(this.serializer),this.qs=new q_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&lg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gg(mg.FAILED_PRECONDITION,uS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new uv(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>dS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(tv(e))return ug("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ug("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return cS(e).get("owner").next((e=>Xg.resolve(this.Ri(e))))}Pi(e){return dS(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Vv(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Xg.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Xg.resolve(!0):cS(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new gg(mg.FAILED_PRECONDITION,uS);return!1}}return!(!this.networkEnabled||!this.inForeground)||dS(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ug("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Uv(e,uv.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>dS(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return _I.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dI(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return V_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){ug("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.ui)?Fv:14===s?qv:13===s?Lv:12===s?Mv:11===s?Ov:void hg();var s;let a;return this.wi.runTransaction(e,r,i,(r=>(a=new Uv(r,this.Os?this.Os.next():uv.ct),"readwrite-primary"===t?this.Ti(a).next((e=>!!e||this.Ei(a))).next((t=>{if(!t)throw lg("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new gg(mg.FAILED_PRECONDITION,Hg);return n(a)})).next((e=>this.vi(a).next((()=>e)))):this.Oi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Oi(e){return cS(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new gg(mg.FAILED_PRECONDITION,uS)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cS(e).put("owner",t)}static D(){return $g.D()}Ai(e){const t=cS(e);return t.get("owner").next((e=>this.Ri(e)?(ug("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Xg.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(lg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!Oi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ug("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return lg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){lg("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function cS(e){return Vv(e,"owner")}function dS(e){return Vv(e,"clientMetadata")}function hS(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class fS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Ub(),r=Ub();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new fS(e,t.fromCache,n,r)}}class pS{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(fb(t))return Xg.resolve(null);let n=yb(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=wb(t,null,"F"),n=yb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ub(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,wb(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return fb(t)||r.isEqual(Pg.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(og()<=rs.DEBUG&&ug("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sb(t)),this.Wi(e,s,t,Bg(r,-1)))}))}ji(e,t){let n=new Hv(kb(e));return t.forEach(((t,r)=>{Eb(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return og()<=rs.DEBUG&&ug("QueryEngine","Using full collection scan to execute query:",Sb(t)),this.Ui.getDocumentsMatchingQuery(e,t,Gg.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class mS{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Kv(xg),this.Yi=new xb((e=>ib(e)),sb),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QI(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function gS(e,t,n,r){return new mS(e,t,n,r)}async function vS(e,t){const n=pg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Ub();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function yS(e){const t=pg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function bS(e,t,n){let r=Ub(),i=Ub();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Ab();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Pg.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ug("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function wS(e,t){const n=pg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function _S(e,t){const n=pg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Xg.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new E_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function IS(e,t,n){const r=pg(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!tv(e))throw e;ug("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function SS(e,t,n){const r=pg(e);let i=Pg.min(),s=Ub();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=pg(e),i=r.Yi.get(n);return void 0!==i?Xg.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,yb(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Pg.min(),n?s:Ub()))).next((e=>(kS(r,Tb(t),e),{documents:e,ir:s})))))}function ES(e,t){const n=pg(e),r=pg(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function TS(e,t){const n=pg(e),r=n.Xi.get(t)||Pg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Bg(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(kS(n,t,e),e)))}function kS(e,t,n){let r=e.Xi.get(t)||Pg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function CS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ub();const r=await _S(e,yb(R_(t.bundledQuery))),i=pg(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Zw(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.qs.saveNamedQuery(e,t);const a=r.withResumeToken($v.EMPTY_BYTE_STRING,s);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(e,a).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function xS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function NS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function AS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class DS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new gg(r.error.code,r.error.message))),s?new DS(e,t,r.state,i):(lg("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class PS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new gg(n.error.code,n.error.message))),i?new PS(e,n.state,r):(lg("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=jb();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=dv(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new RS(e,i):(lg("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class OS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new OS(t.clientId,t.onlineState):(lg("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class MS{constructor(){this.activeTargetIds=jb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LS{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Kv(xg),this.started=!1,this.yr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=xS(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new MS),this.Tr=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(xS(this.persistenceKey,n));if(e){const t=RS.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(AS(this.persistenceKey,e));if(n){const r=PS.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AS(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ug("SharedClientState","READ",e,t),t}setItem(e,t){ug("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ug("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(ug("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void lg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=uv.ct;if(null!=e)try{const n=JSON.parse(e);fg("number"==typeof n),t=n}catch(e){lg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==uv.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new DS(this.currentUser,e,t,n),i=NS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=NS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=AS(this.persistenceKey,e),i=new PS(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return RS.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return DS.ar(new ig(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return PS.ar(r,t)}br(e){return OS.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);ug("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Wr(s,a).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=jb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class qS{constructor(){this.Hr=new MS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new MS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FS{Yr(e){}shutdown(){}}class US{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let VS=null;function jS(){return null===VS?VS=268435456+Math.round(2147483648*Math.random()):VS++,"0x"+VS.toString(16)}const zS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const KS="WebChannelConnection";class GS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=jS(),a=this.To(e,t);ug("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then((t=>(ug("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw cg("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=zS[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=jS();return new Promise(((s,a)=>{const o=new eg;o.setWithCredentials(!0),o.listenOnce(Ym.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Qm.NO_ERROR:const t=o.getResponseJson();ug(KS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Qm.TIMEOUT:ug(KS,"RPC '".concat(e,"' ").concat(i," timed out")),a(new gg(mg.DEADLINE_EXCEEDED,"Request time out"));break;case Qm.HTTP_ERROR:const n=o.getStatus();if(ug(KS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mg).indexOf(t)>=0?t:mg.UNKNOWN}(t.status);a(new gg(e,t.message))}else a(new gg(mg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new gg(mg.UNAVAILABLE,"Connection failed."));break;default:hg()}}finally{ug(KS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const u=JSON.stringify(r);ug(KS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",u,n,15)}))}Ro(e,t,n){const r=jS(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Wm(),a=Hm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.xmlHttpFactory=new $m({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=i.join("");ug(KS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),o);const c=s.createWebChannel(l,o);let d=!1,h=!1;const f=new BS({ro:t=>{h?ug(KS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(ug(KS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),d=!0),ug(KS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,Zm.EventType.OPEN,(()=>{h||ug(KS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,Zm.EventType.CLOSE,(()=>{h||(h=!0,ug(KS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(c,Zm.EventType.ERROR,(t=>{h||(h=!0,cg(KS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new gg(mg.UNAVAILABLE,"The operation could not be completed")))})),p(c,Zm.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];fg(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ug(KS,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ew[e];if(void 0!==t)return Cw(t)}(t),i=a.message;void 0===n&&(n=mg.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new gg(n,i)),c.close()}else ug(KS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(a,Xm.STAT_EVENT,(t=>{t.stat===Jm.PROXY?ug(KS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Jm.NOPROXY&&ug(KS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function WS(){return"undefined"!=typeof window?window:null}function HS(){return"undefined"!=typeof document?document:null}function QS(e){return new Qw(e,!0)}class YS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&ug("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class XS{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new YS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===mg.RESOURCE_EXHAUSTED?(lg(t.toString()),lg("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===mg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new gg(mg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return ug("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(ug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JS extends XS{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:hg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(fg(void 0===t||"string"==typeof t),$v.fromBase64String(t||"")):(fg(void 0===t||t instanceof Uint8Array),$v.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?mg.UNKNOWN:Cw(e.code);return new gg(t,e.message||"")}(a);n=new Vw(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=r_(e,r.document.name),s=Zw(r.document.updateTime),a=r.document.createTime?Zw(r.document.createTime):Pg.min(),o=new Ny({mapValue:{fields:r.document.fields}}),u=Dy.newFoundDocument(i,s,a,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Fw(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=r_(e,r.document),s=r.readTime?Zw(r.readTime):Pg.min(),a=Dy.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Fw([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=r_(e,r.document),s=r.removedTargetIds||[];n=new Fw([],s,i,null)}else{if(!("filter"in t))return hg();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Sw(r,i),a=e.targetId;n=new Uw(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Pg.min():t.readTime?Zw(t.readTime):Pg.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=a_(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ab(r)?{documents:h_(e,r)}:{query:f_(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jw(e,t.resumeToken);const r=Yw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Pg.min())>0){n.readTime=Xw(e,t.snapshotVersion.toTimestamp());const r=Yw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return hg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=a_(this.serializer),t.removeTarget=e,this.Wo(t)}}class $S extends XS{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(fg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(fg(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Zw(e.updateTime):Zw(t);return n.isEqual(Pg.min())&&(n=Zw(t)),new iw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Zw(e.commitTime);return this.listener.cu(n,t)}return fg(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=a_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>c_(this.serializer,e)))};this.Wo(t)}}class ZS extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new gg(mg.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gg(mg.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gg(mg.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class eE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(lg(t),this.mu=!1):ug("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class tE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{cE(this)&&(ug("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pg(e);t.vu.add(4),await rE(t),t.bu.set("Unknown"),t.vu.delete(4),await nE(t)}(this))}))})),this.bu=new eE(n,r)}}async function nE(e){if(cE(e))for(const t of e.Ru)await t(!0)}async function rE(e){for(const t of e.Ru)await t(!1)}function iE(e,t){const n=pg(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),lE(n)?uE(n):xE(n).Ko()&&aE(n,t))}function sE(e,t){const n=pg(e),r=xE(n);n.Au.delete(t),r.Ko()&&oE(n,t),0===n.Au.size&&(r.Ko()?r.jo():cE(n)&&n.bu.set("Unknown"))}function aE(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xE(e).su(t)}function oE(e,t){e.Vu.qt(t),xE(e).iu(t)}function uE(e){e.Vu=new zw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),xE(e).start(),e.bu.gu()}function lE(e){return cE(e)&&!xE(e).Uo()&&e.Au.size>0}function cE(e){return 0===pg(e).vu.size}function dE(e){e.Vu=void 0}async function hE(e){e.Au.forEach(((t,n)=>{aE(e,t)}))}async function fE(e,t){dE(e),lE(e)?(e.bu.Iu(t),uE(e)):e.bu.set("Unknown")}async function pE(e,t,n){if(e.bu.set("Online"),t instanceof Vw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){ug("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await mE(e,n)}else if(t instanceof Fw?e.Vu.Ht(t):t instanceof Uw?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Pg.min()))try{const t=await yS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken($v.EMPTY_BYTE_STRING,r.snapshotVersion)),oE(e,t);const i=new E_(r.target,t,n,r.sequenceNumber);aE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ug("RemoteStore","Failed to raise snapshot:",t),await mE(e,t)}}async function mE(e,t,n){if(!tv(t))throw t;e.vu.add(1),await rE(e),e.bu.set("Offline"),n||(n=()=>yS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ug("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await nE(e)}))}function gE(e,t){return t().catch((n=>mE(e,n,t)))}async function vE(e){const t=pg(e),n=NE(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;yE(t);)try{const e=await wS(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,bE(t,e)}catch(e){await mE(t,e)}wE(t)&&_E(t)}function yE(e){return cE(e)&&e.Eu.length<10}function bE(e,t){e.Eu.push(t);const n=NE(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function wE(e){return cE(e)&&!NE(e).Uo()&&e.Eu.length>0}function _E(e){NE(e).start()}async function IE(e){NE(e).hu()}async function SE(e){const t=NE(e);for(const n of e.Eu)t.uu(n.mutations)}async function EE(e,t,n){const r=e.Eu.shift(),i=_w.from(r,t,n);await gE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await vE(e)}async function TE(e,t){t&&NE(e).ou&&await async function(e,t){if(kw(n=t.code)&&n!==mg.ABORTED){const n=e.Eu.shift();NE(e).Qo(),await gE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await vE(e)}var n}(e,t),wE(e)&&_E(e)}async function kE(e,t){const n=pg(e);n.asyncQueue.verifyOperationInProgress(),ug("RemoteStore","RemoteStore received new credentials");const r=cE(n);n.vu.add(3),await rE(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await nE(n)}async function CE(e,t){const n=pg(e);t?(n.vu.delete(2),await nE(n)):t||(n.vu.add(2),await rE(n),n.bu.set("Unknown"))}function xE(e){return e.Su||(e.Su=function(e,t,n){const r=pg(e);return r.fu(),new JS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:hE.bind(null,e),ao:fE.bind(null,e),nu:pE.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),lE(e)?uE(e):e.bu.set("Unknown")):(await e.Su.stop(),dE(e))}))),e.Su}function NE(e){return e.Du||(e.Du=function(e,t,n){const r=pg(e);return r.fu(),new $S(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:IE.bind(null,e),ao:TE.bind(null,e),au:SE.bind(null,e),cu:EE.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await vE(e)):(await e.Du.stop(),e.Eu.length>0&&(ug("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class AE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new AE(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gg(mg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DE(e,t){if(lg("AsyncQueue","".concat(t,": ").concat(e)),tv(e))return new gg(mg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class PE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||qg.comparator(t.key,n.key):(e,t)=>qg.comparator(e.key,t.key),this.keyedMap=Pb(),this.sortedSet=new Kv(this.comparator)}static emptySet(e){return new PE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof PE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new PE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class RE{constructor(){this.Cu=new Kv(qg.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):hg():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class OE{constructor(e,t,n,r,i,s,a,o,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new OE(e,t,PE.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_b(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ME{constructor(){this.Nu=void 0,this.listeners=[]}}class LE{constructor(){this.queries=new xb((e=>Ib(e)),_b),this.onlineState="Unknown",this.ku=new Set}}async function qE(e,t){const n=pg(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ME),i)try{s.Nu=await n.onListen(r)}catch(e){const n=DE(e,"Initialization of query '".concat(Sb(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&jE(n)}async function FE(e,t){const n=pg(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function UE(e,t){const n=pg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&jE(n)}function VE(e,t,n){const r=pg(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function jE(e){e.ku.forEach((e=>{e.next()}))}class zE{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new OE(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=OE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class BE{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class KE{constructor(e){this.serializer=e}rr(e){return r_(this.serializer,e)}ur(e){return e.metadata.exists?l_(this.serializer,e.document,!1):Dy.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Zw(e)}}class GE{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WE(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=Og.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new KE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Ub()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=pg(e);let s=Ub(),a=Ab();for(const l of n){const e=t.rr(l.metadata.name);l.document&&(s=s.add(e));const n=t.ur(l);n.setReadTime(t.cr(l.metadata.readTime)),a=a.insert(e,n)}const o=i.Zi.newChangeBuffer({trackRemovals:!0}),u=await _S(i,function(e){return yb(hb(Og.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>bS(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Bs.addMatchingKeys(e,s,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new KE(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await CS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function WE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class HE{constructor(e){this.key=e}}class QE{constructor(e){this.key=e}}class YE{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ub(),this.mutatedKeys=Ub(),this.tc=kb(e),this.ec=new PE(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new RE,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=Eb(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.rc(l,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.tc(c,o)>0||u&&this.tc(c,u)<0)&&(a=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(o||u)&&(a=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return hg()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new OE(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new RE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ub(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new QE(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new HE(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Ub();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return OE.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class XE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class JE{constructor(e){this.key=e,this.fc=!1}}class $E{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new xb((e=>Ib(e)),_b),this._c=new Map,this.mc=new Set,this.gc=new Kv(qg.comparator),this.yc=new Map,this.Ic=new JI,this.Tc={},this.Ec=new Map,this.Ac=kI.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function ZE(e,t){const n=TT(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await _S(n.localStore,yb(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await eT(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&iE(n.remoteStore,e)}return i}async function eT(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await SS(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return dT(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await SS(e.localStore,t,!0),a=new YE(t,s.ir),o=a.sc(s.documents),u=qw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=a.applyChanges(o,e.isPrimaryClient,u);dT(e,n,l.cc);const c=new XE(t,n,a);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),l.snapshot}async function tT(e,t){const n=pg(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!_b(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await IS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),sE(n.remoteStore,r.targetId),lT(n,r.targetId)})).catch(Yg)):(lT(n,r.targetId),await IS(n.localStore,r.targetId,!0))}async function nT(e,t){const n=pg(e);try{const e=await function(e,t){const n=pg(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((s,o)=>{const u=i.get(o);if(!u)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o))));let l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken($v.EMPTY_BYTE_STRING,Pg.min()).withLastLimboFreeSnapshotVersion(Pg.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,s)&&a.push(n.Bs.updateTargetData(e,l))}));let o=Ab(),u=Ub();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(bS(e,s,t.documentUpdates).next((e=>{o=e.nr,u=e.sr}))),!r.isEqual(Pg.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Xg.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,u))).next((()=>o))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(fg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?fg(r.fc):e.removedDocuments.size>0&&(fg(r.fc),r.fc=!1))})),await pT(n,e,t)}catch(e){await Yg(e)}}function rT(e,t,n){const r=pg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=pg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&jE(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function iT(e,t,n){const r=pg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Kv(qg.comparator);e=e.insert(s,Dy.newNoDocument(s,Pg.min()));const n=Ub().add(s),i=new Lw(Pg.min(),new Map,new Kv(xg),e,n);await nT(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),fT(r)}else await IS(r.localStore,t,!1).then((()=>lT(r,t,n))).catch(Yg)}async function sT(e,t){const n=pg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Xg.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);fg(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ub();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);uT(n,r,null),oT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pT(n,e)}catch(e){await Yg(e)}}async function aT(e,t,n){const r=pg(e);try{const e=await function(e,t){const n=pg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(fg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);uT(r,t,n),oT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await pT(r,e)}catch(n){await Yg(n)}}function oT(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function uT(e,t,n){const r=pg(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function lT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||cT(e,t)}))}function cT(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(sE(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),fT(e))}function dT(e,t,n){for(const r of n)r instanceof HE?(e.Ic.addReference(r.key,t),hT(e,r)):r instanceof QE?(ug("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||cT(e,r.key)):hg()}function hT(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ug("SyncEngine","New document in limbo: "+n),e.mc.add(r),fT(e))}function fT(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new qg(Og.fromString(t)),r=e.Ac.next();e.yc.set(r,new JE(n)),e.gc=e.gc.insert(n,r),iE(e.remoteStore,new E_(yb(hb(n.path)),r,"TargetPurposeLimboResolution",uv.ct))}}async function pT(e,t,n){const r=pg(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,o)=>{a.push(r.Rc(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=fS.Li(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=pg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Xg.forEach(t,(t=>Xg.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Xg.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!tv(e))throw e;ug("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function mT(e,t){const n=pg(e);if(!n.currentUser.isEqual(t)){ug("SyncEngine","User change. New user:",t.toKey());const e=await vS(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new gg(mg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await pT(n,e.er)}}function gT(e,t){const n=pg(e),r=n.yc.get(t);if(r&&r.fc)return Ub().add(r.key);{let e=Ub();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function vT(e,t){const n=pg(e),r=await SS(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&dT(n,t.targetId,i.cc),i}async function yT(e,t){const n=pg(e);return TS(n.localStore,t).then((e=>pT(n,e)))}async function bT(e,t,n,r){const i=pg(e),s=await function(e,t){const n=pg(e),r=pg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Xg.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await vE(i.remoteStore):"acknowledged"===n||"rejected"===n?(uT(i,t,r||null),oT(i,t),function(e,t){pg(pg(e).mutationQueue).Cn(t)}(i.localStore,t)):hg(),await pT(i,s)):ug("SyncEngine","Cannot apply mutation batch with id: "+t)}async function wT(e,t,n){const r=pg(e),i=[],s=[];for(const a of t){let e;const t=r._c.get(a);if(t&&0!==t.length){e=await _S(r.localStore,yb(t[0]));for(const e of t){const t=r.wc.get(e),n=await vT(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await ES(r.localStore,a);e=await _S(r.localStore,t),await eT(r,_T(t),a,!1,e.resumeToken)}i.push(e)}return r.dc.nu(s),i}function _T(e){return db(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function IT(e){const t=pg(e);return pg(pg(t.localStore).persistence).$i()}async function ST(e,t,n,r){const i=pg(e);if(i.vc)return void ug("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await TS(i.localStore,Tb(s[0])),r=Lw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,$v.EMPTY_BYTE_STRING);await pT(i,e,r);break}case"rejected":await IS(i.localStore,t,!0),lT(i,t,r);break;default:hg()}}async function ET(e,t,n){const r=TT(e);if(r.vc){for(const e of t){if(r._c.has(e)){ug("SyncEngine","Adding an already active target "+e);continue}const t=await ES(r.localStore,e),n=await _S(r.localStore,t);await eT(r,_T(t),n.targetId,!1,n.resumeToken),iE(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await IS(r.localStore,e,!1).then((()=>{sE(r.remoteStore,e),lT(r,e)})).catch(Yg)}}function TT(e){const t=pg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iT.bind(null,t),t.dc.nu=UE.bind(null,t.eventManager),t.dc.Pc=VE.bind(null,t.eventManager),t}function kT(e){const t=pg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aT.bind(null,t),t}class CT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=QS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gS(this.persistence,new pS,e.initialUser,this.serializer)}createPersistence(e){return new rS(sS.zs,this.serializer)}createSharedClientState(e){return new qS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xT extends CT{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await kT(this.Vc.syncEngine),await vE(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return gS(this.persistence,new pS,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new RI(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new ov(t,this.persistence);return new av(e.asyncQueue,n)}createPersistence(e){const t=hS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yI.withCacheSize(this.cacheSizeBytes):yI.DEFAULT;return new lS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,WS(),HS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new qS}}class NT extends xT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof LS&&(this.sharedClientState.syncEngine={jr:bT.bind(null,t),zr:ST.bind(null,t),Wr:ET.bind(null,t),$i:IT.bind(null,t),Qr:yT.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=pg(e);if(TT(n),kT(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await wT(n,e.toArray());n.vc=!0,await CE(n.remoteStore,!0);for(const r of t)iE(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(lT(n,i),IS(n.localStore,i,!0)))),sE(n.remoteStore,i)})),await t,await wT(n,e),function(e){const t=pg(e);t.yc.forEach(((e,n)=>{sE(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Kv(qg.comparator)}(n),n.vc=!1,await CE(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=WS();if(!LS.D(t))throw new gg(mg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=hS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new LS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class AT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>rT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=mT.bind(null,this.syncEngine),await CE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new LE}createDatastore(e){const t=QS(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new GS(r));var r;return function(e,t,n,r){return new ZS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>rT(this.syncEngine,e,0),s=US.D()?new US:new FS,new tE(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new $E(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=pg(e);ug("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await rE(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function DT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class PT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):lg("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class RT{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new vg,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new BE(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class OT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new gg(mg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=pg(e),r=a_(n.serializer)+"/documents",i={documents:t.map((e=>n_(n.serializer,e)))},s=await n.vo("BatchGetDocuments",r,i,t.length),a=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){fg(!!t.found),t.found.name,t.found.updateTime;const n=r_(e,t.found.name),r=Zw(t.found.updateTime),i=t.found.createTime?Zw(t.found.createTime):Pg.min(),s=new Ny({mapValue:{fields:t.found.fields}});return Dy.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){fg(!!t.missing),fg(!!t.readTime);const n=r_(e,t.missing),r=Zw(t.readTime);return Dy.newNoDocument(n,r)}(e,t):hg()}(n.serializer,e);a.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=a.get(e.toString());fg(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new yw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=qg.fromPath(t);this.mutations.push(new bw(n,this.precondition(n)))})),await async function(e,t){const n=pg(e),r=a_(n.serializer)+"/documents",i={writes:t.map((e=>c_(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw hg();t=Pg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new gg(mg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Pg.min())?sw.exists(!1):sw.updateTime(t):sw.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pg.min()))throw new gg(mg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sw.updateTime(t)}return sw.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class MT{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new YS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new OT(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!lv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kw(t)}return!1}}class LT{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ig.UNAUTHENTICATED,this.clientId=Cg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ug("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ug("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gg(mg.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(Px){const n=DE(Px,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function qT(e,t){e.asyncQueue.verifyOperationInProgress(),ug("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await vS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function FT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await VT(e);ug("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>kE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>kE(t.remoteStore,n))),e._onlineComponents=t}function UT(e){return"FirebaseError"===e.name?e.code===mg.FAILED_PRECONDITION||e.code===mg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function VT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ug("FirestoreClient","Using user provided OfflineComponentProvider");try{await qT(e,e._uninitializedComponentsProvider._offline)}catch(Px){const n=Px;if(!UT(n))throw n;cg("Error using user provided cache. Falling back to memory cache: "+n),await qT(e,new CT)}}else ug("FirestoreClient","Using default OfflineComponentProvider"),await qT(e,new CT);return e._offlineComponents}async function jT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ug("FirestoreClient","Using user provided OnlineComponentProvider"),await FT(e,e._uninitializedComponentsProvider._online)):(ug("FirestoreClient","Using default OnlineComponentProvider"),await FT(e,new AT))),e._onlineComponents}function zT(e){return VT(e).then((e=>e.persistence))}function BT(e){return VT(e).then((e=>e.localStore))}function KT(e){return jT(e).then((e=>e.remoteStore))}function GT(e){return jT(e).then((e=>e.syncEngine))}function WT(e){return jT(e).then((e=>e.datastore))}async function HT(e){const t=await jT(e),n=t.eventManager;return n.onListen=ZE.bind(null,t.syncEngine),n.onUnlisten=tT.bind(null,t.syncEngine),n}function QT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new PT({next:s=>{t.enqueueAndForget((()=>FE(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new gg(mg.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new gg(mg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new zE(hb(n.path),s,{includeMetadataChanges:!0,Ku:!0});return qE(e,a)}(await HT(e),e.asyncQueue,t,n,r))),r.promise}function YT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new PT({next:n=>{t.enqueueAndForget((()=>FE(e,a))),n.fromCache&&"server"===r.source?i.reject(new gg(mg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new zE(n,s,{includeMetadataChanges:!0,Ku:!0});return qE(e,a)}(await HT(e),e.asyncQueue,t,n,r))),r.promise}function XT(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Aw().encode(e):e,function(e,t){return new RT(e,t)}(function(e,t){if(e instanceof Uint8Array)return DT(e,t);if(e instanceof ArrayBuffer)return DT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,QS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=pg(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=pg(e),r=Zw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(WE(r));const i=new GE(r,e.localStore,t.serializer);let s=await t.bc();for(;s;){const e=await i.zu(s);e&&n._updateProgress(e),s=await t.bc()}const a=await i.complete();return await pT(e,a.Ju,void 0),await function(e,t){const n=pg(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Hu)}catch(e){return cg("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await GT(e),i,r)}))}function JT(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const $T=new Map;function ZT(e,t,n){if(!n)throw new gg(mg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ek(e,t,n,r){if(!0===t&&!0===r)throw new gg(mg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function tk(e){if(!qg.isDocumentKey(e))throw new gg(mg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function nk(e){if(qg.isDocumentKey(e))throw new gg(mg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function rk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":hg()}function ik(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gg(mg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rk(e);throw new gg(mg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function sk(e,t){if(t<=0)throw new gg(mg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class ak{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gg(mg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gg(mg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ek("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JT(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gg(mg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new gg(mg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new gg(mg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ok{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ak({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gg(mg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gg(mg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ak(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bg;switch(e.type){case"firstParty":return new Sg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gg(mg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$T.get(e);t&&(ug("ComponentProvider","Removing Datastore"),$T.delete(e),t.terminate())}(this),Promise.resolve()}}function uk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=ik(e,ok))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&cg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ig.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ki(JSON.stringify({alg:"none",type:"JWT"})),ki(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new gg(mg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ig(s)}e._authCredentials=new wg(new yg(t,n))}}class lk{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lk(this.firestore,e,this._key)}}class ck{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ck(this.firestore,e,this._query)}}class dk extends ck{constructor(e,t,n){super(e,t,hb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lk(this.firestore,null,new qg(e))}withConverter(e){return new dk(this.firestore,e,this._path)}}function hk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ji(e),ZT("collection","path",t),e instanceof ok){const n=Og.fromString(t,...r);return nk(n),new dk(e,null,n)}{if(!(e instanceof lk||e instanceof dk))throw new gg(mg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Og.fromString(t,...r));return nk(n),new dk(e.firestore,null,n)}}function fk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ji(e),1===arguments.length&&(t=Cg.A()),ZT("doc","path",t),e instanceof ok){const n=Og.fromString(t,...r);return tk(n),new lk(e,null,new qg(n))}{if(!(e instanceof lk||e instanceof dk))throw new gg(mg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Og.fromString(t,...r));return tk(n),new lk(e.firestore,e instanceof dk?e.converter:null,new qg(n))}}function pk(e,t){return e=Ji(e),t=Ji(t),(e instanceof lk||e instanceof dk)&&(t instanceof lk||t instanceof dk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function mk(e,t){return e=Ji(e),t=Ji(t),e instanceof ck&&t instanceof ck&&e.firestore===t.firestore&&_b(e._query,t._query)&&e.converter===t.converter}class gk{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new YS(this,"async_queue_retry"),this.Xc=()=>{const e=HS();e&&ug("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=HS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=HS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new vg;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!tv(e))throw e;ug("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lg("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=AE.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&hg()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function vk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class yk{constructor(){this._progressObserver={},this._taskCompletionResolver=new vg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bk extends ok{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gk,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_k(this),this._firestoreClient.terminate()}}function wk(e){return e._firestoreClient||_k(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _k(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ay(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,JT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new LT(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Ik(e,t,n){const r=new vg;return e.asyncQueue.enqueue((async()=>{try{await qT(e,n),await FT(e,t),r.resolve()}catch(e){const n=e;if(!UT(n))throw n;cg("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Sk(e){return function(e){const t=new vg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=pg(e);cE(n.remoteStore)||ug("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=pg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=DE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await GT(e),t))),t.promise}(wk(e=ik(e,bk)))}function Ek(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await zT(e),n=await KT(e);return t.setNetworkEnabled(!0),function(e){const t=pg(e);return t.vu.delete(0),nE(t)}(n)}))}(wk(e=ik(e,bk)))}function Tk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await zT(e),n=await KT(e);return t.setNetworkEnabled(!1),async function(e){const t=pg(e);t.vu.add(0),await rE(t),t.bu.set("Offline")}(n)}))}(wk(e=ik(e,bk)))}function kk(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=pg(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await BT(e),t)))}(wk(e=ik(e,bk)),t).then((t=>t?new ck(e,null,t.query):null))}function Ck(e){if(e._initialized||e._terminated)throw new gg(mg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xk($v.fromBase64String(e))}catch(e){throw new gg(mg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new xk($v.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Nk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gg(mg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ak{constructor(e){this._methodName=e}}class Dk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gg(mg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gg(mg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xg(this._lat,e._lat)||xg(this._long,e._long)}}const Pk=/^__.*__$/;class Rk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new pw(e,this.data,this.fieldMask,t,this.fieldTransforms):new fw(e,this.data,t,this.fieldTransforms)}}class Ok{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new pw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Mk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw hg()}}class Lk{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Lk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Mk(this.ca)&&Pk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class qk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||QS(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Lk({ca:e,methodName:t,ga:n,path:Lg.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fk(e){const t=e._freezeSettings(),n=QS(e._databaseId);return new qk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Uk(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);$k("Data must be an object, but it was:",a,r);const o=Xk(r,a);let u,l;if(s.merge)u=new Xv(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Zk(t,r,n);if(!a.contains(i))throw new gg(mg.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));rC(e,i)||e.push(i)}u=new Xv(e),l=a.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=a.fieldTransforms;return new Rk(new Ny(o),u,l)}class Vk extends Ak{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vk}}function jk(e,t,n){return new Lk({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class zk extends Ak{_toFieldTransform(e){return new rw(e.path,new Yb)}isEqual(e){return e instanceof zk}}class Bk extends Ak{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=jk(this,e,!0),n=this.pa.map((e=>Yk(e,t))),r=new Xb(n);return new rw(e.path,r)}isEqual(e){return this===e}}class Kk extends Ak{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=jk(this,e,!0),n=this.pa.map((e=>Yk(e,t))),r=new $b(n);return new rw(e.path,r)}isEqual(e){return this===e}}class Gk extends Ak{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ew(e.serializer,Kb(e.serializer,this.Ia));return new rw(e.path,t)}isEqual(e){return this===e}}function Wk(e,t,n,r){const i=e.ya(1,t,n);$k("Data must be an object, but it was:",i,r);const s=[],a=Ny.empty();zv(r,((e,r)=>{const o=tC(t,e,n);r=Ji(r);const u=i.da(o);if(r instanceof Vk)s.push(o);else{const e=Yk(r,u);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Xv(s);return new Ok(a,o,i.fieldTransforms)}function Hk(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[Zk(t,r,n)],u=[i];if(s.length%2!=0)throw new gg(mg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Zk(t,s[h])),u.push(s[h+1]);const l=[],c=Ny.empty();for(let h=o.length-1;h>=0;--h)if(!rC(l,o[h])){const e=o[h];let t=u[h];t=Ji(t);const n=a.da(e);if(t instanceof Vk)l.push(e);else{const r=Yk(t,n);null!=r&&(l.push(e),c.set(e,r))}}const d=new Xv(l);return new Ok(c,d,a.fieldTransforms)}function Qk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Yk(n,e.ya(r?4:3,t))}function Yk(e,t){if(Jk(e=Ji(e)))return $k("Unsupported field value:",t,e),Xk(e,t);if(e instanceof Ak)return function(e,t){if(!Mk(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Yk(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ji(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Dg.fromDate(e);return{timestampValue:Xw(t.serializer,n)}}if(e instanceof Dg){const n=new Dg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xw(t.serializer,n)}}if(e instanceof Dk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof xk)return{bytesValue:Jw(t.serializer,e._byteString)};if(e instanceof lk){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:e_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(rk(e)))}(e,t)}function Xk(e,t){const n={};return Bv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zv(e,((e,r)=>{const i=Yk(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Jk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Dg||e instanceof Dk||e instanceof xk||e instanceof lk||e instanceof Ak)}function $k(e,t,n){if(!Jk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=rk(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Zk(e,t,n){if((t=Ji(t))instanceof Nk)return t._internalPath;if("string"==typeof t)return tC(e,t);throw nC("Field path arguments must be of type string or ",e,!1,void 0,n)}const eC=new RegExp("[~\\*/\\[\\]]");function tC(e,t,n){if(t.search(eC)>=0)throw nC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Nk(...t.split("."))._internalPath}catch(r){throw nC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function nC(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new gg(mg.INVALID_ARGUMENT,o+e+u)}function rC(e,t){return e.some((e=>e.isEqual(t)))}class iC{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new lk(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sC extends iC{data(){return super.data()}}function aC(e,t){return"string"==typeof t?tC(e,t):t instanceof Nk?t._internalPath:t._delegate._internalPath}function oC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gg(mg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uC{}class lC extends uC{}function cC(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof uC&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof hC)).length,n=e.filter((e=>e instanceof dC)).length;if(t>1||t>0&&n>0)throw new gg(mg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class dC extends lC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dC(e,t,n)}_apply(e){const t=this._parse(e);return wC(e._query,t),new ck(e.firestore,e.converter,bb(e._query,t))}_parse(e){const t=Fk(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new gg(mg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){bC(a,s);const t=[];for(const n of a)t.push(yC(r,e,n));o={arrayValue:{values:t}}}else o=yC(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||bC(a,s),o=Qk(n,"where",a,"in"===s||"not-in"===s);return Fy.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class hC extends uC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new hC(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Uy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)wC(n,i),n=bb(n,i)}(e._query,t),new ck(e.firestore,e.converter,bb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class fC extends lC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new fC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new gg(mg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new gg(mg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new My(t,n);return function(e,t){if(null===pb(e)){const n=mb(e);null!==n&&_C(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new ck(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new cb(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class pC extends lC{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new pC(e,t,n)}_apply(e){return new ck(e.firestore,e.converter,wb(e._query,this._limit,this._limitType))}}class mC extends lC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new mC(e,t,n)}_apply(e){const t=vC(e,this.type,this._docOrFields,this._inclusive);return new ck(e.firestore,e.converter,function(e,t){return new cb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class gC extends lC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new gC(e,t,n)}_apply(e){const t=vC(e,this.type,this._docOrFields,this._inclusive);return new ck(e.firestore,e.converter,function(e,t){return new cb(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function vC(e,t,n,r){if(n[0]=Ji(n[0]),n[0]instanceof iC)return function(e,t,n,r,i){if(!r)throw new gg(mg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of vb(e))if(a.field.isKeyField())s.push(vy(t,r.key));else{const e=r.data.field(a.field);if(ry(e))throw new gg(mg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new gg(mg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Py(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Fk(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new gg(mg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let u=0;u<i.length;u++){const s=i[u];if(a[u].field.isKeyField()){if("string"!=typeof s)throw new gg(mg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!gb(e)&&-1!==s.indexOf("/"))throw new gg(mg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Og.fromString(s));if(!qg.isDocumentKey(n))throw new gg(mg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new qg(n);o.push(vy(t,i))}else{const e=Qk(n,r,s);o.push(e)}}return new Py(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function yC(e,t,n){if("string"==typeof(n=Ji(n))){if(""===n)throw new gg(mg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gb(t)&&-1!==n.indexOf("/"))throw new gg(mg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Og.fromString(n));if(!qg.isDocumentKey(r))throw new gg(mg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return vy(e,new qg(r))}if(n instanceof lk)return vy(e,n._key);throw new gg(mg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(rk(n),"."))}function bC(e,t){if(!Array.isArray(e)||0===e.length)throw new gg(mg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function wC(e,t){if(t.isInequality()){const n=mb(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new gg(mg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=pb(e);null!==i&&_C(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new gg(mg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new gg(mg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function _C(e,t,n){if(!n.isEqual(t))throw new gg(mg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class IC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ty(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ny(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw hg()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Dk(ty(e.latitude),ty(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=iy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sy(e));default:return null}}convertTimestamp(e){const t=ey(e);return new Dg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Og.fromString(e);fg(S_(n));const r=new oy(n.get(1),n.get(3)),i=new qg(n.popFirst(5));return r.isEqual(t)||lg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function SC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class EC extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new xk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lk(this.firestore,null,t)}}class TC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kC extends iC{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new CC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(aC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class CC extends kC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class xC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new TC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new CC(this._firestore,this._userDataWriter,n.key,n,new TC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gg(mg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new CC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new TC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new CC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:NC(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function NC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return hg()}}function AC(e,t){return e instanceof kC&&t instanceof kC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xC&&t instanceof xC&&e._firestore===t._firestore&&mk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class DC extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new xk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lk(this.firestore,null,t)}}function PC(e){e=ik(e,lk);const t=ik(e.firestore,bk),n=wk(t),r=new DC(t);return function(e,t){const n=new vg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=pg(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new gg(mg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=DE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await BT(e),t,n))),n.promise}(n,e._key).then((n=>new kC(t,r,e._key,n,new TC(null!==n&&n.hasLocalMutations,!0),e.converter)))}function RC(e){e=ik(e,ck);const t=ik(e.firestore,bk),n=wk(t),r=new DC(t);return function(e,t){const n=new vg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await SS(e,t,!0),i=new YE(t,r.ir),s=i.sc(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=DE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await BT(e),t,n))),n.promise}(n,e._query).then((n=>new xC(t,r,e,n)))}function OC(e,t,n){e=ik(e,lk);const r=ik(e.firestore,bk),i=SC(e.converter,t,n);return FC(r,[Uk(Fk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,sw.none())])}function MC(e,t,n){e=ik(e,lk);const r=ik(e.firestore,bk),i=Fk(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return s="string"==typeof(t=Ji(t))||t instanceof Nk?Hk(i,"updateDoc",e._key,t,n,o):Wk(i,"updateDoc",e._key,t),FC(r,[s.toMutation(e._key,sw.exists(!0))])}function LC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=Ji(e);let o={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||vk(n[u])||(o=n[u],u++);const l={includeMetadataChanges:o.includeMetadataChanges};if(vk(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[u+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,d,h;if(e instanceof lk)d=ik(e.firestore,bk),h=hb(e._key.path),c={next:t=>{n[u]&&n[u](UC(d,e,t))},error:n[u+1],complete:n[u+2]};else{const t=ik(e,ck);d=ik(t.firestore,bk),h=t._query;const r=new DC(d);c={next:e=>{n[u]&&n[u](new xC(d,r,t,e))},error:n[u+1],complete:n[u+2]},oC(e._query)}return function(e,t,n,r){const i=new PT(r),s=new zE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>qE(await HT(e),s))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>FE(await HT(e),s)))}}(wk(d),h,l,c)}function qC(e,t){return function(e,t){const n=new PT(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){pg(e).ku.add(t),t.next()}(await HT(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){pg(e).ku.delete(t)}(await HT(e),n)))}}(wk(e=ik(e,bk)),vk(t)?t:{next:t})}function FC(e,t){return function(e,t){const n=new vg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=kT(e);try{const e=await function(e,t){const n=pg(e),r=Dg.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ub());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Ab(),u=Ub();return n.Zi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(u=u.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=dw(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new pw(e.key,t,Ay(t.value.mapValue),sw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Rb(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Kv(xg)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await pT(r,e.changes),await vE(r.remoteStore)}catch(e){const t=DE(e,"Failed to persist write");n.reject(t)}}(await GT(e),t,n))),n.promise}(wk(e),t)}function UC(e,t,n){const r=n.docs.get(t._key),i=new DC(e);return new kC(e,i,t._key,r,new TC(n.hasPendingWrites,n.fromCache),t.converter)}const VC={maxAttempts:5};class jC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fk(e)}set(e,t,n){this._verifyNotCommitted();const r=zC(e,this._firestore),i=SC(r.converter,t,n),s=Uk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,sw.none())),this}update(e,t,n){this._verifyNotCommitted();const r=zC(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=Ji(t))||t instanceof Nk?Hk(this._dataReader,"WriteBatch.update",r._key,t,n,a):Wk(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,sw.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zC(e,this._firestore);return this._mutations=this._mutations.concat(new yw(t._key,sw.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gg(mg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zC(e,t){if((e=Ji(e)).firestore!==t)throw new gg(mg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class BC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fk(e)}get(e){const t=zC(e,this._firestore),n=new EC(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return hg();const r=e[0];if(r.isFoundDocument())return new iC(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new iC(this._firestore,n,t._key,null,t.converter);throw hg()}))}set(e,t,n){const r=zC(e,this._firestore),i=SC(r.converter,t,n),s=Uk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=zC(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=Ji(t))||t instanceof Nk?Hk(this._dataReader,"Transaction.update",r._key,t,n,a):Wk(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=zC(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zC(e,this._firestore),n=new DC(this._firestore);return super.get(e).then((e=>new kC(this._firestore,n,t._key,e._document,new TC(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sg=e}(ha),aa(new $i("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new bk(new _g(e.getProvider("auth-internal")),new Tg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gg(mg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oy(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),va(rg,"3.13.0",e),va(rg,"3.13.0","esm2017")}();function KC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new gg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function GC(){if("undefined"===typeof Uint8Array)throw new gg("unimplemented","Uint8Arrays are not available in this environment.")}function WC(){if("undefined"==typeof atob)throw new gg("unimplemented","Blobs are unavailable in Firestore in this environment.")}class HC{constructor(e){this._delegate=e}static fromBase64String(e){return WC(),new HC(xk.fromBase64String(e))}static fromUint8Array(e){return GC(),new HC(xk.fromUint8Array(e))}toBase64(){return WC(),this._delegate.toBase64()}toUint8Array(){return GC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class YC{enableIndexedDbPersistence(e,t){return function(e,t){Ck(e=ik(e,bk));const n=wk(e);if(n._uninitializedComponentsProvider)throw new gg(mg.FAILED_PRECONDITION,"SDK cache is already specified.");cg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new AT;return Ik(n,i,new xT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Ck(e=ik(e,bk));const t=wk(e);if(t._uninitializedComponentsProvider)throw new gg(mg.FAILED_PRECONDITION,"SDK cache is already specified.");cg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new AT;return Ik(t,r,new NT(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new gg(mg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new vg;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!$g.D())return Promise.resolve();const t=e+"main";await $g.delete(t)}(hS(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class XC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof oy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||cg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uk(this._delegate,e,t,n)}enableNetwork(){return Ek(this._delegate)}disableNetwork(){return Tk(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,ek("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Sk(this._delegate)}onSnapshotsInSync(e){return qC(this._delegate,e)}get app(){if(!this._appCompat)throw new gg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cx(this,hk(this._delegate,e))}catch(Px){throw nx(Px,"collection()","Firestore.collection()")}}doc(e){try{return new tx(this,fk(this._delegate,e))}catch(Px){throw nx(Px,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ox(this,function(e,t){if(e=ik(e,ok),ZT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new gg(mg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new ck(e,null,function(e){return new cb(Og.emptyPath(),e)}(t))}(this._delegate,e))}catch(Px){throw nx(Px,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=ik(e,bk);const r=Object.assign(Object.assign({},VC),n);return function(e){if(e.maxAttempts<1)throw new gg(mg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new vg;return e.asyncQueue.enqueueAndForget((async()=>{const i=await WT(e);new MT(e.asyncQueue,i,n,t,r).run()})),r.promise}(wk(e),(n=>t(new BC(e,n))),r)}(this._delegate,(t=>e(new $C(this,t))))}batch(){return wk(this._delegate),new ZC(new jC(this._delegate,(e=>FC(this._delegate,e))))}loadBundle(e){return function(e,t){const n=wk(e=ik(e,bk)),r=new yk;return XT(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return kk(this._delegate,e).then((e=>e?new ox(this,e):null))}}class JC extends IC{constructor(e){super(),this.firestore=e}convertBytes(e){return new HC(new xk(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return tx.forKey(t,this.firestore,null)}}class $C{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new JC(e)}get(e){const t=dx(e);return this._delegate.get(t).then((e=>new sx(this._firestore,new kC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=dx(e);return n?(KC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=dx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=dx(e);return this._delegate.delete(t),this}}class ZC{constructor(e){this._delegate=e}set(e,t,n){const r=dx(e);return n?(KC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=dx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=dx(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ex{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new CC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ax(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=ex.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new ex(e,new JC(e),t),r.set(t,i)),i}}ex.INSTANCES=new WeakMap;class tx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JC(e)}static forPath(e,t,n){if(e.length%2!==0)throw new gg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new tx(t,new lk(t._delegate,n,new qg(e)))}static forKey(e,t,n){return new tx(t,new lk(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new cx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cx(this.firestore,hk(this._delegate,e))}catch(Px){throw nx(Px,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ji(e))instanceof lk&&pk(this._delegate,e)}set(e,t){t=KC("DocumentReference.set",t);try{return t?OC(this._delegate,e,t):OC(this._delegate,e)}catch(Px){throw nx(Px,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?MC(this._delegate,e):MC(this._delegate,e,t,...r)}catch(Px){throw nx(Px,"updateDoc()","DocumentReference.update()")}}delete(){return FC(ik((e=this._delegate).firestore,bk),[new yw(e._key,sw.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=rx(t),i=ix(t,(e=>new sx(this.firestore,new kC(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return LC(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?PC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ik(e,lk);const t=ik(e.firestore,bk);return QT(wk(t),e._key,{source:"server"}).then((n=>UC(t,e,n)))}(this._delegate):function(e){e=ik(e,lk);const t=ik(e.firestore,bk);return QT(wk(t),e._key).then((n=>UC(t,e,n)))}(this._delegate),t.then((e=>new sx(this.firestore,new kC(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new tx(this.firestore,e?this._delegate.withConverter(ex.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nx(e,t,n){return e.message=e.message.replace(t,n),e}function rx(e){for(const t of e)if("object"===typeof t&&!QC(t))return t;return{}}function ix(e,t){var n,r;let i;return i=QC(e[0])?e[0]:QC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class sx{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new tx(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AC(this._delegate,e._delegate)}}class ax extends sx{data(e){const t=this._delegate.data(e);return void 0!==t||hg(),t}}class ox{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new JC(e)}where(e,t,n){try{return new ox(this.firestore,cC(this._delegate,function(e,t,n){const r=t,i=aC("where",e);return dC._create(i,r,n)}(e,t,n)))}catch(Px){throw nx(Px,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ox(this.firestore,cC(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aC("orderBy",e);return fC._create(n,t)}(e,t)))}catch(Px){throw nx(Px,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ox(this.firestore,cC(this._delegate,(sk("limit",t=e),pC._create("limit",t,"F"))))}catch(Px){throw nx(Px,"limit()","Query.limit()")}var t}limitToLast(e){try{return new ox(this.firestore,cC(this._delegate,(sk("limitToLast",t=e),pC._create("limitToLast",t,"L"))))}catch(Px){throw nx(Px,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new ox(this.firestore,cC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mC._create("startAt",t,!0)}(...arguments)))}catch(Px){throw nx(Px,"startAt()","Query.startAt()")}}startAfter(){try{return new ox(this.firestore,cC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mC._create("startAfter",t,!1)}(...arguments)))}catch(Px){throw nx(Px,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ox(this.firestore,cC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gC._create("endBefore",t,!1)}(...arguments)))}catch(Px){throw nx(Px,"endBefore()","Query.endBefore()")}}endAt(){try{return new ox(this.firestore,cC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gC._create("endAt",t,!0)}(...arguments)))}catch(Px){throw nx(Px,"endAt()","Query.endAt()")}}isEqual(e){return mk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?RC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=ik(e,ck);const t=ik(e.firestore,bk),n=wk(t),r=new DC(t);return YT(n,e._query,{source:"server"}).then((n=>new xC(t,r,e,n)))}(this._delegate):function(e){e=ik(e,ck);const t=ik(e.firestore,bk),n=wk(t),r=new DC(t);return oC(e._query),YT(n,e._query).then((n=>new xC(t,r,e,n)))}(this._delegate),t.then((e=>new lx(this.firestore,new xC(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=rx(t),i=ix(t,(e=>new lx(this.firestore,new xC(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return LC(this._delegate,r,i)}withConverter(e){return new ox(this.firestore,e?this._delegate.withConverter(ex.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ux{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ax(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class lx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ox(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new ax(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new ux(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new ax(this._firestore,n))}))}isEqual(e){return AC(this._delegate,e._delegate)}}class cx extends ox{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new tx(this.firestore,e):null}doc(e){try{return new tx(this.firestore,void 0===e?fk(this._delegate):fk(this._delegate,e))}catch(Px){throw nx(Px,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=ik(e.firestore,bk),r=fk(e),i=SC(e.converter,t);return FC(n,[Uk(Fk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,sw.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new tx(this.firestore,e)))}isEqual(e){return pk(this._delegate,e._delegate)}withConverter(e){return new cx(this.firestore,e?this._delegate.withConverter(ex.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function dx(e){return ik(e,lk)}class hx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Nk(...t)}static documentId(){return new hx(Lg.keyField().canonicalString())}isEqual(e){return(e=Ji(e))instanceof Nk&&this._delegate._internalPath.isEqual(e._internalPath)}}class fx{constructor(e){this._delegate=e}static serverTimestamp(){const e=new zk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new fx(e)}static delete(){const e=new Vk("deleteField");return e._methodName="FieldValue.delete",new fx(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Bk("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new fx(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kk("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new fx(e)}static increment(e){const t=new Gk("increment",e);return t._methodName="FieldValue.increment",new fx(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const px={Firestore:XC,GeoPoint:Dk,Timestamp:Dg,Blob:HC,Transaction:$C,WriteBatch:ZC,DocumentReference:tx,DocumentSnapshot:sx,Query:ox,QueryDocumentSnapshot:ax,QuerySnapshot:lx,CollectionReference:cx,FieldPath:hx,FieldValue:fx,setLogLevel:function(e){var t;t=e,ag.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new $i("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},px)))}(e,((e,t)=>new XC(e,t,new YC))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(La);var mx=function(){return mx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mx.apply(this,arguments)};var gx=function(e){return{loading:void 0===e||null===e,value:e}},vx=function(e){var t=e?e():void 0,n=(0,a.useReducer)((function(e,t){switch(t.type){case"error":return mx({},e,{error:t.error,loading:!1,value:void 0});case"reset":return gx(t.defaultValue);case"value":return mx({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),gx(t)),r=n[0],i=n[1],s=function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})},o=function(e){i({type:"error",error:e})},u=function(e){i({type:"value",value:e})};return(0,a.useMemo)((function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:u,value:r.value}}),[r.error,r.loading,s,o,u,r.value])},yx=function(e){var t=vx((function(){return e.currentUser})),n=t.error,r=t.loading,i=t.setError,s=t.setValue,o=t.value;(0,a.useEffect)((function(){var t=e.onAuthStateChanged(s,i);return function(){t()}}),[e]);var u=[o,r,n];return(0,a.useMemo)((function(){return u}),u)};const bx=La.initializeApp({apiKey:"AIzaSyDiQohmQoqWuSVwz0b33VQ-c5vCoyNJVPc",authDomain:"react-test-b3315.firebaseapp.com",projectId:"react-test-b3315",databaseURL:"https://react-test-b3315-default-rtdb.firebaseio.com",storageBucket:"react-test-b3315.appspot.com",messagingSenderId:"103930812840",appId:"1:103930812840:web:942459fd41f571307f659d",measurementId:"G-1PS4FYX20E"}),wx=(bx.firestore(),bx.auth());wx.onAuthStateChanged((e=>{e&&W("/")}));const _x=new La.auth.GoogleAuthProvider,Ix=()=>{const[e]=yx(wx);return(0,pi.jsx)(pi.Fragment,{children:e?(0,pi.jsx)("p",{children:"You are logged in..."}):(0,pi.jsx)("button",{onClick:e=>{e.preventDefault(),wx.signInWithPopup(_x).then((()=>{W("/")})).catch((e=>alert(e.message)))},children:"Sign In With Google"})})};const Sx=n.p+"static/media/logo.6ce24c58023cc2f8fd88fe9d219db6c6.svg";function Ex(){const[e,t]=yx(wx);return(0,pi.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-3",children:(0,pi.jsx)("div",{className:"container-fluid",children:(0,pi.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[(0,pi.jsx)("a",{className:"navbar-brand",href:"/",children:(0,pi.jsx)("img",{src:Sx,alt:"brand",width:"30",height:"21"})}),(0,pi.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,pi.jsx)("li",{className:"nav-item",children:(0,pi.jsx)(Ut,{className:"nav-link",to:"/",children:"Home"})}),(0,pi.jsx)("li",{className:"nav-item",children:(0,pi.jsx)(Ut,{className:"nav-link",to:"/authors",children:"Authors"})}),e?(0,pi.jsx)("li",{className:"nav-item",children:(0,pi.jsx)("button",{className:"nav-link",onClick:()=>{wx.signOut()},children:"Logout"})}):(0,pi.jsx)("li",{className:"nav-item",children:(0,pi.jsx)(Ut,{className:"nav-link",to:"/login",children:"Login"})})]})]})})})}function Tx(){return(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h1",{children:"About"}),(0,pi.jsx)("p",{children:"This is the about page, nothing to see here yet..."})]})}function kx(){return(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h1",{children:"Contact"}),(0,pi.jsx)("p",{children:"This is the contact page, nothing to see here yet..."})]})}function Cx(){return(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h1",{children:"Sitemap"}),(0,pi.jsx)("p",{children:"This is the sitemap page, nothing to see here yet..."})]})}function xx(){return(0,pi.jsxs)(pi.Fragment,{children:[(0,pi.jsx)("h1",{children:"FAQ"}),(0,pi.jsx)("p",{children:"This is the FAQ page, nothing to see here yet..."})]})}const Nx=[{path:"about",element:(0,pi.jsx)(Tx,{})},{path:"sitemap",element:(0,pi.jsx)(Cx,{})},{path:"contact",element:(0,pi.jsx)(kx,{})},{path:"faq",element:(0,pi.jsx)(xx,{})},{path:"login",element:(0,pi.jsx)(Ix,{})},{path:"authors/page?/:page?",element:(0,pi.jsx)(mi,{})},{path:"blog/:id",element:(0,pi.jsx)(_i,{})}],Ax=function(e,t){return oe({basename:null==t?void 0:t.basename,future:Et({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),y((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=v(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))}),(function(e,t){f("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)),hydrationData:(null==t?void 0:t.hydrationData)||Ct(),routes:e,mapRouteProperties:St,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==t?void 0:t.unstable_patchRoutesOnMiss,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",Component(){const e=di(),t=tn(ci);(0,a.useEffect)((()=>{0===t&&fi.getAll(1e3,1).then((t=>{e(oi(t.length))}))}),[e,t]);let n=yt(gt.UseNavigation).navigation;return(0,pi.jsx)(pi.Fragment,{children:"idle"!==n.state?(0,pi.jsx)("div",{className:"is-loading",children:"Loading..."}):(0,pi.jsxs)("div",{className:"container",children:[(0,pi.jsx)(Ex,{}),(0,pi.jsx)(_t,{}),(0,pi.jsx)(Ii,{})]})})},children:[{index:!0,element:(0,pi.jsx)(yi,{})},...Nx,{path:"author/:id",Component(){let e=ot();return(0,pi.jsx)(pi.Fragment,{children:(0,pi.jsx)(yi,{author:e.id})})}}]}]),Dx=document.getElementById("root");zt.H(Dx).render((0,pi.jsx)(a.StrictMode,{children:(0,pi.jsx)(ln,{store:ti,children:(0,pi.jsx)(Mt,{router:Ax})})})),i()})();
//# sourceMappingURL=main.91feb54a.js.map