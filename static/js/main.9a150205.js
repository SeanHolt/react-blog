/*! For license information please see main.9a150205.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),I=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,q=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(jd){var r=jd}Reflect.construct(e,[],t)}else{try{t.call()}catch(jd){r=jd}e.call(t.prototype)}else{try{throw Error()}catch(jd){r=jd}e()}}catch(jd){if(jd&&r&&"string"===typeof jd.stack){for(var i=jd.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function j(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case I:return"Portal";case T:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(ig){return e.body}}function Y(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function se(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Se=null,Ee=null;function Te(e){if(e=bi(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ie(e.stateNode,e.type,t))}}function ke(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ne(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Re=!1}function Me(e,t,n,r,i,s,a,o,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,qe=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,qe=e}};function je(e,t,n,r,i,s,a,o,u){Le=!1,qe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=a;break}if(u===r){o=!0,r=i,n=a;break}u=u.sibling}if(!o){for(u=a.child;u;){if(u===n){o=!0,n=a,r=i;break}if(u===r){o=!0,r=a,n=i;break}u=u.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ut|0)|0},ot=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,It,St,Et,Tt,kt=!1,Ct=[],xt=null,Nt=null,At=null,Dt=new Map,Pt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&It(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function qt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&It(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&Ft(xt)&&(xt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Ut),Pt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&jt(xt,e),null!==Nt&&jt(Nt,e),null!==At&&jt(At,e),Dt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)qt(n),null===n.blockedOn&&Rt.shift()}var Bt=w.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Wt(e,t,n,r){var i=bt,s=Bt.transition;Bt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,Bt.transition=s}}function Ht(e,t,n,r){if(Kt){var i=Yt(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Lt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Lt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Lt(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Kr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(ln),dn=q({},ln,{view:0,detail:0}),hn=sn(dn),fn=q({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,on=e.screenY-un.screenY):on=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(q({},fn,{dataTransfer:0})),gn=sn(q({},dn,{relatedTarget:0})),vn=sn(q({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=q({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(q({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return En}var kn=q({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),xn=sn(q({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(q({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(q({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=q({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Dn),Rn=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Ln=c&&"TextEvent"in window&&!Mn,qn=c&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Gn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function Qn(e){Fr(e,0)}function Yn(e){if(H(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(c){var $n;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Gn(t,Hn,e,_e(e)),De(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ir={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Sr={},Er={};function Tr(e){if(Sr[e])return Sr[e];if(!Ir[e])return e;var t,n=Ir[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Or=Dr[Rr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(kr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(xr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,u,l){if(je.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=qe;Le=!1,qe=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,l=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;qr(i,o,l),s=u}else for(a=0;a<r.length;a++){if(u=(o=r[a]).instance,l=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;qr(i,o,l),s=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(u=a.tag)||6===u){r=s=a;continue e}o=o.parentNode}}r=r.return}De((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case kr:case Cr:case xr:u=vn;break;case Nr:u=An;break;case"scroll":u=hn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=xn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&c.push(Gr(p,m,f)))),d)break;p=p.return}0<c.length&&(o=new u(o,l,null,n,i),a.push({event:o,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(d=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=xn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==u?o:wi(u),f=null==l?o:wi(l),(o=new c(m,p+"leave",u,n,i)).target=d,o.relatedTarget=f,m=null,yi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=f,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(h=l,p=0,f=c=u;f;f=Hr(f))p++;for(f=0,m=h;m;m=Hr(m))f++;for(;0<p-f;)c=Hr(c),p--;for(;0<f-p;)h=Hr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Hr(c),h=Hr(h)}c=null}else c=null;null!==u&&Qr(a,o,u,c,!1),null!==l&&null!==d&&Qr(a,d,l,c,!0)}if("select"===(u=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===u&&"file"===o.type)var g=Xn;else if(Kn(o))if(Jn)g=ar;else{g=ir;var v=rr}else(u=o.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(v=Wr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=jn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Jt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Pe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,u=o.alternate,l=o.stateNode;if(null!==u&&u===r)break;5===o.tag&&null!==l&&(o=l,i?null!=(u=Pe(n,s))&&a.unshift(Gr(n,u,o)):i||null!=(u=Pe(n,s))&&a.push(Gr(n,u,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ii=[],Si=-1;function Ei(e){return{current:e}}function Ti(e){0>Si||(e.current=Ii[Si],Ii[Si]=null,Si--)}function ki(e,t){Si++,Ii[Si]=e.current,e.current=t}var Ci={},xi=Ei(Ci),Ni=Ei(!1),Ai=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ti(Ni),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));ki(xi,t),ki(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,B(e)||"Unknown",i));return q({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function qi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),ki(xi,e)):Ti(Ni),ki(Ni,n)}var Fi=null,Ui=!1,Vi=!1;function ji(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,zi),i}finally{bt=t,Vi=!1}}return null}var Bi=[],Ki=0,Gi=null,Wi=0,Hi=[],Qi=0,Yi=null,Xi=1,Ji="";function $i(e,t){Bi[Ki++]=Wi,Bi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Xi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Gi;)Gi=Bi[--Ki],Bi[Ki]=null,Wi=Bi[--Ki],Bi[Ki]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Ji=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Dl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function us(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(us(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(us(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(us(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=li(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=ql(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=ql(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case I:return(t=Fl(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Ml(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case I:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,u){for(var l=null,c=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===c?l=v:c.sibling=v,c=v,d=g}if(m===o.length)return n(i,d),is&&$i(i,m),l;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],u))&&(s=a(d,s,m),null===c?l=d:c.sibling=d,c=d);return is&&$i(i,m),l}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===c?l=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),is&&$i(i,m),l}function g(i,o,u,l){var c=M(u);if("function"!==typeof c)throw Error(s(150));if(null==(u=c.call(u)))throw Error(s(151));for(var d=c=null,m=o,g=o=0,v=null,y=u.next();null!==m&&!y.done;g++,y=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,l);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),is&&$i(i,g),c;if(null===m){for(;!y.done;g++,y=u.next())null!==(y=h(i,y.value,l))&&(o=a(y,o,g),null===d?c=y:d.sibling=y,d=y);return is&&$i(i,g),c}for(m=r(i,m);!y.done;g++,y=u.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),c}return function e(r,s,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var l=a.key,c=s;null!==c;){if(c.key===l){if((l=a.type)===S){if(7===c.tag){n(r,c.sibling),(s=i(c,a.props.children)).return=r,r=s;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&ys(l)===c.type){n(r,c.sibling),(s=i(c,a.props)).ref=gs(r,c,a),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===S?((s=Ml(a.props.children,r.mode,u,a.key)).return=r,r=s):((u=Ol(a.type,a.key,a.props,null,r.mode,u)).ref=gs(r,s,a),u.return=r,r=u)}return o(r);case I:e:{for(c=a.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fl(a,r.mode,u)).return=r,r=s}return o(r);case P:return e(r,s,(c=a._init)(a._payload),u)}if(te(a))return m(r,s,a,u);if(M(a))return g(r,s,a,u);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=ql(a,r.mode,u)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Is=Ei(null),Ss=null,Es=null,Ts=null;function ks(){Ts=Es=Ss=null}function Cs(e){var t=Is.current;Ti(Is),e._currentValue=t}function xs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t){Ss=e,Ts=Es=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ts!==e)if(e={context:e,memoizedValue:t,next:null},null===Es){if(null===Ss)throw Error(s(308));Es=e,Ss.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Ds=null;function Ps(e){null===Ds?Ds=[e]:Ds.push(e)}function Rs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ms=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&xu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Vs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var u=o,l=u.next;u.next=null,null===a?s=l:a.next=l,a=u;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=l:o.next=l,c.lastBaseUpdate=u))}if(null!==s){var d=i.baseState;for(a=0,c=l=u=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=q({},d,h);break e;case 2:Ms=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(l=c=f,u=d):c=c.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=d),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Lu|=a,e.lanes=a,e.memoizedState=d}}function Bs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ks={},Gs=Ei(Ks),Ws=Ei(Ks),Hs=Ei(Ks);function Qs(e){if(e===Ks)throw Error(s(174));return e}function Ys(e,t){switch(ki(Hs,t),ki(Ws,e),ki(Gs,Ks),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Gs),ki(Gs,t)}function Xs(){Ti(Gs),Ti(Ws),Ti(Hs)}function Js(e){Qs(Hs.current);var t=Qs(Gs.current),n=ue(t,e.type);t!==n&&(ki(Ws,e),ki(Gs,n))}function $s(e){Ws.current===e&&(Ti(Gs),Ti(Ws))}var Zs=Ei(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,ua=null,la=!1,ca=!1,da=0,ha=0;function fa(){throw Error(s(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?$a:Za,e=n(r,i),ca){a=0;do{if(ca=!1,da=0,25<=a)throw Error(s(301));a+=1,ua=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ca)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,ua=oa=aa=null,la=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?aa.memoizedState=ua=e:ua=ua.next=e,ua}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===ua?aa.memoizedState:ua.next;if(null!==t)ua=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===ua?aa.memoizedState=ua=e:ua=ua.next=e}return ua}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=o=null,l=null,c=a;do{var d=c.lane;if((sa&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,o=r):l=l.next=h,aa.lanes|=d,Lu|=d}c=c.next}while(null!==c&&c!==a);null===l?o=r:l.next=u,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Lu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Sa(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,Ma(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Aa(9,Ta.bind(null,n,r,i,t),void 0,null),null===Nu)throw Error(s(349));0!==(30&sa)||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&xa(e)}function ka(e,t,n){return n((function(){Ca(t)&&xa(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function xa(e){var t=Os(e,1);null!==t&&nl(t,e,1,-1)}function Na(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ha.bind(null,aa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Da(){return ya().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&pa(r,a.deps))return void(i.memoizedState=Aa(t,n,s,r))}aa.flags|=e,i.memoizedState=Aa(1|t,n,s,r)}function Oa(e,t){return Pa(8390656,8,e,t)}function Ma(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function qa(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Va(){}function ja(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ba(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Lu|=n,e.baseState=!0),t)}function Ka(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function Ga(){return ya().memoizedState}function Wa(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Rs(e,t,n,r))){nl(n,e,r,el()),Xa(n,t,r)}}function Ha(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var u=t.interleaved;return null===u?(i.next=i,Ps(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(jd){}null!==(n=Rs(e,t,i,r))&&(nl(n,e,r,i=el()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ca=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:As,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},$a={readContext:As,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Ka.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Nu)throw Error(s(349));0!==(30&sa)||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(ka.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Nu.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:As,useCallback:ja,useContext:As,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:qa,useMemo:za,useReducer:wa,useRef:Da,useState:function(){return wa(ba)},useDebugValue:Va,useDeferredValue:function(e){return Ba(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1},eo={readContext:As,useCallback:ja,useContext:As,useEffect:Ma,useImperativeHandle:Ua,useInsertionEffect:La,useLayoutEffect:qa,useMemo:za,useReducer:_a,useRef:Da,useState:function(){return _a(ba)},useDebugValue:Va,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Ba(t,oa.memoizedState,e)},useTransition:function(){return[_a(ba)[0],ya().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Sa,useId:Ga,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nl(t,e,i,r),Vs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nl(t,e,i,r),Vs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nl(t,e,r,n),Vs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(i=Pi(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ls(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=As(s):(s=Pi(t)?Ai:xi.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function uo(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Gu=r),co(0,t)},n}function po(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=w.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var s=t.ref;return Ns(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||bo?(is&&n&&es(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ko(e,t,i)}return t.flags|=1,(e=Rl(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(ur(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ko(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Ru,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Ru,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Ru,Pu),Pu|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Ru,Pu),Pu|=r;return wo(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,i){var s=Pi(n)?Ai:xi.current;return s=Di(t,s),Ns(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||bo?(is&&r&&es(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ko(e,t,i))}function Co(e,t,n,r,i){if(Pi(n)){var s=!0;Li(t)}else s=!1;if(Ns(t,i),null===t.stateNode)Bo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=As(l):l=Di(t,l=Pi(n)?Ai:xi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||u!==l)&&ao(t,a,r,l),Ms=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),u=t.memoizedState,o!==r||h!==u||Ni.current||Ms?("function"===typeof c&&(no(t,n,c,r),u=t.memoizedState),(o=Ms||io(t,n,o,r,h,u,l))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qs(e,t),o=t.memoizedProps,l=t.type===t.elementType?o:to(t.type,o),a.props=l,d=t.pendingProps,h=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=As(u):u=Di(t,u=Pi(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==u)&&ao(t,a,r,u),Ms=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Ni.current||Ms?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(l=Ms||io(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return xo(e,t,n,r,s,i)}function xo(e,t,n,r,i,s){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&qi(t,n,!1),Ko(e,t,s);r=t.stateNode,yo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,i&&qi(t,n,!0),t.child}function No(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ys(e,t.containerInfo)}function Ao(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wo(e,t,n,r),t.child}var Do,Po,Ro,Oo,Mo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function qo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(Zs,1&a),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,o?(i=t.mode,o=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=u):o=Ll(u,i,0,null),e=Ml(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Mo,e):Fo(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=lo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ll({mode:"visible",children:r.children},i,0,null),(a=Ml(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Mo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Uo(e,t,o,r=lo(a=Error(s(419)),r,void 0))}if(u=0!==(o&e.childLanes),bo||u){if(null!==(r=Nu)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),nl(r,e,i,-1))}return ml(),Uo(e,t,o,r=lo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cl.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=Ji,Hi[Qi++]=Yi,Xi=e.id,Ji=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(o){o=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Rl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rl(r,o):(o=Ml(o,u,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,u=null===(u=e.child.memoizedState)?Lo(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Mo,i}return e=(o=e.child).sibling,i=Rl(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xs(e.return,t,n)}function jo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jo(t,!0,n,null,s);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Rl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ho(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,Xs(),Ti(Ni),Ti(xi),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Po(e,t),Wo(t),null;case 5:$s(t);var i=Qs(Hs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=Qs(Gs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):o.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=q({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Hs.current),Qs(Gs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ti(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(al(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ou&&(Ou=3):ml())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Xs(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Cs(t.type._context),Wo(t),null;case 19:if(Ti(Zs),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Go(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ea(e))){for(t.flags|=128,Go(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>zu&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!is)return Wo(t),null}else 2*Je()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,ki(Zs,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ti(Ni),Ti(xi),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Ti(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(Zs),null;case 4:return Xs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Gs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=q({},i,{value:void 0}),r=q({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){El(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&eu(t,n,s)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function su(e){var t=e.alternate;null!==t&&(e.alternate=null,su(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function ou(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,du=!1;function hu(e,t,n){for(n=n.child;null!==n;)fu(e,t,n),n=n.sibling}function fu(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=cu,i=du;cu=null,hu(e,t,n),du=i,null!==(cu=r)&&(du?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(du?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=du,cu=n.stateNode.containerInfo,du=!0,hu(e,t,n),cu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&eu(n,t,a),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){El(n,t,o)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hu(e,t,n),Xo=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,u=o;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,du=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===cu)throw Error(s(160));fu(a,o,i),cu=null,du=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(jd){El(i,t,jd)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),vu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){El(e,e.return,g)}try{nu(5,e,e.return)}catch(g){El(e,e.return,g)}}break;case 1:mu(t,e),vu(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(mu(t,e),vu(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){El(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&J(i,a),be(u,o);var c=be(u,a);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,c)}switch(u){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){El(e,e.return,g)}}break;case 6:if(mu(t,e),vu(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){El(e,e.return,g)}}break;case 3:if(mu(t,e),vu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){El(e,e.return,g)}break;case 4:default:mu(t,e),vu(e);break;case 13:mu(t,e),vu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ju=Je())),4&r&&pu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(c=Xo)||d,mu(t,e),Xo=c):mu(t,e),vu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:nu(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){El(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_u(h);continue}}null!==p?(p.return=f,$o=p):_u(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=h.stateNode,o=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",o))}catch(g){El(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){El(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),vu(e),4&r&&pu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),lu(e,ou(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,ou(e),a);break;default:throw Error(s(161))}}catch(qd){El(e,e.return,qd)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){$o=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,u=null!==o&&null!==o.memoizedState||Xo;o=Yo;var l=Xo;if(Yo=a,(Xo=u)&&!l)for($o=i;null!==$o;)u=(a=$o).child,22===a.tag&&null!==a.memoizedState?Iu(i):null!==u?(u.return=a,$o=u):Iu(i);for(;null!==s;)$o=s,bu(s,t,n),s=s.sibling;$o=i,Yo=o,Xo=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):wu(e)}}function wu(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bs(t,o,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&iu(t)}catch(Xd){El(t,t.return,Xd)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function _u(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Iu(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(qd){El(t,n,qd)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(qd){El(t,i,qd)}}var s=t.return;try{iu(t)}catch(qd){El(t,s,qd)}break;case 5:var a=t.return;try{iu(t)}catch(qd){El(t,a,qd)}}}catch(qd){El(t,t.return,qd)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Su,Eu=Math.ceil,Tu=w.ReactCurrentDispatcher,ku=w.ReactCurrentOwner,Cu=w.ReactCurrentBatchConfig,xu=0,Nu=null,Au=null,Du=0,Pu=0,Ru=Ei(0),Ou=0,Mu=null,Lu=0,qu=0,Fu=0,Uu=null,Vu=null,ju=0,zu=1/0,Bu=null,Ku=!1,Gu=null,Wu=null,Hu=!1,Qu=null,Yu=0,Xu=0,Ju=null,$u=-1,Zu=0;function el(){return 0!==(6&xu)?Je():-1!==$u?$u:$u=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&xu)&&0!==Du?Du&-Du:null!==ms.transition?(0===Zu&&(Zu=mt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(s(185));vt(e,n,r),0!==(2&xu)&&e===Nu||(e===Nu&&(0===(2&xu)&&(qu|=n),4===Ou&&ol(e,Du)),rl(e,r),1===n&&0===xu&&0===(1&t.mode)&&(zu=Je()+500,Ui&&zi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,u=i[a];-1===u?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Nu?Du:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(ul.bind(null,e)):ji(ul.bind(null,e)),ai((function(){0===(6&xu)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if($u=-1,Zu=0,0!==(6&xu))throw Error(s(327));var n=e.callbackNode;if(Il()&&e.callbackNode!==n)return null;var r=ht(e,e===Nu?Du:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=xu;xu|=2;var a=pl();for(Nu===e&&Du===t||(Bu=null,zu=Je()+500,hl(e,t));;)try{yl();break}catch(u){fl(e,u)}ks(),Tu.current=a,xu=i,null!==Au?t=0:(Nu=null,Du=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=sl(e,i))),1===t)throw n=Mu,hl(e,0),ol(e,r),rl(e,Je()),n;if(6===t)ol(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=sl(e,a))),1===t))throw n=Mu,hl(e,0),ol(e,r),rl(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_l(e,Vu,Bu);break;case 3:if(ol(e,r),(130023424&r)===r&&10<(t=ju+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_l.bind(null,e,Vu,Bu),t);break}_l(e,Vu,Bu);break;case 4:if(ol(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(_l.bind(null,e,Vu,Bu),r);break}_l(e,Vu,Bu);break;default:throw Error(s(329))}}}return rl(e,Je()),e.callbackNode===n?il.bind(null,e):null}function sl(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Vu,Vu=n,null!==t&&al(t)),e}function al(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function ol(e,t){for(t&=~Fu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&xu))throw Error(s(327));Il();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=sl(e,r))}if(1===n)throw n=Mu,hl(e,0),ol(e,t),rl(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_l(e,Vu,Bu),rl(e,Je()),null}function ll(e,t){var n=xu;xu|=1;try{return e(t)}finally{0===(xu=n)&&(zu=Je()+500,Ui&&zi())}}function cl(e){null!==Qu&&0===Qu.tag&&0===(6&xu)&&Il();var t=xu;xu|=1;var n=Cu.transition,r=bt;try{if(Cu.transition=null,bt=1,e)return e()}finally{bt=r,Cu.transition=n,0===(6&(xu=t))&&zi()}}function dl(){Pu=Ru.current,Ti(Ru)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Xs(),Ti(Ni),Ti(xi),na();break;case 5:$s(r);break;case 4:Xs();break;case 13:case 19:Ti(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Nu=e,Au=e=Rl(e.current,null),Du=Pu=t,Ou=0,Mu=null,Fu=qu=Lu=0,Vu=Uu=null,null!==Ds){for(t=0;t<Ds.length;t++)if(null!==(r=(n=Ds[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ds=null}return e}function fl(e,t){for(;;){var n=Au;try{if(ks(),ra.current=Ja,la){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(sa=0,ua=oa=aa=null,ca=!1,da=0,ku.current=null,null===n||null===n.return){Ou=1,Mu=t,Au=null;break}e:{var a=e,o=n.return,u=n,l=t;if(t=Du,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,u,0,t),1&p.mode&&mo(a,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){mo(a,c,t),ml();break e}l=Error(s(426))}else if(is&&1&u.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,u,0,t),ps(uo(l,u));break e}}a=l=uo(l,u),4!==Ou&&(Ou=2),null===Uu?Uu=[a]:Uu.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,js(a,fo(0,l,t));break e;case 1:u=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,js(a,po(a,u,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(eh){t=eh,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function pl(){var e=Tu.current;return Tu.current=Ja,null===e?Ja:e}function ml(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Nu||0===(268435455&Lu)&&0===(268435455&qu)||ol(Nu,Du)}function gl(e,t){var n=xu;xu|=2;var r=pl();for(Nu===e&&Du===t||(Bu=null,hl(e,t));;)try{vl();break}catch(i){fl(e,i)}if(ks(),xu=n,Tu.current=r,null!==Au)throw Error(s(261));return Nu=null,Du=0,Ou}function vl(){for(;null!==Au;)bl(Au)}function yl(){for(;null!==Au&&!Ye();)bl(Au)}function bl(e){var t=Su(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?wl(e):Au=t,ku.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ho(n,t,Pu)))return void(Au=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Ou=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Ou&&(Ou=5)}function _l(e,t,n){var r=bt,i=Cu.transition;try{Cu.transition=null,bt=1,function(e,t,n,r){do{Il()}while(null!==Qu);if(0!==(6&xu))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Nu&&(Au=Nu=null,Du=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hu||(Hu=!0,Nl(tt,(function(){return Il(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cu.transition,Cu.transition=null;var o=bt;bt=1;var u=xu;xu|=4,ku.current=null,function(e,t){if(ei=Kt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(Ef){n=null;break e}var o=0,u=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=o+i),h!==a||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(u=o),f===a&&++d===r&&(l=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(Ef){El(t,t.return,Ef)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=tu,tu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Xe(),xu=u,bt=o,Cu.transition=a}else e.current=n;if(Hu&&(Hu=!1,Qu=e,Yu=i),a=e.pendingLanes,0===a&&(Wu=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Gu,Gu=null,e;0!==(1&Yu)&&0!==e.tag&&Il(),a=e.pendingLanes,0!==(1&a)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Cu.transition=i,bt=r}return null}function Il(){if(null!==Qu){var e=wt(Yu),t=Cu.transition,n=bt;try{if(Cu.transition=null,bt=16>e?16:e,null===Qu)var r=!1;else{if(e=Qu,Qu=null,Yu=0,0!==(6&xu))throw Error(s(331));var i=xu;for(xu|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($o=c;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:nu(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(su(d),d===c){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var w=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,$o=w;else e:for(o=b;null!==$o;){if(0!==(2048&(u=$o).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(eh){El(u,u.return,eh)}if(u===o){$o=null;break e}var _=u.sibling;if(null!==_){_.return=u.return,$o=_;break e}$o=u.return}}if(xu=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(eh){}r=!0}return r}finally{bt=n,Cu.transition=t}}return!1}function Sl(e,t,n){e=Us(e,t=fo(0,t=uo(n,t),1),1),t=el(),null!==e&&(vt(e,1,t),rl(e,t))}function El(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Us(t,e=po(t,e=uo(n,e),1),1),e=el(),null!==t&&(vt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Du&n)===n&&(4===Ou||3===Ou&&(130023424&Du)===Du&&500>Je()-ju?hl(e,0):Fu|=n),rl(e,t)}function kl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Os(e,t))&&(vt(e,t,n),rl(e,n))}function Cl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function xl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kl(e,n)}function Nl(e,t){return He(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dl(e,t,n,r){return new Al(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rl(e,t){var n=e.alternate;return null===n?((n=Dl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pl(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Ml(n.children,i,a,t);case E:o=8,i|=8;break;case T:return(e=Dl(12,n,t,2|i)).elementType=T,e.lanes=a,e;case N:return(e=Dl(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Dl(19,n,t,i)).elementType=A,e.lanes=a,e;case R:return Ll(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:o=10;break e;case C:o=9;break e;case x:o=11;break e;case D:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dl(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Ml(e,t,n,r){return(e=Dl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Dl(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function ql(e,t,n){return(e=Dl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Dl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,i,s,a,o,u){return e=new Ul(e,t,n,o,u),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function jl(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function zl(e,t,n,r,i,s,a,o,u){return(e=Vl(n,r,!0,e,0,s,0,o,u)).context=jl(null),n=e.current,(s=Fs(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rl(e,r),e}function Bl(e,t,n,r){var i=t.current,s=el(),a=tl(i);return n=jl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nl(e,i,a,s),Vs(e,i,a)),a}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:No(t),fs();break;case 5:Js(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Is,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?qo(e,t,n):(ki(Zs,1&Zs.current),null!==(e=Ko(e,t,n))?e.sibling:null);ki(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Ko(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=Di(t,xi.current);Ns(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=xo(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===D)return 14}return 2}(r),e=to(r,e),i){case 0:t=ko(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=Io(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(No(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,qs(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ao(e,t,r,n,i=uo(Error(s(423)),t));break e}if(r!==i){t=Ao(e,t,r,n,i=uo(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ko(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&ls(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),To(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ls(t),null;case 13:return qo(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,ki(Is,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ni.current){t=Ko(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){o=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Fs(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xs(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),xs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ns(t,n),r=r(i=As(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),Io(e,t,r,i=to(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Bo(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Ns(t,n),so(t,r,i),oo(t,r,i,n),xo(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Hl="function"===typeof reportError?reportError:function(e){console.error(e)};function Ql(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $l(){}function Zl(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Kl(a);o.call(e)}}Bl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(a);s.call(e)}}var a=zl(t,r,e,0,null,!1,0,"",$l);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Kl(u);o.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",$l);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),cl((function(){Bl(t,u,n,r)})),u}(n,t,e,i,r);return Kl(a)}Yl.prototype.render=Ql.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Bl(e,t,null,null)},Yl.prototype.unmount=Ql.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Bl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&qt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Je()),0===(6&xu)&&(zu=Je()+500,zi()))}break;case 13:cl((function(){var t=Os(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},It=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},St=function(e){if(13===e.tag){var t=tl(e),n=Os(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},Et=function(){return bt},Tt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ie=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));H(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ll,Ne=cl;var ec={usingClientEntryPoint:!1,Events:[bi,wi,_i,ke,Ce,ll]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:I,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(s(299));var n=!1,r="",i=Hl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Ql(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(s(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Hl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zl(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(s(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(s(40));return!!e._reactRootContainer&&(cl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.H=r.createRoot,r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:s,_owner:o.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,I=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,i)&&!E.hasOwnProperty(i)&&(s[i]=t[i]);var u=arguments.length-2;if(1===u)s.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===s[i]&&(s[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var u=!1;if(null===e)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===s?"."+x(u,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(u=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var c=s+x(o=e[l],l);u+=N(o,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(o=e.next()).done;)u+=N(o=o.value,t,i,c=s+x(o,l++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)I.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,u=e[o],l=o+1,c=e[l];if(0>s(u,n))l<i&&0>s(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[o]=n,r=o);else{if(!(l<i&&0>s(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(l))m=!0,R(I);else{var t=r(c);null!==t&&O(_,t.startTime-e)}}function I(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(w(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(l)&&i(l),w(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var d=r(c);null!==d&&O(_,d.startTime-n),u=!1}return u}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,P=D.port2;D.port1.onmessage=A,S=function(){P.postMessage(null)}}else S=function(){v(A,0)};function R(e){T=e,E||(E=!0,S())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(I))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(c,e),null===r(l)&&e===r(c)&&(g?(y(k),k=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(l,e),m||p||(m=!0,R(I))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)},895:(e,t,n)=>{var r=n(43);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=r.useSyncExternalStore,a=r.useRef,o=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,c){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=u((function(){function e(e){if(!o){if(o=!0,s=e,e=r(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var n=r(e);return void 0!==c&&c(t,n)?t:(s=e,a=n)}var s,a,o=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,c]);var f=s(e,d[0],d[1]);return o((function(){h.hasValue=!0,h.value=f}),[f]),l(f),f}},237:(e,t,n)=>{e.exports=n(895)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".7ab4befc.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="react-blog:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,u;if(void 0!==s)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),u&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/react-blog/public/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],u=r[2],l=0;if(a.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)s=a[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkreact_blog=self.webpackChunkreact_blog||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{FirebaseError:()=>Vi,SDK_VERSION:()=>fa,_DEFAULT_ENTRY_NAME:()=>ta,_addComponent:()=>sa,_addOrOverwriteComponent:()=>aa,_apps:()=>ra,_clearComponents:()=>ca,_components:()=>ia,_getProvider:()=>ua,_registerComponent:()=>oa,_removeServiceInstance:()=>la,deleteApp:()=>va,getApp:()=>ma,getApps:()=>ga,initializeApp:()=>pa,onLog:()=>ba,registerVersion:()=>ya,setLogLevel:()=>wa});const i=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)}))};var s,a=n(43),o=n.t(a,2),u=n(950),l=n.t(u,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const d="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,u=s.Pop,l=null,f=v();function v(){return(o.state||{idx:null}).idx}function y(){u=s.Pop;let e=v(),t=null==e?null:e-f;f=e,l&&l({action:u,location:w.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,o.replaceState(c({},o.state,{idx:f}),""));let w={get action(){return u},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(d,y),l=e,()=>{i.removeEventListener(d,y),l=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u=s.Push;let r=m(w.location,e,t);n&&n(r,e),f=v()+1;let c=p(r,f),d=w.createHref(r);try{o.pushState(c,"",d)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(d)}a&&l&&l({action:u,location:w.location,delta:1})},replace:function(e,t){u=s.Replace;let r=m(w.location,e,t);n&&n(r,e),f=v();let i=p(r,f),c=w.createHref(r);o.replaceState(i,"",c),a&&l&&l({action:u,location:w.location,delta:0})},go:e=>o.go(e)};return w}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));const w=new Set(["lazy","caseSensitive","path","id","index","children"]);function _(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,String(i)],a="string"===typeof e.id?e.id:s.join("-");if(h(!0!==e.index||!e.children,"Cannot specify children on an index route"),h(!r[a],'Found a route id collision on id "'+a+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=c({},e,t(e),{id:a});return r[a]=n,n}{let n=c({},e,t(e),{id:a,children:void 0});return r[a]=n,e.children&&(n.children=_(e.children,t,s,r)),n}}))}function I(e,t,n){return void 0===n&&(n="/"),S(e,t,n,!1)}function S(e,t,n,r){let i=q(("string"===typeof t?v(t):t).pathname||"/",n);if(null==i)return null;let s=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=L(i);a=O(s[o],e,r)}return a}function E(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:R(o,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of T(e.path))i(e,t,r);else i(e,t)})),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=T(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const k=/^:[\w-]+$/,C=3,x=2,N=1,A=10,D=-2,P=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=D),t&&(r+=x),n.filter((e=>!P(e))).reduce(((e,t)=>e+(k.test(t)?C:""===t?N:A)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],u=o===r.length-1,l="/"===s?t:t.slice(s.length)||"/",c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},l),d=e.route;if(!c&&u&&n&&!r[r.length-1].route.index&&(c=M({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:z([s,c.pathname]),pathnameBase:B(z([s,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(s=z([s,c.pathnameBase]))}return a}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const u=o[n];return e[r]=i&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function L(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function q(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function V(e,t){let n=U(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=v(e):(i=c({},e),h(!i.pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),h(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),h(!i.search||!i.search.includes("#"),F("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?v(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:K(r),hash:G(i)}}(i,s),l=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return u.pathname.endsWith("/")||!l&&!d||(u.pathname+="/"),u}const z=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),K=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const W=function(e,t){void 0===t&&(t=302);let n=t;"number"===typeof n?n={status:n}:"undefined"===typeof n.status&&(n.status=302);let r=new Headers(n.headers);return r.set("Location",e),new Response(null,c({},n,{headers:r}))};class H{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Y=["post","put","patch","delete"],X=new Set(Y),J=["get",...Y],$=new Set(J),Z=new Set([301,302,303,307,308]),ee=new Set([307,308]),te={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},re={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,se=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),ae="remix-router-transitions";function oe(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,r=!n;let i;if(h(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;i=e=>({hasErrorBoundary:t(e)})}else i=se;let a,o,u,l={},d=_(e.routes,i,void 0,l),p=e.basename||"/",g=e.unstable_dataStrategy||ve,v=e.unstable_patchRoutesOnMiss,y=c({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),w=null,E=new Set,T=null,k=null,C=null,x=null!=e.hydrationData,N=I(d,e.history.location,p),A=null;if(null==N&&!v){let t=De(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=Ae(d);N=n,A={[r.id]:t}}if(N)if(N.some((e=>e.route.lazy)))o=!1;else if(N.some((e=>e.route.loader)))if(y.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null,r=e=>!e.route.loader||("function"!==typeof e.route.loader||!0!==e.route.loader.hydrate)&&(t&&void 0!==t[e.route.id]||n&&void 0!==n[e.route.id]);if(n){let e=N.findIndex((e=>void 0!==n[e.route.id]));o=N.slice(0,e+1).every(r)}else o=N.every(r)}else o=null!=e.hydrationData;else o=!0;else o=!1,N=[];let D,P={historyAction:e.history.action,location:e.history.location,matches:N,initialized:o,navigation:te,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||A,fetchers:new Map,blockers:new Map},R=s.Pop,O=!1,M=!1,L=new Map,F=null,U=!1,V=!1,j=[],z=[],B=new Map,K=0,G=-1,W=new Map,H=new Set,Y=new Map,X=new Map,J=new Set,$=new Map,Z=new Map,oe=new Map,ce=!1;function he(e,t){void 0===t&&(t={}),P=c({},P,e);let n=[],r=[];y.v7_fetcherPersist&&P.fetchers.forEach(((e,t)=>{"idle"===e.state&&(J.has(t)?r.push(t):n.push(t))})),[...E].forEach((e=>e(P,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),y.v7_fetcherPersist&&(n.forEach((e=>P.fetchers.delete(e))),r.forEach((e=>Xe(e))))}function fe(t,n,r){var i,o;let u,{flushSync:l}=void 0===r?{}:r,h=null!=P.actionData&&null!=P.navigation.formMethod&&Ve(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);u=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?P.actionData:null;let f=n.loaderData?Ce(P.loaderData,n.loaderData,n.matches||[],n.errors):P.loaderData,p=P.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,re))));let m,g=!0===O||null!=P.navigation.formMethod&&Ve(P.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);if(a&&(d=a,a=void 0),U||R===s.Pop||(R===s.Push?e.history.push(t,t.state):R===s.Replace&&e.history.replace(t,t.state)),R===s.Pop){let e=L.get(P.location.pathname);e&&e.has(t.pathname)?m={currentLocation:P.location,nextLocation:t}:L.has(t.pathname)&&(m={currentLocation:t,nextLocation:P.location})}else if(M){let e=L.get(P.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),L.set(P.location.pathname,e)),m={currentLocation:P.location,nextLocation:t}}he(c({},n,{actionData:u,loaderData:f,historyAction:R,location:t,initialized:!0,navigation:te,revalidation:"idle",restoreScrollPosition:ut(t,n.matches||P.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===l}),R=s.Pop,O=!1,M=!1,U=!1,V=!1,j=[],z=[]}async function ge(t,n,r){D&&D.abort(),D=null,R=t,U=!0===(r&&r.startUninterruptedRevalidation),function(e,t){if(T&&C){let n=ot(e,t);T[n]=C()}}(P.location,P.matches),O=!0===(r&&r.preventScrollReset),M=!0===(r&&r.enableViewTransition);let i=a||d,o=r&&r.overrideNavigation,u=I(i,n,p),l=!0===(r&&r.flushSync),h=lt(u,i,n.pathname);if(h.active&&h.matches&&(u=h.matches),!u){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return void fe(n,{matches:t,loaderData:{},errors:{[r.id]:e}},{flushSync:l})}if(P.initialized&&!V&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(P.location,n)&&!(r&&r.submission&&Ve(r.submission.formMethod)))return void fe(n,{matches:u},{flushSync:l});D=new AbortController;let f,m=Ie(e.history,n,D.signal,r&&r.submission);if(r&&r.pendingError)f=[Ne(u).route.id,{type:b.error,error:r.pendingError}];else if(r&&r.submission&&Ve(r.submission.formMethod)){let t=await async function(e,t,n,r,i,a){void 0===a&&(a={});Fe();let o,u=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(he({navigation:u},{flushSync:!0===a.flushSync}),i){let n=await ct(r,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let{error:e,notFoundMatches:r,route:i}=st(t.pathname,n);return{matches:r,pendingActionResult:[i.id,{type:b.error,error:e}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:r}=it(t.pathname);return{matches:e,pendingActionResult:[r.id,{type:b.error,error:n}]}}r=n.matches}let l=Ke(r,t);if(l.route.action||l.route.lazy){if(o=(await Te("action",e,[l],r))[0],e.signal.aborted)return{shortCircuited:!0}}else o={type:b.error,error:De(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(qe(o)){let t;if(a&&null!=a.replace)t=a.replace;else{t=_e(o.response.headers.get("Location"),new URL(e.url),p)===P.location.pathname+P.location.search}return await Ee(e,o,{submission:n,replace:t}),{shortCircuited:!0}}if(Me(o))throw De(400,{type:"defer-action"});if(Le(o)){let e=Ne(r,l.route.id);return!0!==(a&&a.replace)&&(R=s.Push),{matches:r,pendingActionResult:[e.route.id,o]}}return{matches:r,pendingActionResult:[l.route.id,o]}}(m,n,r.submission,u,h.active,{replace:r.replace,flushSync:l});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,r]=t.pendingActionResult;if(Le(r)&&Q(r.error)&&404===r.error.status)return D=null,void fe(n,{matches:t.matches,loaderData:{},errors:{[e]:r.error}})}u=t.matches||u,f=t.pendingActionResult,o=We(n,r.submission),l=!1,h.active=!1,m=Ie(e.history,m.url,m.signal)}let{shortCircuited:g,matches:v,loaderData:w,errors:_}=await async function(t,n,r,i,s,o,u,l,h,f,m){let g=s||We(n,o),v=o||u||Ge(g),b=!U&&(!y.v7_partialHydration||!h);if(i){if(b){let e=Se(m);he(c({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:f})}let e=await ct(r,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let{error:t,notFoundMatches:r,route:i}=st(n.pathname,e);return{matches:r,loaderData:{},errors:{[i.id]:t}}}if(!e.matches){let{error:e,notFoundMatches:t,route:r}=it(n.pathname);return{matches:t,loaderData:{},errors:{[r.id]:e}}}r=e.matches}let w=a||d,[_,I]=de(e.history,P,r,v,n,y.v7_partialHydration&&!0===h,y.unstable_skipActionErrorRevalidation,V,j,z,J,Y,H,w,p,m);if(at((e=>!(r&&r.some((t=>t.route.id===e)))||_&&_.some((t=>t.route.id===e)))),G=++K,0===_.length&&0===I.length){let e=Ze();return fe(n,c({matches:r,loaderData:{},errors:m&&Le(m[1])?{[m[0]]:m[1].error}:null},xe(m),e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:f}),{shortCircuited:!0}}if(b){let e={};if(!i){e.navigation=g;let t=Se(m);void 0!==t&&(e.actionData=t)}I.length>0&&(e.fetchers=function(e){return e.forEach((e=>{let t=P.fetchers.get(e.key),n=He(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)})),new Map(P.fetchers)}(I)),he(e,{flushSync:f})}I.forEach((e=>{B.has(e.key)&&Je(e.key),e.controller&&B.set(e.key,e.controller)}));let S=()=>I.forEach((e=>Je(e.key)));D&&D.signal.addEventListener("abort",S);let{loaderResults:E,fetcherResults:T}=await Re(P.matches,r,_,I,t);if(t.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",S);I.forEach((e=>B.delete(e.key)));let k=Pe([...E,...T]);if(k){if(k.idx>=_.length){let e=I[k.idx-_.length].key;H.add(e)}return await Ee(t,k.result,{replace:l}),{shortCircuited:!0}}let{loaderData:C,errors:x}=ke(P,r,_,E,m,I,T,$);$.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&$.delete(t)}))})),y.v7_partialHydration&&h&&P.errors&&Object.entries(P.errors).filter((e=>{let[t]=e;return!_.some((e=>e.route.id===t))})).forEach((e=>{let[t,n]=e;x=Object.assign(x||{},{[t]:n})}));let N=Ze(),A=et(G),R=N||A||I.length>0;return c({matches:r,loaderData:C,errors:x},R?{fetchers:new Map(P.fetchers)}:{})}(m,n,u,h.active,o,r&&r.submission,r&&r.fetcherSubmission,r&&r.replace,r&&!0===r.initialHydration,l,f);g||(D=null,fe(n,c({matches:v||u},xe(f),{loaderData:w,errors:_})))}function Se(e){return e&&!Le(e[1])?{[e[0]]:e[1].data}:P.actionData?0===Object.keys(P.actionData).length?null:P.actionData:void 0}async function Ee(r,i,a){let{submission:o,fetcherSubmission:u,replace:l}=void 0===a?{}:a;i.response.headers.has("X-Remix-Revalidate")&&(V=!0);let d=i.response.headers.get("Location");h(d,"Expected a Location header on the redirect Response"),d=_e(d,new URL(r.url),p);let f=m(P.location,d,{_isRedirect:!0});if(n){let n=!1;if(i.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(ie.test(d)){const r=e.history.createURL(d);n=r.origin!==t.location.origin||null==q(r.pathname,p)}if(n)return void(l?t.location.replace(d):t.location.assign(d))}D=null;let g=!0===l?s.Replace:s.Push,{formMethod:v,formAction:y,formEncType:b}=P.navigation;!o&&!u&&v&&y&&b&&(o=Ge(P.navigation));let w=o||u;if(ee.has(i.response.status)&&w&&Ve(w.formMethod))await ge(g,f,{submission:c({},w,{formAction:d}),preventScrollReset:O});else{let e=We(f,o);await ge(g,f,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:O})}}async function Te(e,t,n,r){try{let s=await ye(g,e,t,n,r,l,i);return await Promise.all(s.map(((e,i)=>{if(Oe(e)){let s=e.result;return{type:b.redirect,response:we(s,t,n[i].route.id,r,p,y.v7_relativeSplatPath)}}return be(e)})))}catch(s){return n.map((()=>({type:b.error,error:s})))}}async function Re(t,n,r,i,s){let[a,...o]=await Promise.all([r.length?Te("loader",s,r,n):[],...i.map((t=>{if(t.matches&&t.match&&t.controller){return Te("loader",Ie(e.history,t.path,t.controller.signal),[t.match],t.matches).then((e=>e[0]))}return Promise.resolve({type:b.error,error:De(404,{pathname:t.path})})}))]);return await Promise.all([je(t,r,a,a.map((()=>s.signal)),!1,P.loaderData),je(t,i.map((e=>e.match)),o,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{loaderResults:a,fetcherResults:o}}function Fe(){V=!0,j.push(...at()),Y.forEach(((e,t)=>{B.has(t)&&(z.push(t),Je(t))}))}function Ue(e,t,n){void 0===n&&(n={}),P.fetchers.set(e,t),he({fetchers:new Map(P.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Be(e,t,n,r){void 0===r&&(r={});let i=Ne(P.matches,t);Xe(e),he({errors:{[i.route.id]:n},fetchers:new Map(P.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Ye(e){return y.v7_fetcherPersist&&(X.set(e,(X.get(e)||0)+1),J.has(e)&&J.delete(e)),P.fetchers.get(e)||ne}function Xe(e){let t=P.fetchers.get(e);!B.has(e)||t&&"loading"===t.state&&W.has(e)||Je(e),Y.delete(e),W.delete(e),H.delete(e),J.delete(e),P.fetchers.delete(e)}function Je(e){let t=B.get(e);h(t,"Expected fetch controller: "+e),t.abort(),B.delete(e)}function $e(e){for(let t of e){let e=Qe(Ye(t).data);P.fetchers.set(t,e)}}function Ze(){let e=[],t=!1;for(let n of H){let r=P.fetchers.get(n);h(r,"Expected fetcher: "+n),"loading"===r.state&&(H.delete(n),e.push(n),t=!0)}return $e(e),t}function et(e){let t=[];for(let[n,r]of W)if(r<e){let e=P.fetchers.get(n);h(e,"Expected fetcher: "+n),"loading"===e.state&&(Je(n),W.delete(n),t.push(n))}return $e(t),t.length>0}function tt(e){P.blockers.delete(e),Z.delete(e)}function nt(e,t){let n=P.blockers.get(e)||re;h("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(P.blockers);r.set(e,t),he({blockers:r})}function rt(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===Z.size)return;Z.size>1&&f(!1,"A router only supports one blocker at a time");let i=Array.from(Z.entries()),[s,a]=i[i.length-1],o=P.blockers.get(s);return o&&"proceeding"===o.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?s:void 0}function it(e){let t=De(404,{pathname:e}),n=a||d,{matches:r,route:i}=Ae(n);return at(),{notFoundMatches:r,route:i,error:t}}function st(e,t){let n=t.partialMatches,r=n[n.length-1].route;return{notFoundMatches:n,route:r,error:De(400,{type:"route-discovery",routeId:r.id,pathname:e,message:null!=t.error&&"message"in t.error?t.error:String(t.error)})}}function at(e){let t=[];return $.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),$.delete(r))})),t}function ot(e,t){if(k){return k(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,P.loaderData))))||e.key}return e.key}function ut(e,t){if(T){let n=ot(e,t),r=T[n];if("number"===typeof r)return r}return null}function lt(e,t,n){if(v){if(!e){return{active:!0,matches:S(t,n,p,!0)||[]}}if("*"===e[e.length-1].route.path){return{active:!0,matches:S(t,n,p,!0)}}}return{active:!1,matches:null}}async function ct(e,t,n){let r=e,s=r.length>0?r[r.length-1].route:null;for(;;){try{await pe(v,t,r,d||a,l,i,oe,n)}catch(o){return{type:"error",error:o,partialMatches:r}}if(n.aborted)return{type:"aborted"};let e=a||d,u=I(e,t,p),c=!1;if(u){let e=u[u.length-1].route;if(e.index)return{type:"success",matches:u};if(e.path&&e.path.length>0){if("*"!==e.path)return{type:"success",matches:u};c=!0}}let h=S(e,t,p,!0);if(!h||r.map((e=>e.route.id)).join("-")===h.map((e=>e.route.id)).join("-"))return{type:"success",matches:c?u:null};if(r=h,s=r[r.length-1].route,"*"===s.path)return{type:"success",matches:r}}}return u={get basename(){return p},get future(){return y},get state(){return P},get routes(){return d},get window(){return t},initialize:function(){if(w=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(ce)return void(ce=!1);f(0===Z.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=rt({currentLocation:P.location,nextLocation:r,historyAction:n});return s&&null!=i?(ce=!0,e.history.go(-1*i),void nt(s,{state:"blocked",location:r,proceed(){nt(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(P.blockers);e.set(s,re),he({blockers:e})}})):ge(n,r)})),n){!function(e,t){try{let n=e.sessionStorage.getItem(ae);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(t,L);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(ae,JSON.stringify(r))}catch(n){f(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,L);t.addEventListener("pagehide",e),F=()=>t.removeEventListener("pagehide",e)}return P.initialized||ge(s.Pop,P.location,{initialHydration:!0}),u},subscribe:function(e){return E.add(e),()=>E.delete(e)},enableScrollRestoration:function(e,t,n){if(T=e,C=t,k=n||null,!x&&P.navigation===te){x=!0;let e=ut(P.location,P.matches);null!=e&&he({restoreScrollPosition:e})}return()=>{T=null,C=null,k=null}},navigate:async function t(n,r){if("number"===typeof n)return void e.history.go(n);let i=ue(P.location,P.matches,p,y.v7_prependBasename,n,y.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:a,submission:o,error:u}=le(y.v7_normalizeFormMethod,!1,i,r),l=P.location,d=m(P.location,a,r&&r.state);d=c({},d,e.history.encodeLocation(d));let h=r&&null!=r.replace?r.replace:void 0,f=s.Push;!0===h?f=s.Replace:!1===h||null!=o&&Ve(o.formMethod)&&o.formAction===P.location.pathname+P.location.search&&(f=s.Replace);let g=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,v=!0===(r&&r.unstable_flushSync),b=rt({currentLocation:l,nextLocation:d,historyAction:f});if(!b)return await ge(f,d,{submission:o,pendingError:u,preventScrollReset:g,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:v});nt(b,{state:"blocked",location:d,proceed(){nt(b,{state:"proceeding",proceed:void 0,reset:void 0,location:d}),t(n,r)},reset(){let e=new Map(P.blockers);e.set(b,re),he({blockers:e})}})},fetch:function(t,n,i,s){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");B.has(t)&&Je(t);let o=!0===(s&&s.unstable_flushSync),u=a||d,l=ue(P.location,P.matches,p,y.v7_prependBasename,i,y.v7_relativeSplatPath,n,null==s?void 0:s.relative),c=I(u,l,p),f=lt(c,u,l);if(f.active&&f.matches&&(c=f.matches),!c)return void Be(t,n,De(404,{pathname:l}),{flushSync:o});let{path:m,submission:g,error:v}=le(y.v7_normalizeFormMethod,!0,l,s);if(v)return void Be(t,n,v,{flushSync:o});let b=Ke(c,m);O=!0===(s&&s.preventScrollReset),g&&Ve(g.formMethod)?async function(t,n,r,i,s,o,u,l){function c(e){if(!e.route.action&&!e.route.lazy){let e=De(405,{method:l.formMethod,pathname:r,routeId:n});return Be(t,n,e,{flushSync:u}),!0}return!1}if(Fe(),Y.delete(t),!o&&c(i))return;let f=P.fetchers.get(t);Ue(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(l,f),{flushSync:u});let m=new AbortController,g=Ie(e.history,r,m.signal,l);if(o){let e=await ct(s,r,g.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=st(r,e);return void Be(t,n,i,{flushSync:u})}if(!e.matches)return void Be(t,n,De(404,{pathname:r}),{flushSync:u});if(c(i=Ke(s=e.matches,r)))return}B.set(t,m);let v=K,b=await Te("action",g,[i],s),w=b[0];if(g.signal.aborted)return void(B.get(t)===m&&B.delete(t));if(y.v7_fetcherPersist&&J.has(t)){if(qe(w)||Le(w))return void Ue(t,Qe(void 0))}else{if(qe(w))return B.delete(t),G>v?void Ue(t,Qe(void 0)):(H.add(t),Ue(t,He(l)),Ee(g,w,{fetcherSubmission:l}));if(Le(w))return void Be(t,n,w.error)}if(Me(w))throw De(400,{type:"defer-action"});let _=P.navigation.location||P.location,S=Ie(e.history,_,m.signal),E=a||d,T="idle"!==P.navigation.state?I(E,P.navigation.location,p):P.matches;h(T,"Didn't find any matches after fetcher action");let k=++K;W.set(t,k);let C=He(l,w.data);P.fetchers.set(t,C);let[x,N]=de(e.history,P,T,l,_,!1,y.unstable_skipActionErrorRevalidation,V,j,z,J,Y,H,E,p,[i.route.id,w]);N.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=P.fetchers.get(t),r=He(void 0,n?n.data:void 0);P.fetchers.set(t,r),B.has(t)&&Je(t),e.controller&&B.set(t,e.controller)})),he({fetchers:new Map(P.fetchers)});let A=()=>N.forEach((e=>Je(e.key)));m.signal.addEventListener("abort",A);let{loaderResults:O,fetcherResults:M}=await Re(P.matches,T,x,N,S);if(m.signal.aborted)return;m.signal.removeEventListener("abort",A),W.delete(t),B.delete(t),N.forEach((e=>B.delete(e.key)));let L=Pe([...O,...M]);if(L){if(L.idx>=x.length){let e=N[L.idx-x.length].key;H.add(e)}return Ee(S,L.result)}let{loaderData:q,errors:F}=ke(P,P.matches,x,O,void 0,N,M,$);if(P.fetchers.has(t)){let e=Qe(w.data);P.fetchers.set(t,e)}et(k),"loading"===P.navigation.state&&k>G?(h(R,"Expected pending action"),D&&D.abort(),fe(P.navigation.location,{matches:T,loaderData:q,errors:F,fetchers:new Map(P.fetchers)})):(he({errors:F,loaderData:Ce(P.loaderData,q,T,F),fetchers:new Map(P.fetchers)}),V=!1)}(t,n,m,b,c,f.active,o,g):(Y.set(t,{routeId:n,path:m}),async function(t,n,r,i,s,a,o,u){let l=P.fetchers.get(t);Ue(t,He(u,l?l.data:void 0),{flushSync:o});let c=new AbortController,d=Ie(e.history,r,c.signal);if(a){let e=await ct(s,r,d.signal);if("aborted"===e.type)return;if("error"===e.type){let{error:i}=st(r,e);return void Be(t,n,i,{flushSync:o})}if(!e.matches)return void Be(t,n,De(404,{pathname:r}),{flushSync:o});i=Ke(s=e.matches,r)}B.set(t,c);let f=K,p=await Te("loader",d,[i],s),m=p[0];Me(m)&&(m=await ze(m,d.signal,!0)||m);B.get(t)===c&&B.delete(t);if(d.signal.aborted)return;if(J.has(t))return void Ue(t,Qe(void 0));if(qe(m))return G>f?void Ue(t,Qe(void 0)):(H.add(t),void await Ee(d,m));if(Le(m))return void Be(t,n,m.error);h(!Me(m),"Unhandled fetcher deferred data"),Ue(t,Qe(m.data))}(t,n,m,b,c,f.active,o,g))},revalidate:function(){Fe(),he({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?ge(R||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation}):ge(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ye,deleteFetcher:function(e){if(y.v7_fetcherPersist){let t=(X.get(e)||0)-1;t<=0?(X.delete(e),J.add(e)):X.set(e,t)}else Xe(e);he({fetchers:new Map(P.fetchers)})},dispose:function(){w&&w(),F&&F(),E.clear(),D&&D.abort(),P.fetchers.forEach(((e,t)=>Xe(t))),P.blockers.forEach(((e,t)=>tt(t)))},getBlocker:function(e,t){let n=P.blockers.get(e)||re;return Z.get(e)!==t&&Z.set(e,t),n},deleteBlocker:tt,patchRoutes:(e,t)=>me(e,t,d||a,l,i),_internalFetchControllers:B,_internalActiveDeferreds:$,_internalSetRoutes:function(e){l={},a=_(e,i,void 0,l)}},u}Symbol("deferred");function ue(e,t,n,r,i,s,a,o){let u,l;if(a){u=[];for(let e of t)if(u.push(e),e.route.id===a){l=e;break}}else u=t,l=t[t.length-1];let c=j(i||".",V(u,s),q(e.pathname,n)||e.pathname,"path"===o);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||Be(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:z([n,c.pathname])),g(c)}function le(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!Ue(r.formMethod))return{path:n,error:De(405,{method:r.formMethod})};let i,s,a=()=>({path:n,error:De(400,{type:"invalid-body"})}),o=r.formMethod||"get",u=e?o.toUpperCase():o.toLowerCase(),l=Re(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ve(u))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ve(u))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:u,formAction:l,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(f){return a()}}}if(h("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=Se(r.formData),s=r.formData;else if(r.body instanceof FormData)i=Se(r.body),s=r.body;else if(r.body instanceof URLSearchParams)i=r.body,s=Ee(i);else if(null==r.body)i=new URLSearchParams,s=new FormData;else try{i=new URLSearchParams(r.body),s=Ee(i)}catch(f){return a()}let c={formMethod:u,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(Ve(c.formMethod))return{path:n,submission:c};let d=v(n);return t&&d.search&&Be(d.search)&&i.append("index",""),d.search="?"+i,{path:g(d),submission:c}}function ce(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function de(e,t,n,r,i,s,a,o,u,l,d,h,f,p,m,g){let v=g?Le(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),b=e.createURL(i),w=g&&Le(g[1])?g[0]:void 0,_=w?ce(n,w):n,S=g?g[1].statusCode:void 0,E=a&&S&&S>=400,T=_.filter(((e,n)=>{let{route:i}=e;if(i.lazy)return!0;if(null==i.loader)return!1;if(s)return!("function"===typeof i.loader&&!i.loader.hydrate)||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||u.some((t=>t===e.route.id)))return!0;let a=t.matches[n],l=e;return fe(e,c({currentUrl:y,currentParams:a.params,nextUrl:b,nextParams:l.params},r,{actionResult:v,unstable_actionStatus:S,defaultShouldRevalidate:!E&&(o||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||he(a,l))}))})),k=[];return h.forEach(((e,i)=>{if(s||!n.some((t=>t.route.id===e.routeId))||d.has(i))return;let a=I(p,e.path,m);if(!a)return void k.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let u=t.fetchers.get(i),h=Ke(a,e.path),g=!1;g=!f.has(i)&&(!!l.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?o:fe(h,c({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:v,unstable_actionStatus:S,defaultShouldRevalidate:!E&&o})))),g&&k.push({key:i,routeId:e.routeId,path:e.path,matches:a,match:h,controller:new AbortController})})),[T,k]}function he(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function fe(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function pe(e,t,n,r,i,s,a,o){let u=[t,...n.map((e=>e.route.id))].join("-");try{let c=a.get(u);c||(c=e({path:t,matches:n,patch:(e,t)=>{o.aborted||me(e,t,r,i,s)}}),a.set(u,c)),c&&("object"===typeof(l=c)&&null!=l&&"then"in l)&&await c}finally{a.delete(u)}var l}function me(e,t,n,r,i){if(e){var s;let n=r[e];h(n,"No route found to patch children into: routeId = "+e);let a=_(t,i,[e,"patch",String((null==(s=n.children)?void 0:s.length)||"0")],r);n.children?n.children.push(...a):n.children=a}else{let e=_(t,i,["patch",String(n.length||"0")],r);n.push(...e)}}async function ge(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];h(i,"No route found in manifest");let s={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;f(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||w.has(a)||(s[a]=r[a])}Object.assign(i,s),Object.assign(i,c({},t(i),{lazy:void 0}))}function ve(e){return Promise.all(e.matches.map((e=>e.resolve())))}async function ye(e,t,n,r,i,s,a,o){let u=r.reduce(((e,t)=>e.add(t.route.id)),new Set),l=new Set,d=await e({matches:i.map((e=>{let r=u.has(e.route.id);return c({},e,{shouldLoad:r,resolve:i=>(l.add(e.route.id),r?async function(e,t,n,r,i,s,a){let o,u,l=r=>{let i,o=new Promise(((e,t)=>i=t));u=()=>i(),t.signal.addEventListener("abort",u);let l,c=i=>"function"!==typeof r?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):r({request:t,params:n.params,context:a},...void 0!==i?[i]:[]);return l=s?s((e=>c(e))):(async()=>{try{return{type:"data",result:await c()}}catch(e){return{type:"error",result:e}}})(),Promise.race([l,o])};try{let s=n.route[e];if(n.route.lazy)if(s){let e,[t]=await Promise.all([l(s).catch((t=>{e=t})),ge(n.route,i,r)]);if(void 0!==e)throw e;o=t}else{if(await ge(n.route,i,r),s=n.route[e],!s){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw De(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:b.data,result:void 0}}o=await l(s)}else{if(!s){let e=new URL(t.url);throw De(404,{pathname:e.pathname+e.search})}o=await l(s)}h(void 0!==o.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(c){return{type:b.error,result:c}}finally{u&&t.signal.removeEventListener("abort",u)}return o}(t,n,e,s,a,i,o):Promise.resolve({type:b.data,result:void 0}))})})),request:n,params:i[0].params,context:o});return i.forEach((e=>h(l.has(e.route.id),'`match.resolve()` was not called for route id "'+e.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.'))),d.filter(((e,t)=>u.has(i[t].route.id)))}async function be(e){let{result:t,type:n,status:r}=e;if(Fe(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(a){return{type:b.error,error:a}}return n===b.error?{type:b.error,error:new H(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:b.data,data:e,statusCode:t.status,headers:t.headers}}return n===b.error?{type:b.error,error:t,statusCode:Q(t)?t.status:r}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:b.deferred,deferredData:t,statusCode:null==(i=t.init)?void 0:i.status,headers:(null==(s=t.init)?void 0:s.headers)&&new Headers(t.init.headers)}:{type:b.data,data:t,statusCode:r};var i,s}function we(e,t,n,r,i,s){let a=e.headers.get("Location");if(h(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!ie.test(a)){let o=r.slice(0,r.findIndex((e=>e.route.id===n))+1);a=ue(new URL(t.url),o,i,!0,a,s),e.headers.set("Location",a)}return e}function _e(e,t,n){if(ie.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),s=null!=q(i.pathname,n);if(i.origin===t.origin&&s)return i.pathname+i.search+i.hash}return e}function Ie(e,t,n,r){let i=e.createURL(Re(t)).toString(),s={signal:n};if(r&&Ve(r.formMethod)){let{formMethod:e,formEncType:t}=r;s.method=e.toUpperCase(),"application/json"===t?(s.headers=new Headers({"Content-Type":t}),s.body=JSON.stringify(r.json)):"text/plain"===t?s.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?s.body=Se(r.formData):s.body=r.formData}return new Request(i,s)}function Se(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function Ee(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Te(e,t,n,r,i,s){let a,o={},u=null,l=!1,c={},d=r&&Le(r[1])?r[1].error:void 0;return n.forEach(((n,r)=>{let f=t[r].route.id;if(h(!qe(n),"Cannot handle redirect results in processLoaderData"),Le(n)){let t=n.error;if(void 0!==d&&(t=d,d=void 0),u=u||{},s)u[f]=t;else{let n=Ne(e,f);null==u[n.route.id]&&(u[n.route.id]=t)}o[f]=void 0,l||(l=!0,a=Q(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Me(n)?(i.set(f,n.deferredData),o[f]=n.deferredData.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(c[f]=n.headers)):(o[f]=n.data,n.statusCode&&200!==n.statusCode&&!l&&(a=n.statusCode),n.headers&&(c[f]=n.headers))})),void 0!==d&&r&&(u={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:u,statusCode:a||200,loaderHeaders:c}}function ke(e,t,n,r,i,s,a,o){let{loaderData:u,errors:l}=Te(t,n,r,i,o,!1);for(let d=0;d<s.length;d++){let{key:t,match:n,controller:r}=s[d];h(void 0!==a&&void 0!==a[d],"Did not find corresponding fetcher result");let i=a[d];if(!r||!r.signal.aborted)if(Le(i)){let r=Ne(e.matches,null==n?void 0:n.route.id);l&&l[r.route.id]||(l=c({},l,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(qe(i))h(!1,"Unhandled fetcher revalidation redirect");else if(Me(i))h(!1,"Unhandled fetcher deferred data");else{let n=Qe(i.data);e.fetchers.set(t,n)}}return{loaderData:u,errors:l}}function Ce(e,t,n,r){let i=c({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function xe(e){return e?Le(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ne(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function Ae(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function De(e,t){let{pathname:n,routeId:r,method:i,type:s,message:a}=void 0===t?{}:t,o="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(o="Bad Request","route-discovery"===s?u='Unable to match URL "'+n+'" - the `children()` function for route `'+r+"` threw the following error:\n"+a:i&&n&&r?u="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s?u="defer() is not supported in actions":"invalid-body"===s&&(u="Unable to encode submission body")):403===e?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",u='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new H(e||500,o,new Error(u),!0)}function Pe(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(qe(n))return{result:n,idx:t}}}function Re(e){return g(c({},"string"===typeof e?v(e):e,{hash:""}))}function Oe(e){return Fe(e.result)&&Z.has(e.result.status)}function Me(e){return e.type===b.deferred}function Le(e){return e.type===b.error}function qe(e){return(e&&e.type)===b.redirect}function Fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Ue(e){return $.has(e.toLowerCase())}function Ve(e){return X.has(e.toLowerCase())}async function je(e,t,n,r,i,s){for(let a=0;a<n.length;a++){let o=n[a],u=t[a];if(!u)continue;let l=e.find((e=>e.route.id===u.route.id)),c=null!=l&&!he(l,u)&&void 0!==(s&&s[u.route.id]);if(Me(o)&&(i||c)){let e=r[a];h(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await ze(o,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function ze(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:b.data,data:e.deferredData.unwrappedData}}catch(r){return{type:b.error,error:r}}return{type:b.data,data:e.deferredData.data}}}function Be(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Ke(e,t){let n="string"===typeof t?v(t).search:t.search;if(e[e.length-1].route.index&&Be(n||""))return e[e.length-1];let r=U(e);return r[r.length-1]}function Ge(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=s?{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function We(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function He(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Qe(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}const Xe=a.createContext(null);const Je=a.createContext(null);const $e=a.createContext(null);const Ze=a.createContext(null);const et=a.createContext({outlet:null,matches:[],isDataRoute:!1});const tt=a.createContext(null);function nt(){return null!=a.useContext(Ze)}function rt(){return nt()||h(!1),a.useContext(Ze).location}function it(e){a.useContext($e).static||a.useLayoutEffect(e)}function st(){let{isDataRoute:e}=a.useContext(et);return e?function(){let{router:e}=vt(mt.UseNavigateStable),t=bt(gt.UseNavigateStable),n=a.useRef(!1);it((()=>{n.current=!0}));let r=a.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Ye({fromRouteId:t},i)))}),[e,t]);return r}():function(){nt()||h(!1);let e=a.useContext(Xe),{basename:t,future:n,navigator:r}=a.useContext($e),{matches:i}=a.useContext(et),{pathname:s}=rt(),o=JSON.stringify(V(i,n.v7_relativeSplatPath)),u=a.useRef(!1);it((()=>{u.current=!0}));let l=a.useCallback((function(n,i){if(void 0===i&&(i={}),!u.current)return;if("number"===typeof n)return void r.go(n);let a=j(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:z([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)}),[t,r,o,s,e]);return l}()}const at=a.createContext(null);function ot(){let{matches:e}=a.useContext(et),t=e[e.length-1];return t?t.params:{}}function ut(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=a.useContext($e),{matches:i}=a.useContext(et),{pathname:s}=rt(),o=JSON.stringify(V(i,r.v7_relativeSplatPath));return a.useMemo((()=>j(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function lt(e,t,n,r){nt()||h(!1);let{navigator:i}=a.useContext($e),{matches:o}=a.useContext(et),u=o[o.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let d,f=rt();if(t){var p;let e="string"===typeof t?v(t):t;"/"===c||(null==(p=e.pathname)?void 0:p.startsWith(c))||h(!1),d=e}else d=f;let m=d.pathname||"/",g=m;if("/"!==c){let e=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=I(e,{pathname:g});let b=pt(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:z([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:z([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,r);return t&&b?a.createElement(Ze.Provider,{value:{location:Ye({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},b):b}function ct(){let e=function(){var e;let t=a.useContext(tt),n=yt(gt.UseRouteError),r=bt(gt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Q(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:i},n):null,null)}const dt=a.createElement(ct,null);class ht extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(et.Provider,{value:this.props.routeContext},a.createElement(tt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ft(e){let{routeContext:t,match:n,children:r}=e,i=a.useContext(Xe);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(et.Provider,{value:t},r)}function pt(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){let e=o.findIndex((e=>e.route.id&&void 0!==(null==u?void 0:u[e.route.id])));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=a),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight(((e,r,i)=>{let s,d=!1,h=null,f=null;var p;n&&(s=u&&r.route.id?u[r.route.id]:void 0,h=r.route.errorElement||dt,l&&(c<0&&0===i?(p="route-fallback",!1||wt[p]||(wt[p]=!0),d=!0,f=null):c===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=s?h:d?f:r.route.Component?a.createElement(r.route.Component,null):r.route.element?r.route.element:e,a.createElement(ft,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?a.createElement(ht,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var mt=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(mt||{}),gt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gt||{});function vt(e){let t=a.useContext(Xe);return t||h(!1),t}function yt(e){let t=a.useContext(Je);return t||h(!1),t}function bt(e){let t=function(e){let t=a.useContext(et);return t||h(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const wt={};o.startTransition;function _t(e){return function(e){let t=a.useContext(et).outlet;return t?a.createElement(at.Provider,{value:e},t):t}(e.context)}function It(e){let{basename:t="/",children:n=null,location:r,navigationType:i=s.Pop,navigator:o,static:u=!1,future:l}=e;nt()&&h(!1);let c=t.replace(/^\/*/,"/"),d=a.useMemo((()=>({basename:c,navigator:o,static:u,future:Ye({v7_relativeSplatPath:!1},l)})),[c,l,o,u]);"string"===typeof r&&(r=v(r));let{pathname:f="/",search:p="",hash:m="",state:g=null,key:y="default"}=r,b=a.useMemo((()=>{let e=q(f,c);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:i}}),[c,f,p,m,g,y,i]);return null==b?null:a.createElement($e.Provider,{value:d},a.createElement(Ze.Provider,{children:n,value:b}))}new Promise((()=>{}));a.Component;function St(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:a.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:a.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:a.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Et(){return Et=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Et.apply(this,arguments)}function Tt(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const kt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(xx){}function Ct(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Et({},t,{errors:xt(t.errors)})),t}function xt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&"RouteErrorResponse"===i.__type)n[r]=new H(i.status,i.statusText,i.data,!0===i.internal);else if(i&&"Error"===i.__type){if(i.__subType){let e=window[i.__subType];if("function"===typeof e)try{let t=new e(i.message);t.stack="",n[r]=t}catch(xx){}}if(null==n[r]){let e=new Error(i.message);e.stack="",n[r]=e}}else n[r]=i;return n}const Nt=a.createContext({isTransitioning:!1});const At=a.createContext(new Map);const Dt=o.startTransition,Pt=l.flushSync;o.useId;function Rt(e){Pt?Pt(e):e()}class Ot{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function Mt(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=a.useState(n.state),[o,u]=a.useState(),[l,c]=a.useState({isTransitioning:!1}),[d,h]=a.useState(),[f,p]=a.useState(),[m,g]=a.useState(),v=a.useRef(new Map),{v7_startTransition:y}=r||{},b=a.useCallback((e=>{y?function(e){Dt?Dt(e):e()}(e):e()}),[y]),w=a.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:a}=t;r.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let o=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(a&&!o){if(i){Rt((()=>{f&&(d&&d.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})}));let t=n.window.document.startViewTransition((()=>{Rt((()=>s(e)))}));return t.finished.finally((()=>{Rt((()=>{h(void 0),p(void 0),u(void 0),c({isTransitioning:!1})}))})),void Rt((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(u(e),c({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?Rt((()=>s(e))):b((()=>s(e)))}),[n.window,f,d,v,b]);a.useLayoutEffect((()=>n.subscribe(w)),[n,w]),a.useEffect((()=>{l.isTransitioning&&!l.flushSync&&h(new Ot)}),[l]),a.useEffect((()=>{if(d&&o&&n.window){let e=o,t=d.promise,r=n.window.document.startViewTransition((async()=>{b((()=>s(e))),await t}));r.finished.finally((()=>{h(void 0),p(void 0),u(void 0),c({isTransitioning:!1})})),p(r)}}),[b,o,d,n.window]),a.useEffect((()=>{d&&o&&i.location.key===o.location.key&&d.resolve()}),[d,f,i.location,o]),a.useEffect((()=>{!l.isTransitioning&&m&&(u(m.state),c({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[l.isTransitioning,m]),a.useEffect((()=>{}),[]);let _=a.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),I=n.basename||"/",S=a.useMemo((()=>({router:n,navigator:_,static:!1,basename:I})),[n,_,I]);return a.createElement(a.Fragment,null,a.createElement(Xe.Provider,{value:S},a.createElement(Je.Provider,{value:i},a.createElement(At.Provider,{value:v.current},a.createElement(Nt.Provider,{value:l},a.createElement(It,{basename:I,location:i.location,navigationType:i.historyAction,navigator:_,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?a.createElement(Lt,{routes:n.routes,future:n.future,state:i}):t))))),null)}function Lt(e){let{routes:t,future:n,state:r}=e;return lt(t,void 0,r,n)}const qt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ft=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=a.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:l,to:c,preventScrollReset:d,unstable_viewTransition:f}=e,p=Tt(e,kt),{basename:m}=a.useContext($e),v=!1;if("string"===typeof c&&Ft.test(c)&&(n=c,qt))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=q(t.pathname,m);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:v=!0}catch(xx){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;nt()||h(!1);let{basename:r,navigator:i}=a.useContext($e),{hash:s,pathname:o,search:u}=ut(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:z([r,o])),i.createHref({pathname:l,search:u,hash:s})}(c,{relative:i}),b=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u}=void 0===t?{}:t,l=st(),c=rt(),d=ut(e,{relative:o});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(c)===g(d);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:u})}}),[c,l,d,r,i,n,e,s,o,u])}(c,{replace:o,state:u,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});return a.createElement("a",Et({},p,{href:n||y,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:l}))}));var Vt,jt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vt||(Vt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(jt||(jt={}));var zt=n(391),Bt=n(237),Kt=a,Gt=Symbol.for("react-redux-context"),Wt="undefined"!==typeof globalThis?globalThis:{};function Ht(){var e;if(!Kt.createContext)return{};const t=null!==(e=Wt[Gt])&&void 0!==e?e:Wt[Gt]=new Map;let n=t.get(Kt.createContext);return n||(n=Kt.createContext(null),t.set(Kt.createContext,n)),n}var Qt=Ht(),Yt=()=>{throw new Error("uSES not initialized!")};function Xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;return function(){return Kt.useContext(e)}}var Jt=Xt(),$t=Yt,Zt=(e,t)=>e===t;function en(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=e===Qt?Jt:Xt(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=Zt,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:s,subscription:a,getServerState:o,stabilityCheck:u,identityFunctionCheck:l}=t(),c=(Kt.useRef(!0),Kt.useCallback({[e.name]:t=>e(t)}[e.name],[e,u,i.stabilityCheck])),d=$t(a.addNestedSub,s.getState,o||s.getState,c,r);return Kt.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var tn=en();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function nn(e){e()}var rn={notify(){},get:()=>[]};function sn(e,t){let n,r=rn,i=0,s=!1;function a(){l.onStateChange&&l.onStateChange()}function o(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nn((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function u(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=rn)}const l={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),u())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,o())},tryUnsubscribe:function(){s&&(s=!1,u())},getListeners:()=>r};return l}var an=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),on="undefined"!==typeof navigator&&"ReactNative"===navigator.product,un=an||on?Kt.useLayoutEffect:Kt.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var ln=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:s="once",identityFunctionCheck:a="once"}=e;const o=Kt.useMemo((()=>{const e=sn(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:s,identityFunctionCheck:a}}),[t,i,s,a]),u=Kt.useMemo((()=>t.getState()),[t]);un((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);const l=n||Qt;return Kt.createElement(l.Provider,{value:o},r)};function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=e===Qt?Jt:Xt(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var dn=cn();function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=e===Qt?dn:cn(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var fn=hn();(e=>{$t=e})(Bt.useSyncExternalStoreWithSelector),(e=>{e})(a.useSyncExternalStore);var pn=Symbol.for("immer-nothing"),mn=Symbol.for("immer-draftable"),gn=Symbol.for("immer-state");function vn(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var yn=Object.getPrototypeOf;function bn(e){return!!e&&!!e[gn]}function wn(e){var t;return!!e&&(In(e)||Array.isArray(e)||!!e[mn]||!(null===(t=e.constructor)||void 0===t||!t[mn])||Cn(e)||xn(e))}var _n=Object.prototype.constructor.toString();function In(e){if(!e||"object"!==typeof e)return!1;const t=yn(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===_n}function Sn(e,t){0===En(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function En(e){const t=e[gn];return t?t.type_:Array.isArray(e)?1:Cn(e)?2:xn(e)?3:0}function Tn(e,t){return 2===En(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kn(e,t,n){const r=En(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Cn(e){return e instanceof Map}function xn(e){return e instanceof Set}function Nn(e){return e.copy_||e.base_}function An(e,t){if(Cn(e))return new Map(e);if(xn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=In(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[gn];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],s=t[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(yn(e),t)}{const t=yn(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Dn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Rn(e)||bn(e)||!wn(e)||(En(e)>1&&(e.set=e.add=e.clear=e.delete=Pn),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Dn(n,!0)}))),e}function Pn(){vn(2)}function Rn(e){return Object.isFrozen(e)}var On,Mn={};function Ln(e){const t=Mn[e];return t||vn(0),t}function qn(){return On}function Fn(e,t){t&&(Ln("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Un(e){Vn(e),e.drafts_.forEach(zn),e.drafts_=null}function Vn(e){e===On&&(On=e.parent_)}function jn(e){return On={drafts_:[],parent_:On,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zn(e){const t=e[gn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Bn(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[gn].modified_&&(Un(t),vn(4)),wn(e)&&(e=Kn(t,e),t.parent_||Wn(t,e)),t.patches_&&Ln("Patches").generateReplacementPatches_(n[gn].base_,e,t.patches_,t.inversePatches_)):e=Kn(t,n,[]),Un(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pn?e:void 0}function Kn(e,t,n){if(Rn(t))return t;const r=t[gn];if(!r)return Sn(t,((i,s)=>Gn(e,r,t,i,s,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Wn(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,s=!1;3===r.type_&&(i=new Set(t),t.clear(),s=!0),Sn(i,((i,a)=>Gn(e,r,t,i,a,n,s))),Wn(e,t,!1),n&&e.patches_&&Ln("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Gn(e,t,n,r,i,s,a){if(bn(i)){const a=Kn(e,i,s&&t&&3!==t.type_&&!Tn(t.assigned_,r)?s.concat(r):void 0);if(kn(n,r,a),!bn(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(wn(i)&&!Rn(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Kn(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Wn(e,i)}}function Wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Dn(t,n)}var Hn={get(e,t){if(t===gn)return e;const n=Nn(e);if(!Tn(n,t))return function(e,t,n){var r;const i=Xn(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!wn(r)?r:r===Yn(e.base_,t)?($n(e),e.copy_[t]=Zn(r,e)):r},has:(e,t)=>t in Nn(e),ownKeys:e=>Reflect.ownKeys(Nn(e)),set(e,t,n){const r=Xn(Nn(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Yn(Nn(e),t),i=null===r||void 0===r?void 0:r[gn];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||Tn(e.base_,t)))return!0;$n(e),Jn(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Yn(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,$n(e),Jn(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Nn(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){vn(11)},getPrototypeOf:e=>yn(e.base_),setPrototypeOf(){vn(12)}},Qn={};function Yn(e,t){const n=e[gn];return(n?Nn(n):e)[t]}function Xn(e,t){if(!(t in e))return;let n=yn(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=yn(n)}}function Jn(e){e.modified_||(e.modified_=!0,e.parent_&&Jn(e.parent_))}function $n(e){e.copy_||(e.copy_=An(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Sn(Hn,((e,t)=>{Qn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Qn.deleteProperty=function(e,t){return Qn.set.call(this,e,t,void 0)},Qn.set=function(e,t,n){return Hn.set.call(this,e[0],t,n,e[0])};function Zn(e,t){const n=Cn(e)?Ln("MapSet").proxyMap_(e,t):xn(e)?Ln("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qn(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Hn;n&&(i=[r],s=Qn);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}(e,t);return(t?t.scope_:qn()).drafts_.push(n),n}function er(e){return bn(e)||vn(10),tr(e)}function tr(e){if(!wn(e)||Rn(e))return e;const t=e[gn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=An(e,t.scope_.immer_.useStrictShallowCopy_)}else n=An(e,!0);return Sn(n,((e,t)=>{kn(n,e,tr(t))})),t&&(t.finalized_=!1),n}var nr=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...s)))}}let r;if("function"!==typeof t&&vn(6),void 0!==n&&"function"!==typeof n&&vn(7),wn(e)){const i=jn(this),s=Zn(e,void 0);let a=!0;try{r=t(s),a=!1}finally{a?Un(i):Vn(i)}return Fn(i,n),Bn(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===pn&&(r=void 0),this.autoFreeze_&&Dn(r,!0),n){const t=[],i=[];Ln("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}vn(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;const s=this.produce(e,n,((e,t)=>{r=e,i=t}));return[s,r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wn(e)||vn(8),bn(e)&&(e=er(e));const t=jn(this),n=Zn(e,void 0);return n[gn].isManual_=!0,Vn(t),n}finishDraft(e,t){const n=e&&e[gn];n&&n.isManual_||vn(9);const{scope_:r}=n;return Fn(r,t),Bn(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Ln("Patches").applyPatches_;return bn(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},rr=nr.produce;nr.produceWithPatches.bind(nr),nr.setAutoFreeze.bind(nr),nr.setUseStrictShallowCopy.bind(nr),nr.applyPatches.bind(nr),nr.createDraft.bind(nr),nr.finishDraft.bind(nr);function ir(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var sr=e=>Array.isArray(e)?e:[e];function ar(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var or="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},ur=0,lr=1;function cr(){return{s:ur,v:void 0,o:null,p:null}}function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=cr();const{resultEqualityCheck:r}=t;let i,s=0;function a(){let t=n;const{length:a}=arguments;for(let e=0,n=a;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=cr(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=cr(),e.set(n,t)):t=r}}const o=t;let u;if(t.s===lr)u=t.v;else if(u=e.apply(null,arguments),s++,r){var l,c,d;const e=null!==(l=null===(c=i)||void 0===c||null===(d=c.deref)||void 0===d?void 0:d.call(c))&&void 0!==l?l:i;null!=e&&r(e,u)&&(u=e,0!==s&&s--);i="object"===typeof u&&null!==u||"function"===typeof u?new or(u):u}return o.s=lr,o.v=u,u}return a.clearCache=()=>{n=cr(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i="function"===typeof e?{memoize:e,memoizeOptions:n}:e,s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r,s=0,a=0,o={},u=t.pop();"object"===typeof u&&(o=u,u=t.pop()),ir(u,"createSelector expects an output function after the inputs, but received: [".concat(typeof u,"]"));const l={...i,...o},{memoize:c,memoizeOptions:d=[],argsMemoize:h=dr,argsMemoizeOptions:f=[],devModeChecks:p={}}=l,m=sr(d),g=sr(f),v=ar(t),y=c((function(){return s++,u.apply(null,arguments)}),...m);const b=h((function(){a++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(v,arguments);return r=y.apply(null,e),r}),...g);return Object.assign(b,{resultFunc:u,memoizedResultFunc:y,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:c,argsMemoize:h})};return Object.assign(s,{withTypes:()=>s}),s}var fr=hr(dr),pr=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>pr});function mr(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var gr=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),vr=()=>Math.random().toString(36).substring(7).split("").join("."),yr={INIT:"@@redux/INIT".concat(vr()),REPLACE:"@@redux/REPLACE".concat(vr()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(vr())};function br(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function wr(e,t,n){if("function"!==typeof e)throw new Error(mr(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(mr(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(mr(1));return n(wr)(e,t)}let r=e,i=t,s=new Map,a=s,o=0,u=!1;function l(){a===s&&(a=new Map,s.forEach(((e,t)=>{a.set(t,e)})))}function c(){if(u)throw new Error(mr(3));return i}function d(e){if("function"!==typeof e)throw new Error(mr(4));if(u)throw new Error(mr(5));let t=!0;l();const n=o++;return a.set(n,e),function(){if(t){if(u)throw new Error(mr(6));t=!1,l(),a.delete(n),s=null}}}function h(e){if(!br(e))throw new Error(mr(7));if("undefined"===typeof e.type)throw new Error(mr(8));if("string"!==typeof e.type)throw new Error(mr(17));if(u)throw new Error(mr(9));try{u=!0,i=r(i,e)}finally{u=!1}return(s=a).forEach((e=>{e()})),e}h({type:yr.INIT});return{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(mr(10));r=e,h({type:yr.REPLACE})},[gr]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(mr(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[gr](){return this}}}}}function _r(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:yr.INIT}))throw new Error(mr(12));if("undefined"===typeof n(void 0,{type:yr.PROBE_UNKNOWN_ACTION()}))throw new Error(mr(13))}))}(n)}catch(xx){i=xx}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let s=!1;const a={};for(let i=0;i<r.length;i++){const o=r[i],u=n[o],l=e[o],c=u(l,t);if("undefined"===typeof c){t&&t.type;throw new Error(mr(14))}a[o]=c,s=s||c!==l}return s=s||r.length!==Object.keys(e).length,s?a:e}}function Ir(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function Sr(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Er=Sr(),Tr=Sr,kr=(function(){const e=hr(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t(bn(e)?er(e):e,...r)};return Object.assign(n,t),n}),{withTypes:()=>t})}(dr),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ir:Ir.apply(null,arguments)});"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Cr(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Zr(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return br(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var xr=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Nr(e){return wn(e)?rr(e,(()=>{})):e}function Ar(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(Zr(10));const r=n.insert(t,e);return e.set(t,r),r}var Dr="RTK_autoBatch",Pr=e=>t=>{setTimeout(t,e)},Rr="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Pr(10),Or=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new xr(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,s=!1;const a=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?Rr:"callback"===e.type?e.queueNotification:Pr(e.timeout),u=()=>{s=!1,i&&(i=!1,a.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Dr]),i=!r,i&&(s||(s=!0,o(u))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function Mr(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Zr(28));if(r in t)throw new Error(Zr(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Lr=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var qr=Symbol.for("rtk-slice-createasyncthunk");function Fr(e,t){return"".concat(e,"/").concat(t)}function Ur(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[qr];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Zr(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Zr(12));if(n in a.sliceCaseReducersByType)throw new Error(Zr(13));return a.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(a.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,o)};function u(){const[t={},n=[],r]="function"===typeof e.extraReducers?Mr(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,s]=Mr(t);if(function(e){return"function"===typeof e}(e))n=()=>Nr(e());else{const t=Nr(e);n=()=>t}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,a=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===a.filter((e=>!!e)).length&&(a=[s]),a.reduce(((e,n)=>{if(n){if(bn(e)){const r=n(e,t);return void 0===r?e:r}if(wn(e))return rr(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(Zr(9))}return r}}return e}),e)}return a.getInitialState=n,a}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}s.forEach((r=>{const s=i[r],a={reducerName:r,type:Fr(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(s)?function(e,t,n){let r,i,{type:s,reducerName:a,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Zr(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(s,r).exposeCaseReducer(a,r).exposeAction(a,i?Cr(s,i):Cr(s))}(a,s,o):function(e,t,n,r){let{type:i,reducerName:s}=e;if(!r)throw new Error(Zr(18));const{payloadCreator:a,fulfilled:o,pending:u,rejected:l,settled:c,options:d}=t,h=r(i,a,d);n.exposeAction(s,h),o&&n.addCase(h.fulfilled,o);u&&n.addCase(h.pending,u);l&&n.addCase(h.rejected,l);c&&n.addMatcher(h.settled,c);n.exposeCaseReducer(s,{fulfilled:o||zr,pending:u||zr,rejected:l||zr,settled:c||zr})}(a,s,o,n)}));const l=e=>e,c=new Map;let d;function h(e,t){return d||(d=u()),d(e,t)}function f(){return d||(d=u()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=f()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;const r=Ar(c,n,{insert:()=>new WeakMap});return Ar(r,t,{insert:()=>{const r={};for(const[s,a]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[s]=Vr(a,t,f,n)}return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const m={name:t,reducer:h,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=null!==t&&void 0!==t?t:r;return e.inject({reducerPath:i,reducer:h},n),{...m,...p(i,!0)}}};return m}}function Vr(e,t,n,r){function i(i){let s=t(i);"undefined"===typeof s&&r&&(s=n());for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return e(s,...o)}return i.unwrapped=e,i}var jr=Ur();function zr(){}var Br="listener",Kr="completed",Gr="cancelled",Wr=("task-".concat(Gr),"task-".concat(Kr),"".concat(Br,"-").concat(Gr),"".concat(Br,"-").concat(Kr),(e,t)=>{if("function"!==typeof e)throw new Error(Zr(32))});var{assign:Hr}=Object,Qr="listenerMiddleware",Yr=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Cr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Zr(21));return Wr(s),{predicate:i,type:t,effect:s}},Xr=Object.assign((e=>{const{type:t,predicate:n,effect:r}=Yr(e);return{id:Lr(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}}),{withTypes:()=>Xr}),Jr=Object.assign(Cr("".concat(Qr,"/add")),{withTypes:()=>Jr}),$r=(Cr("".concat(Qr,"/removeAll")),Object.assign(Cr("".concat(Qr,"/remove")),{withTypes:()=>$r}));Symbol.for("rtk-state-proxy-original");function Zr(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const ei=jr({name:"app",initialState:{currentPage:1,perPage:10,author:null,blogId:null,totalBlogs:0},reducers:{setPage:(e,t)=>{e.currentPage=t.payload},prevPage:(e,t)=>{e.currentPage=Math.max(0,e.currentPage-1)},nextPage:(e,t)=>{e.currentPage=Math.max(0,e.currentPage+1)},setPerPage:(e,t)=>{e.perPage=t.payload},setAuthor:(e,t)=>{e.author=t.payload},setBlogId:(e,t)=>{e.blogId=t.payload},setTotal:(e,t)=>{e.totalBlogs=t.payload}}}),ti=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let s=new xr;return t&&(function(e){return"boolean"===typeof e}(t)?s.push(Er):s.push(Tr(t.extraArgument))),s},{reducer:n,middleware:r,devTools:i=!0,preloadedState:s,enhancers:a}=e||{};let o,u;if("function"===typeof n)o=n;else{if(!br(n))throw new Error(Zr(1));o=_r(n)}u="function"===typeof r?r(t):t();let l=Ir;i&&(l=kr({trace:!1,..."object"===typeof i&&i}));const c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(mr(15))};const a={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(e,...n)}},o=t.map((e=>e(a)));return s=Ir(...o)(i.dispatch),{...i,dispatch:s}}}(...u),d=Or(c);let h="function"===typeof a?a(d):d();return wr(o,s,l(...h))}({reducer:{app:ei.reducer}}),{setPage:ni,prevPage:ri,nextPage:ii,setAuthor:si,setBlogId:ai,setTotal:oi}=ei.actions,ui=e=>e.app.currentPage,li=e=>e.app.perPage,ci=e=>e.app.totalBlogs,di=fn.withTypes(),hi=(ei.reducer,{blogs:[{profile:{},id:1,title:"First Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:2,title:"Second Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:3,title:"Third Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:4,title:"Fourth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:5,title:"Fifth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:6,title:"Sixth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:7,title:"Seventh Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:8,title:"Eighth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:9,title:"Ninth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:10,title:"Tenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:11,title:"Eleventh Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:12,title:"Twelth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:13,title:"Thirteenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:14,title:"Fourteenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."},{profile:{},id:15,title:"Fifteenth Blog Post",profileId:1,content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur semper varius felis, eget tempus eros condimentum at. Nullam ut nibh non ante ornare varius. Mauris consequat nunc massa, in vestibulum felis elementum vel. Sed finibus, mauris eu tincidunt condimentum, nisl ligula dignissim risus, id dictum nulla dolor sed ante. Curabitur malesuada congue libero id maximus. Praesent sit amet diam ligula. Donec imperdiet ex eget elit vestibulum, eget rutrum ante euismod. Quisque suscipit condimentum dolor ac imperdiet. Nunc dolor eros, ultrices a viverra fermentum, auctor eget libero. Donec vitae ornare mauris. Morbi ac accumsan erat, et vulputate tortor. Ut malesuada iaculis sapien varius malesuada. Aliquam iaculis mi in ligula consectetur consequat. Fusce libero arcu, congue nec nisl a, mollis congue sem. Nulla quis odio et lectus pretium tristique. Sed sollicitudin nec quam ac cursus. In blandit scelerisque tellus. Maecenas aliquam enim et efficitur vestibulum. Maecenas semper erat nisi, at luctus velit feugiat a. Curabitur venenatis eget arcu et aliquet. Cras accumsan mauris sed quam dictum, vitae iaculis purus elementum. Proin placerat dictum lacus, a sollicitudin ligula tristique sit amet. Maecenas ac aliquam nisl. Suspendisse semper suscipit lacus, et pharetra lacus volutpat eget. Mauris hendrerit dui mauris. Cras consectetur erat sed pulvinar luctus. Proin mauris lectus, dapibus non magna pellentesque, accumsan gravida tortor. Phasellus sed metus quis enim consectetur eleifend. Nullam at tristique tellus, at vulputate sem. Donec sed aliquet nunc. Etiam vestibulum massa neque, ut ultrices augue varius ut. Quisque molestie mauris a finibus laoreet. Sed et mi ut ligula rutrum consequat. Maecenas eu ipsum vitae dui consectetur ullamcorper. Duis a ipsum mauris. Integer sagittis sem sed facilisis ultrices. Pellentesque eget luctus nisi, a tempor ex. Praesent felis elit, fringilla et felis vitae, varius lobortis ipsum. Suspendisse tempus mollis ligula, id congue mi suscipit quis. Suspendisse auctor malesuada feugiat. Duis at tristique purus. Etiam a tristique odio, at ornare elit. Nulla varius, justo sed condimentum consequat, lacus dui mattis erat, non laoreet tellus quam vitae eros. Donec pulvinar nisi nulla, dapibus mollis ex tempus tempor. Praesent scelerisque urna non metus consectetur ullamcorper. In hac habitasse platea dictumst. Nulla nisi justo, elementum nec semper ac, laoreet nec nisi. Vivamus rhoncus dui et mattis ultrices. Vivamus ut accumsan urna, id accumsan ex. Nullam tristique est a venenatis tristique. Cras urna dui, mattis eget porttitor id, facilisis cursus ligula. In non consectetur mauris. Aliquam libero ex, venenatis faucibus facilisis eu, rhoncus consequat dolor. In ut dolor mi. Suspendisse potenti. Curabitur aliquet auctor odio, at ullamcorper neque laoreet quis. Morbi sagittis ex porttitor, vulputate magna in, ornare ligula. In cursus venenatis maximus. Ut efficitur elementum vestibulum. Vivamus ornare sagittis quam ac porta. Vivamus sed libero commodo lectus aliquet laoreet. Donec blandit suscipit ullamcorper."}],comments:[{profile:{},id:1,title:"This is my comment",profileId:1,blogId:1}],profiles:[{id:1,name:"Mordist"}]});const fi=new class{constructor(){this.commentsCache=[],this.blogCache=[],this.allBlogCache=[]}async getAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(hi.blogs){for(let e=0;e<hi.blogs.length;e++)hi.blogs[e].profile=await this.getProfileById(hi.blogs[e].profileId);return hi.blogs}if(this.allBlogCache[t]&&this.allBlogCache[t][e])return this.allBlogCache[t][e];const n="http://localhost:3001/blogs?_page=".concat(t,"&_limit=").concat(e,"&_expand=profile");return await fetch(n,{method:"GET"}).then((e=>e.json())).then((n=>(Array.isArray(this.allBlogCache[t])||(this.allBlogCache[t]=[]),this.allBlogCache[t][e]=n,n)))}async getOne(e){if(hi.blogs){for(let t=0;t<hi.blogs.length;t++)if(hi.blogs[t].id===parseInt(e))return[hi.blogs[t]];return[hi.blogs[0]]}return this.blogCache[parseInt(e)]?[this.blogCache[parseInt(e)]]:await fetch("http://localhost:3001/blogs/"+e+"?_embed=profile",{method:"GET"}).then((e=>e.json())).then((t=>(this.blogCache[parseInt(e)]=t,[t])))}async getProfileById(e){if(hi.profiles){for(let t=0;t<hi.profiles.length;t++)if(hi.profiles[t].id===e)return hi.profiles[t];return hi.profiles[0]}}async getByProfileId(e){if(hi.blogs){let t=[];for(let n=0;n<hi.blogs.length;n++)hi.blogs[n].profileId===e&&t.push(hi.blogs[n]);return t}return hi.profiles?hi.profiles[0]:await fetch("http://localhost:3001/blogs?profileId=".concat(e,"&_expand=profile"),{method:"GET"}).then((e=>e.json())).then((e=>e))}async getProfiles(){return await fetch("http://localhost:3001/profiles").then((e=>e.json())).then((e=>e))}async getCommentsByBlog(e){if(hi.comments){let t=[];for(let n=0;n<hi.comments.length;n++)if(hi.comments[n].blogId===e){const e=hi.comments[n];e.profile=await this.getProfileById(e.profileId),t.push(e)}return t}return this.commentsCache[e]&&Array.isArray(this.commentsCache[e])?this.commentsCache[e]:await fetch("http://localhost:3001/comments?blogId=".concat(e,"&_expand=profile")).then((e=>e.json())).then((t=>(this.commentsCache[e]=t,t)))}},pi=fi;var mi=n(579);function gi(){const[e,t]=(0,a.useState)([]);return(0,a.useEffect)((()=>{pi.getProfiles().then((e=>{t(e)}))}),[]),(0,mi.jsxs)(mi.Fragment,{children:[(0,mi.jsx)("h1",{children:"Authors"}),e.map((e=>(0,mi.jsx)("h3",{children:(0,mi.jsx)(Ut,{to:"/author/"+e.id,className:"item-link",children:e.name})},e.id)))]})}function vi(e,t){const n=di();let r=[];const[i,s]=[tn(ci),tn(li)],a=Math.floor(i/s);for(let o=0;o<=a;o++)r.push(o);return(0,mi.jsx)("nav",{"aria-label":"Page Pagination",className:"mx-auto mt-5",children:(0,mi.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,mi.jsx)("li",{className:"page-item",children:(0,mi.jsx)("button",{className:"page-link",onClick:()=>n(ri(1)),children:"Previous"})},"prev"),r.map((e=>(0,mi.jsx)("li",{className:"page-item",children:(0,mi.jsx)("button",{className:"page-link",onClick:()=>n(ni(e+1)),children:e+1})},e))),(0,mi.jsx)("li",{className:"page-item",children:(0,mi.jsx)("button",{className:"page-link",onClick:()=>n(ii(2)),children:"Next"})},"next")]})})}const yi=(e,t,n,r,i,s)=>{e.author&&null!==e.author?pi.getByProfileId(parseInt(e.author)).then((e=>{r(e),i(!1)})).catch((e=>{console.log("profileId error = ",e),s(!0),i(!1)})):e.id&&null!==e.id?pi.getOne(e.id).then((e=>{r(e),i(!1)})).catch((e=>{console.log("getOne error : ",e),i(!1),s(!0)})):pi.getAll(t,n).then((e=>{r(e),i(!1)})).catch((e=>{console.log("getAll error = ",e),s(!0),i(!1)}))};function bi(e){const t=tn(ui),n=tn(li),{blogs:r,setBlogs:i,loading:s,setLoading:o,error:u,setError:l}=_i();return a.useEffect((()=>{yi(e,n,t,i,o,l)}),[e,n,t]),(0,mi.jsx)(mi.Fragment,{children:s?(0,mi.jsx)("h1",{children:"Loading..."}):u?(0,mi.jsx)("h1",{className:"error",children:"ERROR FOUND!"}):(0,mi.jsxs)(mi.Fragment,{children:[r.map((e=>{var t,n;return(0,mi.jsx)("div",{className:"card mb-2",children:(0,mi.jsx)("div",{className:"blog-post card-body",children:(0,mi.jsxs)("div",{className:"row",children:[(0,mi.jsx)("div",{className:"col-6 blog-title card-text",children:(0,mi.jsx)(Ut,{to:"/blog/".concat(e.id),children:e.title})}),(0,mi.jsxs)("div",{className:"col-6 blog-author card-text",children:["By ",(0,mi.jsx)(Ut,{to:"/author/".concat(null===(t=e.profile)||void 0===t?void 0:t.id),children:(null===(n=e.profile)||void 0===n?void 0:n.name)||"error"})]})]})})},e.id)})),(0,mi.jsx)(vi,{baseUrl:"/",start:t||0,perPage:n||10,total:r.length/(n||10)})]})})}function wi(){const e=ot(),[t,n]=(0,a.useState)([]);return(0,a.useEffect)((()=>{e&&e.id&&pi.getCommentsByBlog(parseInt(e.id)).then((e=>{n(e)}))}),[]),(0,mi.jsxs)(mi.Fragment,{children:[(0,mi.jsx)("h4",{className:"mt-4",children:"Comments"}),t.map((e=>{var t;return(0,mi.jsx)("div",{className:"card w-100",children:(0,mi.jsxs)("div",{className:"d-flex p-2",children:[(0,mi.jsx)("div",{className:"card-text flex-fill",children:e.title}),(0,mi.jsx)("div",{className:"card-text flex-fill",children:null===(t=e.profile)||void 0===t?void 0:t.name})]})},e.id)}))]})}function _i(){const[e,t]=a.useState([]),[n,r]=a.useState(!0),[i,s]=a.useState(!1);return{blogs:e,setBlogs:t,loading:n,setLoading:r,error:i,setError:s}}function Ii(){var e,t;let n=ot();const r=tn(ui),i=tn(li),{blogs:s,setBlogs:o,loading:u,setLoading:l,error:c,setError:d}=_i();(0,a.useEffect)((()=>{yi(n,i,r,o,l,d)}),[]);const h=s[0];return(0,mi.jsx)(mi.Fragment,{children:u||c?null:(0,mi.jsxs)("div",{children:[(0,mi.jsxs)("div",{className:"blog-post mt-22",children:[(0,mi.jsx)("div",{className:"blog-title",children:(0,mi.jsx)("h3",{children:(0,mi.jsx)(Ut,{to:"/blog/".concat(h.id),children:h.title})})}),Array.isArray(h.profile)?(0,mi.jsx)("p",{className:"error",children:"Error"}):(0,mi.jsx)("div",{className:"blog-author",children:(0,mi.jsx)(Ut,{to:"/author/".concat(null===(e=h.profile)||void 0===e?void 0:e.id),children:null===(t=h.profile)||void 0===t?void 0:t.name})}),(0,mi.jsx)("div",{className:"blog-content",children:h.content})]}),(0,mi.jsx)(wi,{})]},h.id)})}function Si(){return(0,mi.jsx)("div",{className:"container mt-5 mb-5 bg-secondary text-white-50",children:(0,mi.jsxs)("div",{className:"row",children:[(0,mi.jsx)("div",{className:"col",children:(0,mi.jsxs)("div",{className:"vstack",children:[(0,mi.jsx)("div",{className:"",children:"Static"}),(0,mi.jsx)("div",{className:"",children:(0,mi.jsx)(Ut,{to:"/about",className:"text-white",children:"About"})}),(0,mi.jsx)("div",{className:"",children:(0,mi.jsx)(Ut,{to:"/",className:"text-white",children:"Sitemap"})}),(0,mi.jsx)("div",{className:"",children:(0,mi.jsx)(Ut,{to:"/",className:"text-white",children:"Contact"})}),(0,mi.jsx)("div",{className:"",children:(0,mi.jsx)(Ut,{to:"/",className:"text-white",children:"FAQ"})})]})}),(0,mi.jsx)("div",{className:"col",children:(0,mi.jsxs)("div",{className:"vstack",children:[(0,mi.jsx)("div",{className:"",children:"Content"}),(0,mi.jsx)("div",{className:"",children:(0,mi.jsx)(Ut,{to:"/",className:"text-white",children:"Blog"})}),(0,mi.jsx)("div",{className:"",children:(0,mi.jsx)(Ut,{to:"/authors",className:"text-white",children:"Authors"})})]})})]})})}const Ei=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ti={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,u=o?e[i+2]:0,l=t>>2,c=(3&t)<<4|a>>4;let d=(15&a)<<2|u>>6,h=63&u;o||(h=64,s||(d=64)),r.push(n[l],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ei(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new ki;const u=t<<2|s>>4;if(r.push(u),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ki extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ci=function(e){return function(e){const t=Ei(e);return Ti.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xi=function(e){try{return Ti.decodeString(e,!0)}catch(xx){console.error("base64Decode failed: ",xx)}return null};function Ni(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ni(e[n],t[n]));return e}const Ai=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Di=()=>{try{return Ai()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/react-blog/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(xx){return}const t=e&&xi(e[1]);return t&&JSON.parse(t)})()}catch(xx){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(xx))}},Pi=()=>{var e;return null===(e=Di())||void 0===e?void 0:e.config};class Ri{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Oi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Mi(){var e;const t=null===(e=Di())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(xx){return!1}}function Li(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function qi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Fi(){const e=Oi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ui(){try{return"object"===typeof indexedDB}catch(xx){return!1}}class Vi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ji.prototype.create)}}class ji{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(zi,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Vi(n,s,t)}}const zi=/\{\$([^}]+)}/g;function Bi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ki(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Gi(n)&&Gi(s)){if(!Ki(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gi(e){return null!==e&&"object"===typeof e}function Wi(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Hi(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Qi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Yi(e,t){const n=new Xi(e,t);return n.subscribe.bind(n)}class Xi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ji),void 0===r.error&&(r.error=Ji),void 0===r.complete&&(r.complete=Ji);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(xx){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(xx){"undefined"!==typeof console&&console.error&&console.error(xx)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ji(){}function $i(e){return e&&e._delegate?e._delegate:e}class Zi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const es="[DEFAULT]";class ts{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ri;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(xx){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(xx){if(r)return null;throw xx}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch(xx){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(xx){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(IT){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===es?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(IT){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:es;return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ns{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ts(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const rs=[];var is;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(is||(is={}));const ss={debug:is.DEBUG,verbose:is.VERBOSE,info:is.INFO,warn:is.WARN,error:is.ERROR,silent:is.SILENT},as=is.INFO,os={[is.DEBUG]:"log",[is.VERBOSE]:"log",[is.INFO]:"info",[is.WARN]:"warn",[is.ERROR]:"error"},us=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=os[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class ls{constructor(e){this.name=e,this._logLevel=as,this._logHandler=us,this._userLogHandler=null,rs.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in is))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ss[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,is.DEBUG,...t),this._logHandler(this,is.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,is.VERBOSE,...t),this._logHandler(this,is.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,is.INFO,...t),this._logHandler(this,is.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,is.WARN,...t),this._logHandler(this,is.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,is.ERROR,...t),this._logHandler(this,is.ERROR,...t)}}const cs=(e,t)=>t.some((t=>e instanceof t));let ds,hs;const fs=new WeakMap,ps=new WeakMap,ms=new WeakMap,gs=new WeakMap,vs=new WeakMap;let ys={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ps.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ms.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function bs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hs||(hs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Is(this),n),_s(fs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _s(e.apply(Is(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Is(this),t,...r);return ms.set(s,t.sort?t.sort():[t]),_s(s)}}function ws(e){return"function"===typeof e?bs(e):(e instanceof IDBTransaction&&function(e){if(ps.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));ps.set(e,t)}(e),cs(e,ds||(ds=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,ys):e)}function _s(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(_s(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&fs.set(t,e)})).catch((()=>{})),vs.set(t,e),t}(e);if(gs.has(e))return gs.get(e);const t=ws(e);return t!==e&&(gs.set(e,t),vs.set(t,e)),t}const Is=e=>vs.get(e);const Ss=["get","getKey","getAll","getAllKeys","count"],Es=["put","add","delete","clear"],Ts=new Map;function ks(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ts.get(t))return Ts.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Es.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ss.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ts.set(t,s),s}ys=(e=>({...e,get:(t,n,r)=>ks(t,n)||e.get(t,n,r),has:(t,n)=>!!ks(t,n)||e.has(t,n)}))(ys);class Cs{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const xs="@firebase/app",Ns="0.9.13",As=new ls("@firebase/app"),Ds="@firebase/app-compat",Ps="@firebase/analytics-compat",Rs="@firebase/analytics",Os="@firebase/app-check-compat",Ms="@firebase/app-check",Ls="@firebase/auth",qs="@firebase/auth-compat",Fs="@firebase/database",Us="@firebase/database-compat",Vs="@firebase/functions",js="@firebase/functions-compat",zs="@firebase/installations",Bs="@firebase/installations-compat",Ks="@firebase/messaging",Gs="@firebase/messaging-compat",Ws="@firebase/performance",Hs="@firebase/performance-compat",Qs="@firebase/remote-config",Ys="@firebase/remote-config-compat",Xs="@firebase/storage",Js="@firebase/storage-compat",$s="@firebase/firestore",Zs="@firebase/firestore-compat",ea="firebase",ta="[DEFAULT]",na={[xs]:"fire-core",[Ds]:"fire-core-compat",[Rs]:"fire-analytics",[Ps]:"fire-analytics-compat",[Ms]:"fire-app-check",[Os]:"fire-app-check-compat",[Ls]:"fire-auth",[qs]:"fire-auth-compat",[Fs]:"fire-rtdb",[Us]:"fire-rtdb-compat",[Vs]:"fire-fn",[js]:"fire-fn-compat",[zs]:"fire-iid",[Bs]:"fire-iid-compat",[Ks]:"fire-fcm",[Gs]:"fire-fcm-compat",[Ws]:"fire-perf",[Hs]:"fire-perf-compat",[Qs]:"fire-rc",[Ys]:"fire-rc-compat",[Xs]:"fire-gcs",[Js]:"fire-gcs-compat",[$s]:"fire-fst",[Zs]:"fire-fst-compat","fire-js":"fire-js",[ea]:"fire-js-all"},ra=new Map,ia=new Map;function sa(e,t){try{e.container.addComponent(t)}catch(xx){As.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),xx)}}function aa(e,t){e.container.addOrOverwriteComponent(t)}function oa(e){const t=e.name;if(ia.has(t))return As.debug("There were multiple attempts to register component ".concat(t,".")),!1;ia.set(t,e);for(const n of ra.values())sa(n,e);return!0}function ua(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function la(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ta;ua(e,t).clearInstance(n)}function ca(){ia.clear()}const da=new ji("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ha{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zi("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw da.create("app-deleted",{appName:this._name})}}const fa="9.23.0";function pa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ta,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw da.create("bad-app-name",{appName:String(i)});if(n||(n=Pi()),!n)throw da.create("no-options");const s=ra.get(i);if(s){if(Ki(n,s.options)&&Ki(r,s.config))return s;throw da.create("duplicate-app",{appName:i})}const a=new ns(i);for(const u of ia.values())a.addComponent(u);const o=new ha(n,r,a);return ra.set(i,o),o}function ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta;const t=ra.get(e);if(!t&&e===ta&&Pi())return pa();if(!t)throw da.create("no-app",{appName:e});return t}function ga(){return Array.from(ra.values())}async function va(e){const t=e.name;ra.has(t)&&(ra.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ya(e,t,n){var r;let i=null!==(r=na[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void As.warn(e.join(" "))}oa(new Zi("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function ba(e,t){if(null!==e&&"function"!==typeof e)throw da.create("invalid-log-argument");!function(e,t){for(const n of rs){let r=null;t&&t.level&&(r=ss[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:is[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function wa(e){var t;t=e,rs.forEach((e=>{e.setLogLevel(t)}))}const _a="firebase-heartbeat-database",Ia=1,Sa="firebase-heartbeat-store";let Ea=null;function Ta(){return Ea||(Ea=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=_s(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(_s(a.result),e.oldVersion,e.newVersion,_s(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(_a,Ia,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Sa)}}).catch((e=>{throw da.create("idb-open",{originalErrorMessage:e.message})}))),Ea}async function ka(e,t){try{const n=(await Ta()).transaction(Sa,"readwrite"),r=n.objectStore(Sa);await r.put(t,Ca(e)),await n.done}catch(xx){if(xx instanceof Vi)As.warn(xx.message);else{const t=da.create("idb-set",{originalErrorMessage:null===xx||void 0===xx?void 0:xx.message});As.warn(t.message)}}}function Ca(e){return"".concat(e.name,"!").concat(e.options.appId)}class xa{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Aa(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Na();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Na(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Da(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Da(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Ci(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Na(){return(new Date).toISOString().substring(0,10)}class Aa{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ui()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ta();return await t.transaction(Sa).objectStore(Sa).get(Ca(e))}catch(xx){if(xx instanceof Vi)As.warn(xx.message);else{const t=da.create("idb-get",{originalErrorMessage:null===xx||void 0===xx?void 0:xx.message});As.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ka(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ka(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Da(e){return Ci(JSON.stringify({version:2,heartbeats:e})).length}var Pa;Pa="",oa(new Zi("platform-logger",(e=>new Cs(e)),"PRIVATE")),oa(new Zi("heartbeat",(e=>new xa(e)),"PRIVATE")),ya(xs,Ns,Pa),ya(xs,Ns,"esm2017"),ya("fire-js","");class Ra{constructor(e,t){this._delegate=e,this.firebase=t,sa(e,new Zi("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),va(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ta;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ta;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){sa(this._delegate,e)}_addOrOverwriteComponent(e){aa(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oa=new ji("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Ma=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r){const i=pa(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Bi(t,i.name))return t[i.name];const s=new e(i,n);return t[i.name]=s,s},app:i,registerVersion:ya,setLogLevel:wa,onLog:ba,apps:null,SDK_VERSION:fa,INTERNAL:{registerComponent:function(t){const r=t.name,s=r.replace("-compat","");if(oa(t)&&"PUBLIC"===t.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Oa.create("invalid-app-argument",{appName:r});return e[s]()};void 0!==t.serviceProps&&Ni(a,t.serviceProps),n[s]=a,e.prototype[s]=function(){const e=this._getService.bind(this,r);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!Bi(t,e=e||ta))throw Oa.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(Ra);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Ni(t,e)},createSubscribe:Yi,ErrorFactory:ji,deepExtend:Ni}),t}(),La=new ls("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){La.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&La.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qa=Ma;!function(e){ya("@firebase/app-compat","0.2.13",e)}();qa.registerVersion("firebase","9.23.0","app-compat");function Fa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Ua={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Va="EMAIL_SIGNIN",ja="PASSWORD_RESET",za="RECOVER_EMAIL",Ba="REVERT_SECOND_FACTOR_ADDITION",Ka="VERIFY_AND_CHANGE_EMAIL",Ga="VERIFY_EMAIL";function Wa(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ha=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Qa=Wa,Ya=new ji("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xa=new ls("@firebase/auth");function Ja(e){if(Xa.logLevel<=is.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xa.error("Auth (".concat(fa,"): ").concat(e),...n)}}function $a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw no(e,...n)}function Za(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return no(e,...n)}function eo(e,t,n){const r=Object.assign(Object.assign({},Qa()),{[t]:n});return new ji("auth","Firebase",r).create(t,{appName:e.name})}function to(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&$a(e,"argument-error"),eo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function no(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ya.create(e,...n)}function ro(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw no(t,...r)}}function io(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ja(t),new Error(t)}function so(e,t){e||io(t)}function ao(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function oo(){return"http:"===uo()||"https:"===uo()}function uo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class lo{constructor(e,t){this.shortDelay=e,this.longDelay=t,so(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oi())||qi()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(oo()||Li()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function co(e,t){so(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class ho{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},po=new lo(3e4,6e4);function mo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function go(e,t,n,r){return vo(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Wi(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),ho.fetch()(bo(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function vo(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},fo),t);try{const t=new wo(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw _o(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _o(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw _o(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw _o(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw eo(e,o,a);$a(e,o)}}catch(xx){if(xx instanceof Vi)throw xx;$a(e,"network-request-failed",{message:String(xx)})}}async function yo(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await go(e,t,n,r,i);return"mfaPendingCredential"in s&&$a(e,"multi-factor-auth-required",{_serverResponse:s}),s}function bo(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?co(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class wo{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Za(this.auth,"network-request-failed"))),po.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function _o(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Za(e,t,r);return i.customData._tokenResponse=n,i}function Io(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(xx){}}function So(e){return 1e3*Number(e)}function Eo(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ja("JWT malformed, contained fewer than 3 sections"),null;try{const e=xi(n);return e?JSON.parse(e):(Ja("Failed to decode base64 JWT payload"),null)}catch(xx){return Ja("Caught error parsing JWT payload as JSON",null===xx||void 0===xx?void 0:xx.toString()),null}}async function To(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(xx){throw xx instanceof Vi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(xx)&&e.auth.currentUser===e&&await e.auth.signOut(),xx}}class ko{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(xx){return void((null===xx||void 0===xx?void 0:xx.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Co{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Io(this.lastLoginAt),this.creationTime=Io(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function xo(e){var t;const n=e.auth,r=await e.getIdToken(),i=await To(e,async function(e,t){return go(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));ro(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Fa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),u=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),c=!!u&&l,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Co(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ro(e.idToken,"internal-error"),ro("undefined"!==typeof e.idToken,"internal-error"),ro("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Eo(e);return ro(t,"internal-error"),ro("undefined"!==typeof t.exp,"internal-error"),ro("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ro(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await vo(e,{},(async()=>{const n=Wi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=bo(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ho.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new No;return n&&(ro("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ro("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ro("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return io("not implemented")}}function Ao(e,t){ro("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Do{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Fa(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Co(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await To(this,this.stsTokenManager.getToken(this.auth,e));return ro(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=$i(e),r=await n.getIdToken(t),i=Eo(r);ro(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Io(So(i.auth_time)),issuedAtTime:Io(So(i.iat)),expirationTime:Io(So(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=$i(e);await xo(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(ro(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Do(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ro(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await xo(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await To(this,async function(e,t){return go(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,u,l;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:I}=t;ro(y&&I,e,"internal-error");const S=No.fromJSON(this.name,I);ro("string"===typeof y,e,"internal-error"),Ao(c,e.name),Ao(d,e.name),ro("boolean"===typeof b,e,"internal-error"),ro("boolean"===typeof w,e,"internal-error"),Ao(h,e.name),Ao(f,e.name),Ao(p,e.name),Ao(m,e.name),Ao(g,e.name),Ao(v,e.name);const E=new Do({uid:y,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(E.providerData=_.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new No;r.updateFromServerResponse(t);const i=new Do({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await xo(i),i}}const Po=new Map;function Ro(e){so(e instanceof Function,"Expected a class definition");let t=Po.get(e);return t?(so(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Po.set(e,t),t)}class Oo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Oo.type="NONE";const Mo=Oo;function Lo(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class qo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Lo(this.userKey,r.apiKey,i),this.fullPersistenceKey=Lo("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Do._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new qo(Ro(Mo),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ro(Mo);const s=Lo(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(s);if(t){const n=Do._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(IT){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(IT){}}))),new qo(i,e,n)):new qo(i,e,n)}}function Fo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zo(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Uo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ko(t))return"Blackberry";if(Go(t))return"Webos";if(Vo(t))return"Safari";if((t.includes("chrome/")||jo(t))&&!t.includes("edge/"))return"Chrome";if(Bo(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Uo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/firefox\//i.test(e)}function Vo(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/crios\//i.test(e)}function zo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/iemobile/i.test(e)}function Bo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/android/i.test(e)}function Ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/blackberry/i.test(e)}function Go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/webos/i.test(e)}function Wo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return Wo(e)||Bo(e)||Go(e)||Ko(e)||/windows phone/i.test(e)||zo(e)}function Qo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fo(Oi());break;case"Worker":t="".concat(Fo(Oi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fa,"/").concat(r)}async function Yo(e,t){return go(e,"GET","/v2/recaptchaConfig",mo(e,t))}function Xo(e){return void 0!==e&&void 0!==e.getResponse}function Jo(e){return void 0!==e&&void 0!==e.enterprise}class $o{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Zo(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Za("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function eu(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class tu{constructor(e){this.type="recaptcha-enterprise",this.auth=su(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Jo(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Yo(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new $o(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Jo(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Zo("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function nu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new tu(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class ru{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(xx){r(xx)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(xx){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===xx||void 0===xx?void 0:xx.message})}}}class iu{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new au(this),this.idTokenSubscription=new au(this),this.beforeStateQueue=new ru(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ya,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ro(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(xx){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(xx){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(xx)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ro(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(xx){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xo(e)}catch(xx){if((null===xx||void 0===xx?void 0:xx.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?$i(e):null;return t&&ro(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&ro(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ro(e))}))}async initializeRecaptchaConfig(){const e=await Yo(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new $o(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new tu(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ji("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ro(e)||this._popupRedirectResolver;ro(t,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Ro(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ro(s,this,"internal-error"),s.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ro(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Xa.logLevel<=is.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xa.warn("Auth (".concat(fa,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function su(e){return $i(e)}class au{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yi((e=>this.observer=e))}get next(){return ro(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ou(e,t,n){const r=su(e);ro(r._canInitEmulator,r,"emulator-config-failed"),ro(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=uu(t),{host:a,port:o}=function(e){const t=uu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:lu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:lu(t)}}}(t),u=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(u,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function uu(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class cu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,t){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}async function du(e,t){return go(e,"POST","/v1/accounts:resetPassword",mo(e,t))}async function hu(e,t){return go(e,"POST","/v1/accounts:update",t)}async function fu(e,t){return yo(e,"POST","/v1/accounts:signInWithPassword",mo(e,t))}async function pu(e,t){return go(e,"POST","/v1/accounts:sendOobCode",mo(e,t))}async function mu(e,t){return pu(e,t)}async function gu(e,t){return pu(e,t)}class vu extends cu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new vu(e,t,"password")}static _fromEmailAndCode(e,t){return new vu(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await nu(e,n,"signInWithPassword");return fu(e,t)}return fu(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await nu(e,n,"signInWithPassword");return fu(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return yo(e,"POST","/v1/accounts:signInWithEmailLink",mo(e,t))}(e,{email:this._email,oobCode:this._password});default:$a(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return hu(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return yo(e,"POST","/v1/accounts:signInWithEmailLink",mo(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:$a(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yu(e,t){return yo(e,"POST","/v1/accounts:signInWithIdp",mo(e,t))}class bu extends cu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$a("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Fa(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new bu(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return yu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wi(t)}return e}}const wu={USER_NOT_FOUND:"user-not-found"};class _u extends cu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _u({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _u({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return yo(e,"POST","/v1/accounts:signInWithPhoneNumber",mo(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await yo(e,"POST","/v1/accounts:signInWithPhoneNumber",mo(e,t));if(n.temporaryProof)throw _o(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return yo(e,"POST","/v1/accounts:signInWithPhoneNumber",mo(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),wu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _u({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Iu{constructor(e){var t,n,r,i,s,a;const o=Hi(Qi(e)),u=null!==(t=o.apiKey)&&void 0!==t?t:null,l=null!==(n=o.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);ro(u&&l&&c,"argument-error"),this.apiKey=u,this.operation=c,this.code=l,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Hi(Qi(e)).link,n=t?Hi(Qi(t)).deep_link_id:null,r=Hi(Qi(e)).deep_link_id;return(r?Hi(Qi(r)).link:null)||r||n||t||e}(e);try{return new Iu(t)}catch(IT){return null}}}class Su{constructor(){this.providerId=Su.PROVIDER_ID}static credential(e,t){return vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Iu.parseLink(t);return ro(n,"argument-error"),vu._fromEmailAndCode(e,n.code,n.tenantId)}}Su.PROVIDER_ID="password",Su.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Eu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Tu extends Eu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ku extends Tu{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return ro("providerId"in t&&"signInMethod"in t,"argument-error"),bu._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return ro(e.idToken||e.accessToken,"argument-error"),bu._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ku.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ku.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new ku(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(xx){return null}}}class Cu extends Tu{constructor(){super("facebook.com")}static credential(e){return bu._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Cu.credential(t.oauthAccessToken)}catch(IT){return null}}}Cu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Cu.PROVIDER_ID="facebook.com";class xu extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bu._fromParams({providerId:xu.PROVIDER_ID,signInMethod:xu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xu.credentialFromTaggedObject(e)}static credentialFromError(e){return xu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return xu.credential(n,r)}catch(IT){return null}}}xu.GOOGLE_SIGN_IN_METHOD="google.com",xu.PROVIDER_ID="google.com";class Nu extends Tu{constructor(){super("github.com")}static credential(e){return bu._fromParams({providerId:Nu.PROVIDER_ID,signInMethod:Nu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nu.credentialFromTaggedObject(e)}static credentialFromError(e){return Nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Nu.credential(t.oauthAccessToken)}catch(IT){return null}}}Nu.GITHUB_SIGN_IN_METHOD="github.com",Nu.PROVIDER_ID="github.com";class Au extends cu{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return yu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,yu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yu(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Au(n,i):null}static _create(e,t){return new Au(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Du extends Eu{constructor(e){ro(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Du.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Du.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Au.fromJSON(e);return ro(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Au._create(r,n)}catch(xx){return null}}}class Pu extends Tu{constructor(){super("twitter.com")}static credential(e,t){return bu._fromParams({providerId:Pu.PROVIDER_ID,signInMethod:Pu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pu.credentialFromTaggedObject(e)}static credentialFromError(e){return Pu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Pu.credential(n,r)}catch(IT){return null}}}async function Ru(e,t){return yo(e,"POST","/v1/accounts:signUp",mo(e,t))}Pu.TWITTER_SIGN_IN_METHOD="twitter.com",Pu.PROVIDER_ID="twitter.com";class Ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Do._fromIdTokenResponse(e,n,r),s=Mu(n);return new Ou({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Mu(n);return new Ou({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Mu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Lu extends Vi{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Lu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Lu(e,t,n,r)}}function qu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Lu._fromErrorAndOperation(e,n,t,r);throw n}))}function Fu(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function Uu(e,t){const n=$i(e);await ju(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return go(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Fu(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Vu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await To(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ou._forOperation(e,"link",r)}async function ju(e,t,n){await xo(t);const r=!1===e?"provider-already-linked":"no-such-provider";ro(Fu(t.providerData).has(n)===e,t.auth,r)}async function zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await To(e,qu(r,i,t,e),n);ro(s.idToken,r,"internal-error");const a=Eo(s.idToken);ro(a,r,"internal-error");const{sub:o}=a;return ro(e.uid===o,r,"user-mismatch"),Ou._forOperation(e,i,s)}catch(xx){throw(null===xx||void 0===xx?void 0:xx.code)==="auth/".concat("user-not-found")&&$a(r,"user-mismatch"),xx}}async function Bu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await qu(e,r,t),s=await Ou._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ku(e,t){return Bu(su(e),t)}async function Gu(e,t){const n=$i(e);return await ju(!1,n,t.providerId),Vu(n,t)}async function Wu(e,t){return zu($i(e),t)}async function Hu(e,t){const n=su(e),r=await async function(e,t){return yo(e,"POST","/v1/accounts:signInWithCustomToken",mo(e,t))}(n,{token:t,returnSecureToken:!0}),i=await Ou._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Qu{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Yu._fromServerResponse(e,t):"totpInfo"in t?Xu._fromServerResponse(e,t):$a(e,"internal-error")}}class Yu extends Qu{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Yu(t)}}class Xu extends Qu{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Xu(t)}}function Ju(e,t,n){var r;ro((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),ro("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ro(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(ro(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function $u(e,t){await async function(e,t){return go(e,"POST","/v1/accounts:update",mo(e,t))}($i(e),{oobCode:t})}async function Zu(e,t){const n=$i(e),r=await du(n,{oobCode:t}),i=r.requestType;switch(ro(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ro(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ro(r.mfaInfo,n,"internal-error");default:ro(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Qu._fromServerResponse(su(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function el(e,t){const n={identifier:t,continueUri:oo()?ao():"http://localhost"},{signinMethods:r}=await async function(e,t){return go(e,"POST","/v1/accounts:createAuthUri",mo(e,t))}($i(e),n);return r||[]}async function tl(e,t){const n=$i(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Ju(n.auth,r,t);const{email:i}=await async function(e,t){return pu(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function nl(e,t,n){const r=$i(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Ju(r.auth,i,n);const{email:s}=await async function(e,t){return pu(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function rl(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=$i(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await To(i,async function(e,t){return go(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function il(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await To(e,hu(r,i));await e._updateTokensIfNecessary(s,!0)}class sl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class al extends sl{constructor(e,t,n,r){super(e,t,n),this.username=r}}class ol extends sl{constructor(e,t){super(e,"facebook.com",t)}}class ul extends al{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class ll extends sl{constructor(e,t){super(e,"google.com",t)}}class cl extends al{constructor(e,t,n){super(e,"twitter.com",t,n)}}function dl(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Eo(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new sl(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new ol(s,i);case"github.com":return new ul(s,i);case"google.com":return new ll(s,i);case"twitter.com":return new cl(s,i,e.screenName||null);case"custom":case"anonymous":return new sl(s,null);default:return new sl(s,r,i)}}(n)}class hl{constructor(e,t,n){this.type=e,this.credential=t,this.auth=n}static _fromIdtoken(e,t){return new hl("enroll",e,t)}static _fromMfaPendingCredential(e){return new hl("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return hl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return hl._fromIdtoken(e.multiFactorSession.idToken)}return null}}class fl{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=su(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Qu._fromServerResponse(n,e)));ro(r.mfaPendingCredential,n,"internal-error");const s=hl._fromMfaPendingCredential(r.mfaPendingCredential);return new fl(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await Ou._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return ro(t.user,n,"internal-error"),Ou._forOperation(t.user,t.operationType,a);default:$a(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class pl{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Qu._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new pl(e)}async getSession(){return hl._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){const n=e,r=await this.getSession(),i=await To(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await To(this.user,function(e,t){return go(e,"POST","/v2/accounts/mfaEnrollment:withdraw",mo(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(xx){throw xx}}}const ml=new WeakMap;const gl="__sak";class vl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gl,"1"),this.storage.removeItem(gl),Promise.resolve(!0)):Promise.resolve(!1)}catch(IT){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yl extends vl{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Oi();return Vo(e)||Wo(e)}()&&function(){try{return!(!window||window===window.top)}catch(xx){return!1}}(),this.fallbackToPolling=Ho(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fi()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yl.type="LOCAL";const bl=yl;class wl extends vl{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wl.type="SESSION";const _l=wl;class Il{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Il(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Sl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Il.receivers=[];class El{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const u=Sl("",20);r.port1.start();const l=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(l),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Tl(){return window}function kl(){return"undefined"!==typeof Tl().WorkerGlobalScope&&"function"===typeof Tl().importScripts}const Cl="firebaseLocalStorageDb",xl="firebaseLocalStorage",Nl="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Dl(e,t){return e.transaction([xl],t?"readwrite":"readonly").objectStore(xl)}function Pl(){const e=indexedDB.open(Cl,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(xl,{keyPath:Nl})}catch(xx){n(xx)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(xl)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Cl);return new Al(e).toPromise()}(),t(await Pl()))}))}))}async function Rl(e,t,n){const r=Dl(e,!0).put({[Nl]:t,value:n});return new Al(r).toPromise()}function Ol(e,t){const n=Dl(e,!0).delete(t);return new Al(n).toPromise()}class Ml{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Pl()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(xx){if(t++>3)throw xx;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Il._getInstance(kl()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new El(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(IT){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pl();return await Rl(e,gl,"1"),await Ol(e,gl),!0}catch(IT){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Rl(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Dl(e,!1).get(t),r=await new Al(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ol(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Dl(e,!1).getAll();return new Al(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ml.type="LOCAL";const Ll=Ml;const ql=1e12;class Fl{constructor(e){this.auth=e,this.counter=ql,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ul(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||ql;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||ql;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||ql;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ul{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;ro(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(xx){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(xx){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vl=eu("rcb"),jl=new lo(3e4,6e4);class zl{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Tl().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return ro(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Xo(Tl().grecaptcha)?Promise.resolve(Tl().grecaptcha):new Promise(((n,r)=>{const i=Tl().setTimeout((()=>{r(Za(e,"network-request-failed"))}),jl.get());Tl()[Vl]=()=>{Tl().clearTimeout(i),delete Tl()[Vl];const s=Tl().grecaptcha;if(!s||!Xo(s))return void r(Za(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Zo("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Wi({onload:Vl,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Za(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Tl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bl{async load(e){return new Fl(e)}clearedOneInstance(){}}const Kl="recaptcha",Gl={theme:"light",type:"image"};class Wl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Gl),n=arguments.length>2?arguments[2]:void 0;this.parameters=t,this.type=Kl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=su(n),this.isInvisible="invisible"===this.parameters.size,ro("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;ro(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bl:new zl,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(xx){return Promise.reject(xx)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){ro(!this.parameters.sitekey,this.auth,"argument-error"),ro(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ro("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Tl()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){ro(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ro(oo()&&!kl(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await go(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);ro(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ro(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hl{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_u._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ql(e,t,n){var r;const i=await n.verify();try{let s;if(ro("string"===typeof i,e,"argument-error"),ro(n.type===Kl,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){ro("enroll"===t.type,e,"internal-error");const n=await function(e,t){return go(e,"POST","/v2/accounts/mfaEnrollment:start",mo(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{ro("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;ro(n,e,"missing-multi-factor-info");const a=await function(e,t){return go(e,"POST","/v2/accounts/mfaSignIn:start",mo(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return go(e,"POST","/v1/accounts:sendVerificationCode",mo(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Yl{constructor(e){this.providerId=Yl.PROVIDER_ID,this.auth=su(e)}verifyPhoneNumber(e,t){return Ql(this.auth,e,$i(t))}static credential(e,t){return _u._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Yl.credentialFromTaggedObject(t)}static credentialFromError(e){return Yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?_u._fromTokenResponse(n,r):null}}function Xl(e,t){return t?Ro(t):(ro(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Yl.PROVIDER_ID="phone",Yl.PHONE_SIGN_IN_METHOD="phone";class Jl extends cu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $l(e){return Bu(e.auth,new Jl(e),e.bypassAuthState)}function Zl(e){const{auth:t,user:n}=e;return ro(n,t,"internal-error"),zu(n,new Jl(e),e.bypassAuthState)}async function ec(e){const{auth:t,user:n}=e;return ro(n,t,"internal-error"),Vu(n,new Jl(e),e.bypassAuthState)}class tc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(xx){this.reject(xx)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(xx){this.reject(xx)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $l;case"linkViaPopup":case"linkViaRedirect":return ec;case"reauthViaPopup":case"reauthViaRedirect":return Zl;default:$a(this.auth,"internal-error")}}resolve(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){so(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nc=new lo(2e3,1e4);class rc extends tc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,rc.currentPopupAction&&rc.currentPopupAction.cancel(),rc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ro(e,this.auth,"internal-error"),e}async onExecution(){so(1===this.filter.length,"Popup operations only handle one event");const e=Sl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Za(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Za(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,nc.get())};e()}}rc.currentPopupAction=null;const ic="pendingRedirect",sc=new Map;class ac extends tc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=cc(t),r=lc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(xx){e=()=>Promise.reject(xx)}sc.set(this.auth._key(),e)}return this.bypassAuthState||sc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function oc(e,t){return lc(e)._set(cc(t),"true")}function uc(e,t){sc.set(e._key(),t)}function lc(e){return Ro(e._redirectPersistence)}function cc(e){return Lo(ic,e.config.apiKey,e.name)}function dc(e,t,n){return async function(e,t,n){const r=su(e);to(e,t,Eu),await r._initializationPromise;const i=Xl(r,n);return await oc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function hc(e,t,n){return async function(e,t,n){const r=$i(e);to(r.auth,t,Eu),await r.auth._initializationPromise;const i=Xl(r.auth,n);await oc(i,r.auth);const s=await mc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function fc(e,t,n){return async function(e,t,n){const r=$i(e);to(r.auth,t,Eu),await r.auth._initializationPromise;const i=Xl(r.auth,n);await ju(!1,r,t.providerId),await oc(i,r.auth);const s=await mc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function pc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=su(e),i=Xl(r,t),s=new ac(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function mc(e){const t=Sl("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class gc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!yc(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Za(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vc(e))}saveEventToCache(e){this.cachedEventUids.add(vc(e)),this.lastProcessedEventTime=Date.now()}}function vc(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function yc(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function bc(e){return go(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const wc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_c=/^https?/;function Ic(e){const t=ao(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!_c.test(n))return!1;if(wc.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Sc=new lo(3e4,6e4);function Ec(){const e=Tl().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Tc=null;function kc(e){return Tc=Tc||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){Ec(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ec(),n(Za(e,"network-request-failed"))},timeout:Sc.get()})}if(null===(i=null===(r=Tl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Tl().gapi)||void 0===s?void 0:s.load)){const t=eu("iframefcb");return Tl()[t]=()=>{gapi.load?a():n(Za(e,"network-request-failed"))},Zo("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Tc=null,e}))}(e),Tc}const Cc=new lo(5e3,15e3),xc="__/auth/iframe",Nc="emulator/auth/iframe",Ac={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pc(e){const t=e.config;ro(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?co(t,Nc):"https://".concat(e.config.authDomain,"/").concat(xc),r={apiKey:t.apiKey,appName:e.name,v:fa},i=Dc.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Wi(r).slice(1))}const Rc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Oc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(xx){}}}function Mc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u=Object.assign(Object.assign({},Rc),{width:r.toString(),height:i.toString(),top:s,left:a}),l=Oi().toLowerCase();n&&(o=jo(l)?"_blank":n),Uo(l)&&(t=t||"http://localhost",u.scrollbars="yes");const c=Object.entries(u).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Wo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Oc(null);const d=window.open(t||"",o,c);ro(d,e,"popup-blocked");try{d.focus()}catch(xx){}return new Oc(d)}const Lc="__/auth/handler",qc="emulator/auth/handler",Fc=encodeURIComponent("fac");async function Uc(e,t,n,r,i,s){ro(e.config.authDomain,e,"auth-domain-config-required"),ro(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(t instanceof Eu){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Tu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const c of Object.keys(o))void 0===o[c]&&delete o[c];const u=await e._getAppCheckToken(),l=u?"#".concat(Fc,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Lc);return co(t,qc)}(e),"?").concat(Wi(o).slice(1)).concat(l)}const Vc="webStorageSupport";const jc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_l,this._completeRedirectFn=pc,this._overrideRedirectResult=uc}async _openPopup(e,t,n,r){var i;so(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Mc(e,await Uc(e,t,n,ao(),r),Sl())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Tl().location.href=e}(await Uc(e,t,n,ao(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(so(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await kc(e),n=Tl().gapi;return ro(n,e,"internal-error"),t.open({where:document.body,url:Pc(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ac,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Za(e,"network-request-failed"),s=Tl().setTimeout((()=>{r(i)}),Cc.get());function a(){Tl().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new gc(e);return t.register("authEvent",(t=>{ro(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vc,{type:Vc},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Vc];void 0!==i&&t(!!i),$a(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await bc(e);for(const n of t)try{if(Ic(n))return}catch(IT){}$a(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ho()||Vo()||Wo()}};class zc{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return io("unexpected MultiFactorSessionType")}}}class Bc extends zc{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Bc(e)}_finalizeEnroll(e,t,n){return function(e,t){return go(e,"POST","/v2/accounts/mfaEnrollment:finalize",mo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return go(e,"POST","/v2/accounts/mfaSignIn:finalize",mo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Kc{constructor(){}static assertion(e){return Bc._fromCredential(e)}}Kc.FACTOR_ID="phone";var Gc="@firebase/auth",Wc="0.23.2";class Hc{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ro(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Di())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Qc;function Yc(){return window}Qc="Browser",oa(new Zi("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ro(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:Qc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qo(Qc)},l=new iu(r,i,s,u);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ro);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),oa(new Zi("auth-internal",(e=>(e=>new Hc(e))(su(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ya(Gc,Wc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qc)),ya(Gc,Wc,"esm2017");async function Xc(e,t,n){var r;const{BuildInfo:i}=Yc();so(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(so(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Wo()?a.ibi=i.packageName:Bo()?a.apn=i.packageName:$a(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Uc(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Jc(e){const{cordova:t}=Yc();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const $c=20;class Zc extends gc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ed(e){const t=await rd()._get(id(e));return t&&await rd()._remove(id(e)),t}function td(e,t){var n,r;const i=function(e){const t=sd(e),n=t.link?decodeURIComponent(t.link):void 0,r=sd(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return sd(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=sd(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(xx){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Za(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function nd(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<$c;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function rd(){return Ro(bl)}function id(e){return Lo("authEvent",e.config.apiKey,e.name)}function sd(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Hi(n.join("?"))}const ad=class{constructor(){this._redirectPersistence=_l,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=pc,this._overrideRedirectResult=uc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Zc(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){$a(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,u,l,c;const d=Yc();ro("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ro("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ro("function"===typeof(null===(s=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ro("function"===typeof(null===(u=null===(o=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ro("function"===typeof(null===(c=null===(l=null===d||void 0===d?void 0:d.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),sc.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:nd(),postBody:null,tenantId:e.tenantId,error:Za(e,"no-auth-event")}}(e,n,r);await function(e,t){return rd()._set(id(e),t)}(e,s);const a=await Xc(e,s,t);return async function(e,t,n){const{cordova:r}=Yc();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function u(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){o||(o=window.setTimeout((()=>{a(Za(e,"redirect-cancelled-by-user"))}),2e3))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(u),document.addEventListener("resume",l,!1),Bo()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",c,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Jc(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Yc(),n={};Wo()?n.iosBundleId=t.packageName:Bo()?n.androidPackageName=t.packageName:$a(e,"operation-not-supported-in-this-environment"),await bc(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Yc(),s=setTimeout((async()=>{await ed(e),t.onEvent(od())}),500),a=async n=>{clearTimeout(s);const r=await ed(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=td(r,n.url)),t.onEvent(i||od())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,u="".concat(i.packageName.toLowerCase(),"://");Yc().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&a({url:e}),"function"===typeof o)try{o(e)}catch(xx){console.error(xx)}}}};function od(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Za("no-auth-event")}}function ud(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ld(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return!("file:"!==ud()&&"ionic:"!==ud()&&"capacitor:"!==ud()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function cd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return Fi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oi();return/Edge\/\d+/.test(e)}(e)}function dd(){try{const e=self.localStorage,t=Sl();if(e)return e.setItem(t,"1"),e.removeItem(t),!cd()||Ui()}catch(xx){return hd()&&Ui()}return!1}function hd(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function fd(){return("http:"===ud()||"https:"===ud()||Li()||ld())&&!(qi()||Mi())&&dd()&&!hd()}function pd(){return ld()&&"undefined"!==typeof document}const md={LOCAL:"local",NONE:"none",SESSION:"session"},gd=ro,vd="persistence";async function yd(e){await e._initializationPromise;const t=bd(),n=Lo(vd,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function bd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(xx){return null}}const wd=ro;class _d{constructor(){this.browserResolver=Ro(jc),this.cordovaResolver=Ro(ad),this.underlyingResolver=null,this._redirectPersistence=_l,this._completeRedirectFn=pc,this._overrideRedirectResult=uc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return pd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!pd()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Id(e){return e.unwrap()}function Sd(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Cd(e,function(e,t){var n;const r=$i(e),i=t;return ro(t.customData.operationType,r,"argument-error"),ro(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),fl._fromError(r,i)}(e,t))}else if(r){const e=Ed(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Ed(e){const{_tokenResponse:t}=e instanceof Vi?e.customData:e;if(!t)return null;if(!(e instanceof Vi)&&"temporaryProof"in t&&"phoneNumber"in t)return Yl.credentialFromResult(e);const n=t.providerId;if(!n||n===Ua.PASSWORD)return null;let r;switch(n){case Ua.GOOGLE:r=xu;break;case Ua.FACEBOOK:r=Cu;break;case Ua.GITHUB:r=Nu;break;case Ua.TWITTER:r=Pu;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?Au._create(n,a):bu._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new ku(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof Vi?r.credentialFromError(e):r.credentialFromResult(e)}function Td(e,t){return t.catch((t=>{throw t instanceof Vi&&Sd(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Ed(r)),additionalUserInfo:dl(e),user:xd.getOrCreate(n)};var r}))}async function kd(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>Td(e,n.confirm(t))}}class Cd{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Td(Id(this.auth),this.resolver.resolveSignIn(e))}}class xd{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=$i(e);return ml.has(t)||ml.set(t,pl._fromUser(t)),ml.get(t)}(e)}static getOrCreate(e){return xd.USER_MAP.has(e)||xd.USER_MAP.set(e,new xd(e)),xd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Td(this.auth,Gu(this._delegate,e))}async linkWithPhoneNumber(e,t){return kd(this.auth,async function(e,t,n){const r=$i(e);await ju(!1,r,"phone");const i=await Ql(r.auth,t,$i(n));return new Hl(i,(e=>Gu(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return Td(this.auth,async function(e,t,n){const r=$i(e);to(r.auth,t,Eu);const i=Xl(r.auth,n);return new rc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,_d))}async linkWithRedirect(e){return await yd(su(this.auth)),fc(this._delegate,e,_d)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Td(this.auth,Wu(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return kd(this.auth,async function(e,t,n){const r=$i(e),i=await Ql(r.auth,t,$i(n));return new Hl(i,(e=>Wu(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return Td(this.auth,async function(e,t,n){const r=$i(e);to(r.auth,t,Eu);const i=Xl(r.auth,n);return new rc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,_d))}async reauthenticateWithRedirect(e){return await yd(su(this.auth)),hc(this._delegate,e,_d)}sendEmailVerification(e){return tl(this._delegate,e)}async unlink(e){return await Uu(this._delegate,e),this}updateEmail(e){return function(e,t){return il($i(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return il($i(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Vu($i(e),t)}(this._delegate,e)}updateProfile(e){return rl(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return nl(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xd.USER_MAP=new WeakMap;const Nd=ro;class Ad{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;Nd(n,"invalid-api-key",{appName:e.name}),Nd(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?_d:void 0;this._delegate=t.initialize({options:{persistence:Pd(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Ha),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){ou(this._delegate,e,t)}applyActionCode(e){return $u(this._delegate,e)}checkActionCode(e){return Zu(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await du($i(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Td(this._delegate,async function(e,t,n){var r;const i=su(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await nu(i,s,"signUpPassword");a=Ru(i,e)}else a=Ru(i,s).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await nu(i,s,"signUpPassword");return Ru(i,e)}return Promise.reject(e)}));const o=await a.catch((e=>Promise.reject(e))),u=await Ou._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(u.user),u}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return el(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Iu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){Nd(fd(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await su(e)._initializationPromise,pc(e,t,!1)}(this._delegate,_d);return e?Td(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){su(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Dd(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Dd(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){var r;const i=su(e),s={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};function a(e,t){ro(t.handleCodeInApp,i,"argument-error"),t&&Ju(i,e,t)}if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await nu(i,s,"getOobCode",!0);a(e,n),await gu(i,e)}else a(s,n),await gu(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const e=await nu(i,s,"getOobCode",!0);a(e,n),await gu(i,e)}}))}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){var r;const i=su(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await nu(i,s,"getOobCode",!0);n&&Ju(i,e,n),await mu(i,e)}else n&&Ju(i,s,n),await mu(i,s).catch((async e=>{if(e.code!=="auth/".concat("missing-recaptcha-token"))return Promise.reject(e);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const e=await nu(i,s,"getOobCode",!0);n&&Ju(i,e,n),await mu(i,e)}}))}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){gd(Object.values(md).includes(t),e,"invalid-persistence-type"),qi()?gd(t!==md.SESSION,e,"unsupported-persistence-type"):Mi()?gd(t===md.NONE,e,"unsupported-persistence-type"):hd()?gd(t===md.NONE||t===md.LOCAL&&Ui(),e,"unsupported-persistence-type"):gd(t===md.NONE||dd(),e,"unsupported-persistence-type")}(this._delegate,e),e){case md.SESSION:t=_l;break;case md.LOCAL:t=await Ro(Ll)._isAvailable()?Ll:bl;break;case md.NONE:t=Mo;break;default:return $a("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Td(this._delegate,async function(e){var t;const n=su(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new Ou({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Ru(n,{returnSecureToken:!0}),i=await Ou._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return Td(this._delegate,Ku(this._delegate,e))}signInWithCustomToken(e){return Td(this._delegate,Hu(this._delegate,e))}signInWithEmailAndPassword(e,t){return Td(this._delegate,function(e,t,n){return Ku($i(e),Su.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Td(this._delegate,async function(e,t,n){const r=$i(e),i=Su.credentialWithLink(t,n||ao());return ro(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ku(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return kd(this._delegate,async function(e,t,n){const r=su(e),i=await Ql(r,t,$i(n));return new Hl(i,(e=>Ku(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return Nd(fd(),this._delegate,"operation-not-supported-in-this-environment"),Td(this._delegate,async function(e,t,n){const r=su(e);to(e,t,Eu);const i=Xl(r,n);return new rc(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,_d))}async signInWithRedirect(e){return Nd(fd(),this._delegate,"operation-not-supported-in-this-environment"),await yd(this._delegate),dc(this._delegate,e,_d)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Zu($i(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function Dd(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&xd.getOrCreate(e)),error:t,complete:n}}function Pd(e,t){const n=function(e,t){const n=bd();if(!n)return[];const r=Lo(vd,e,t);switch(n.getItem(r)){case md.NONE:return[Mo];case md.LOCAL:return[Ll,_l];case md.SESSION:return[_l];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Ll)||n.push(Ll),"undefined"!==typeof window)for(const r of[bl,_l])n.includes(r)||n.push(r);return n.includes(Mo)||n.push(Mo),n}Ad.Persistence=md;class Rd{constructor(){this.providerId="phone",this._delegate=new Yl(Id(qa.auth()))}static credential(e,t){return Yl.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Rd.PHONE_SIGN_IN_METHOD=Yl.PHONE_SIGN_IN_METHOD,Rd.PROVIDER_ID=Yl.PROVIDER_ID;const Od=ro;class Md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qa.app();var r;Od(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Wl(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var Ld;(Ld=qa).INTERNAL.registerComponent(new Zi("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Ad(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Va,PASSWORD_RESET:ja,RECOVER_EMAIL:za,REVERT_SECOND_FACTOR_ADDITION:Ba,VERIFY_AND_CHANGE_EMAIL:Ka,VERIFY_EMAIL:Ga}},EmailAuthProvider:Su,FacebookAuthProvider:Cu,GithubAuthProvider:Nu,GoogleAuthProvider:xu,OAuthProvider:ku,SAMLAuthProvider:Du,PhoneAuthProvider:Rd,PhoneMultiFactorGenerator:Kc,RecaptchaVerifier:Md,TwitterAuthProvider:Pu,Auth:Ad,AuthCredential:cu,Error:Vi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ld.registerVersion("@firebase/auth-compat","0.4.2");var qd,Fd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ud={},Vd=Vd||{},jd=Fd||self;function zd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Bd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Kd="closure_uid_"+(1e9*Math.random()>>>0),Gd=0;function Wd(e,t,n){return e.call.apply(e.bind,arguments)}function Hd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qd(e,t,n){return(Qd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wd:Hd).apply(null,arguments)}function Yd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Jd(){this.s=this.s,this.o=this.o}Jd.prototype.s=!1,Jd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Kd)&&e[Kd]||(e[Kd]=++Gd))},Jd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $d=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Zd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function eh(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(zd(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function th(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}th.prototype.h=function(){this.defaultPrevented=!0};var nh=function(){if(!jd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jd.addEventListener("test",(()=>{}),t),jd.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function rh(e){return/^[\s\xa0]*$/.test(e)}function ih(){var e=jd.navigator;return e&&(e=e.userAgent)?e:""}function sh(e){return-1!=ih().indexOf(e)}function ah(e){return ah[" "](e),e}ah[" "]=function(){};var oh,uh,lh=sh("Opera"),ch=sh("Trident")||sh("MSIE"),dh=sh("Edge"),hh=dh||ch,fh=sh("Gecko")&&!(-1!=ih().toLowerCase().indexOf("webkit")&&!sh("Edge"))&&!(sh("Trident")||sh("MSIE"))&&!sh("Edge"),ph=-1!=ih().toLowerCase().indexOf("webkit")&&!sh("Edge");function mh(){var e=jd.document;return e?e.documentMode:void 0}e:{var gh="",vh=function(){var e=ih();return fh?/rv:([^\);]+)(\)|;)/.exec(e):dh?/Edge\/([\d\.]+)/.exec(e):ch?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ph?/WebKit\/(\S+)/.exec(e):lh?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vh&&(gh=vh?vh[1]:""),ch){var yh=mh();if(null!=yh&&yh>parseFloat(gh)){oh=String(yh);break e}}oh=gh}if(jd.document&&ch){var bh=mh();uh=bh||(parseInt(oh,10)||void 0)}else uh=void 0;var wh=uh;function _h(e,t){if(th.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fh){e:{try{ah(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ih[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&_h.$.h.call(this)}}Xd(_h,th);var Ih={2:"touch",3:"pen",4:"mouse"};_h.prototype.h=function(){_h.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sh="closure_listenable_"+(1e6*Math.random()|0),Eh=0;function Th(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Eh,this.fa=this.ia=!1}function kh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ch(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function xh(e){const t={};for(const n in e)t[n]=e[n];return t}const Nh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ah(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Nh.length;t++)n=Nh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Dh(e){this.src=e,this.g={},this.h=0}function Ph(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=$d(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(kh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Dh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=Rh(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new Th(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Oh="closure_lm_"+(1e6*Math.random()|0),Mh={};function Lh(e,t,n,r,i){if(r&&r.once)return Fh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Lh(e,t[s],n,r,i);return null}return n=Gh(n),e&&e[Sh]?e.O(t,n,Bd(r)?!!r.capture:!!r,i):qh(e,t,n,!1,r,i)}function qh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Bd(i)?!!i.capture:!!i,o=Bh(e);if(o||(e[Oh]=o=new Dh(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=zh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nh||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(jh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fh(e,t[s],n,r,i);return null}return n=Gh(n),e&&e[Sh]?e.P(t,n,Bd(r)?!!r.capture:!!r,i):qh(e,t,n,!0,r,i)}function Uh(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Uh(e,t[s],n,r,i);else r=Bd(r)?!!r.capture:!!r,n=Gh(n),e&&e[Sh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Rh(s=e.g[t],n,r,i))&&(kh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Bh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rh(t,n,r,i)),(n=-1<e?t[e]:null)&&Vh(n))}function Vh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Sh])Ph(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(jh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bh(t))?(Ph(n,e),0==n.h&&(n.src=null,t[Oh]=null)):kh(e)}}}function jh(e){return e in Mh?Mh[e]:Mh[e]="on"+e}function zh(e,t){if(e.fa)e=!0;else{t=new _h(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vh(e),e=n.call(r,t)}return e}function Bh(e){return(e=e[Oh])instanceof Dh?e:null}var Kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gh(e){return"function"===typeof e?e:(e[Kh]||(e[Kh]=function(t){return e.handleEvent(t)}),e[Kh])}function Wh(){Jd.call(this),this.i=new Dh(this),this.S=this,this.J=null}function Hh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new th(t,e);else if(t instanceof th)t.target=t.target||e;else{var i=t;Ah(t=new th(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Qh(a,r,!0,t)&&i}if(i=Qh(a=t.g=e,r,!0,t)&&i,i=Qh(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Qh(a=t.g=n[s],r,!1,t)&&i}function Qh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,u=a.la||a.src;a.ia&&Ph(e.i,a),i=!1!==o.call(u,r)&&i}}return i&&!r.defaultPrevented}Xd(Wh,Jd),Wh.prototype[Sh]=!0,Wh.prototype.removeEventListener=function(e,t,n,r){Uh(this,e,t,n,r)},Wh.prototype.N=function(){if(Wh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kh(n[r]);delete t.g[e],t.h--}}this.J=null},Wh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Yh=jd.JSON.stringify;function Xh(){var e=rf;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Jh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new $h),(e=>e.reset()));class $h{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ef(e){jd.setTimeout((()=>{throw e}),0)}let tf,nf=!1,rf=new class{constructor(){this.h=this.g=null}add(e,t){const n=Jh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},sf=()=>{const e=jd.Promise.resolve(void 0);tf=()=>{e.then(af)}};var af=()=>{for(var e;e=Xh();){try{e.h.call(e.g)}catch(n){ef(n)}var t=Jh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}nf=!1};function of(e,t){Wh.call(this),this.h=e||1,this.g=t||jd,this.j=Qd(this.qb,this),this.l=Date.now()}function uf(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function lf(e,t,n){if("function"===typeof e)n&&(e=Qd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qd(e.handleEvent,e)}return 2147483647<Number(t)?-1:jd.setTimeout(e,t||0)}function cf(e){e.g=lf((()=>{e.g=null,e.i&&(e.i=!1,cf(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Xd(of,Wh),(qd=of.prototype).ga=!1,qd.T=null,qd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Hh(this,"tick"),this.ga&&(uf(this),this.start()))}},qd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qd.N=function(){of.$.N.call(this),uf(this),delete this.g};class df extends Jd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cf(this)}N(){super.N(),this.g&&(jd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hf(e){Jd.call(this),this.h=e,this.g={}}Xd(hf,Jd);var ff=[];function pf(e,t,n,r){Array.isArray(n)||(n&&(ff[0]=n.toString()),n=ff);for(var i=0;i<n.length;i++){var s=Lh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function mf(e){Ch(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vh(e)}),e),e.g={}}function gf(){this.g=!0}function vf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Yh(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}hf.prototype.N=function(){hf.$.N.call(this),mf(this)},hf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gf.prototype.Ea=function(){this.g=!1},gf.prototype.info=function(){};var yf={},bf=null;function wf(){return bf=bf||new Wh}function _f(e){th.call(this,yf.Ta,e)}function If(e){const t=wf();Hh(t,new _f(t))}function Sf(e,t){th.call(this,yf.STAT_EVENT,e),this.stat=t}function Ef(e){const t=wf();Hh(t,new Sf(t,e))}function Tf(e,t){th.call(this,yf.Ua,e),this.size=t}function kf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jd.setTimeout((function(){e()}),t)}yf.Ta="serverreachability",Xd(_f,th),yf.STAT_EVENT="statevent",Xd(Sf,th),yf.Ua="timingevent",Xd(Tf,th);var Cf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},xf={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Nf(){}function Af(e){return e.h||(e.h=e.i())}function Df(){}Nf.prototype.h=null;var Pf,Rf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Of(){th.call(this,"d")}function Mf(){th.call(this,"c")}function Lf(){}function qf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new hf(this),this.P=Uf,e=hh?125:void 0,this.V=new of(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ff}function Ff(){this.i=null,this.g="",this.h=!1}Xd(Of,th),Xd(Mf,th),Xd(Lf,Nf),Lf.prototype.g=function(){return new XMLHttpRequest},Lf.prototype.i=function(){return{}},Pf=new Lf;var Uf=45e3,Vf={},jf={};function zf(e,t,n){e.L=1,e.v=op(np(t)),e.s=n,e.S=!0,Bf(e,null)}function Bf(e,t){e.G=Date.now(),Hf(e),e.A=np(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),wp(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Ff,e.g=_m(e.l,n?t:null,!e.s),0<e.O&&(e.M=new df(Qd(e.Pa,e,e.g),e.O)),pf(e.U,e.g,"readystatechange",e.nb),t=e.I?xh(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),If(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),u=0;u<o.length;u++){var l=o[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");a=2<=d.length&&"type"==d[1]?a+(c+"=")+l+"&":a+(c+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Kf(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Gf(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Wf(e,n),r==jf){4==t&&(e.o=4,Ef(14),i=!1),vf(e.j,e.m,null,"[Incomplete Response]");break}if(r==Vf){e.o=4,Ef(15),vf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}vf(e.j,e.m,r,null),$f(e,r)}Kf(e)&&r!=jf&&r!=Vf&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ef(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fm(t),t.M=!0,Ef(11))):(vf(e.j,e.m,n,"[Invalid Chunked Response]"),Jf(e),Xf(e))}function Wf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?jf:(n=Number(t.substring(n,r)),isNaN(n)?Vf:(r+=1)+n>t.length?jf:(t=t.slice(r,r+n),e.C=r+n,t))}function Hf(e){e.Y=Date.now()+e.P,Qf(e,e.P)}function Qf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=kf(Qd(e.lb,e),t)}function Yf(e){e.B&&(jd.clearTimeout(e.B),e.B=null)}function Xf(e){0==e.l.H||e.J||gm(e.l,e)}function Jf(e){Yf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,uf(e.V),mf(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function $f(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cp(n.i,e)))if(!e.K&&Cp(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;mm(n),sm(n)}hm(n),Ef(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=kf(Qd(n.ib,n),6e3));if(1>=kp(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else ym(n,11)}else if((e.K||n.g==e)&&mm(n),!rh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=l[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(xp(s,s.h),s.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ap(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=wm(r,r.J?r.pa:null,r.Y),a.K){Np(r.i,a);var o=a,u=r.L;u&&o.setTimeout(u),o.B&&(Yf(o),Hf(o)),r.g=a}else dm(r);0<n.j.length&&om(n)}else"stop"!=l[0]&&"close"!=l[0]||ym(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?ym(n,7):im(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}If()}catch(l){}}function Zf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(qd=qf.prototype).setTimeout=function(e){this.P=e},qd.nb=function(e){e=e.target;const t=this.M;t&&3==$p(e)?t.l():this.Pa(e)},qd.Pa=function(e){try{if(e==this.g)e:{const c=$p(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||hh||this.g&&(this.h.h||this.g.ja()||Zp(this.g)))){this.J||4!=c||7==t||If(),Yf(this);var n=this.g.da();this.ca=n;t:if(Kf(this)){var r=Zp(this.g);e="";var i=r.length,s=4==$p(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Jf(this),Xf(this);var a="";break t}this.h.i=new jd.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,u=this.g;if((o=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rh(o)){var l=o;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Ef(12),Jf(this),Xf(this);break e}vf(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,n)}this.S?(Gf(this,c,a),hh&&this.i&&3==c&&(pf(this.U,this.V,"tick",this.mb),this.V.start())):(vf(this.j,this.m,a,null),$f(this,a)),4==c&&Jf(this),this.i&&!this.J&&(4==c?gm(this.l,this):(this.i=!1,Hf(this)))}else(function(e){const t={};e=(e.g&&2<=$p(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(rh(e[r]))continue;var n=Zh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Ef(12)):(this.o=0,Ef(13)),Jf(this),Xf(this)}}}catch(c){}},qd.mb=function(){if(this.g){var e=$p(this.g),t=this.g.ja();this.C<t.length&&(Yf(this),Gf(this,e,t),this.i&&4!=e&&Hf(this))}},qd.cancel=function(){this.J=!0,Jf(this)},qd.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(If(),Ef(17)),Jf(this),this.o=2,Xf(this)):Qf(this,this.Y-e)};var ep=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tp(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tp){this.h=e.h,rp(this,e.j),this.s=e.s,this.g=e.g,ip(this,e.m),this.l=e.l;var t=e.i,n=new gp;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sp(this,n),this.o=e.o}else e&&(t=String(e).match(ep))?(this.h=!1,rp(this,t[1]||"",!0),this.s=up(t[2]||""),this.g=up(t[3]||"",!0),ip(this,t[4]),this.l=up(t[5]||"",!0),sp(this,t[6]||"",!0),this.o=up(t[7]||"")):(this.h=!1,this.i=new gp(null,this.h))}function np(e){return new tp(e)}function rp(e,t,n){e.j=n?up(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ip(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sp(e,t,n){t instanceof gp?(e.i=t,function(e,t){t&&!e.j&&(vp(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yp(this,t),wp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=lp(t,pp)),e.i=new gp(t,e.h))}function ap(e,t,n){e.i.set(t,n)}function op(e){return ap(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function up(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function lp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,cp),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function cp(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tp.prototype.toString=function(){var e=[],t=this.j;t&&e.push(lp(t,dp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(lp(t,dp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(lp(n,"/"==n.charAt(0)?fp:hp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",lp(n,mp)),e.join("")};var dp=/[#\/\?@]/g,hp=/[#\?:]/g,fp=/[#\?]/g,pp=/[#\?@]/g,mp=/#/g;function gp(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vp(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yp(e,t){vp(e),t=_p(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bp(e,t){return vp(e),t=_p(e,t),e.g.has(t)}function wp(e,t,n){yp(e,t),0<n.length&&(e.i=null,e.g.set(_p(e,t),Zd(n)),e.h+=n.length)}function _p(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(qd=gp.prototype).add=function(e,t){vp(this),this.i=null,e=_p(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},qd.forEach=function(e,t){vp(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},qd.ta=function(){vp(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},qd.Z=function(e){vp(this);let t=[];if("string"===typeof e)bp(this,e)&&(t=t.concat(this.g.get(_p(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},qd.set=function(e,t){return vp(this),this.i=null,bp(this,e=_p(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},qd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},qd.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Ip=class{constructor(e,t){this.g=e,this.map=t}};function Sp(e){this.l=e||Ep,jd.PerformanceNavigationTiming?e=0<(e=jd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jd.g&&jd.g.Ka&&jd.g.Ka()&&jd.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ep=10;function Tp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function kp(e){return e.h?1:e.g?e.g.size:0}function Cp(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function xp(e,t){e.g?e.g.add(t):e.h=t}function Np(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ap(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Zd(e.i)}Sp.prototype.cancel=function(){if(this.i=Ap(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Dp,Pp=class{stringify(e){return jd.JSON.stringify(e,void 0)}parse(e){return jd.JSON.parse(e,void 0)}};function Rp(){this.g=new Pp}function Op(e,t,n){const r=n||"";try{Zf(e,(function(e,n){let i=e;Bd(e)&&(i=Yh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(xx){throw t.push(r+"type="+encodeURIComponent("_badmap")),xx}}function Mp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Lp(e){this.l=e.fc||null,this.j=e.ob||!1}function qp(e,t){Wh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Fp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xd(Lp,Nf),Lp.prototype.g=function(){return new qp(this.l,this.j)},Lp.prototype.i=(Dp={},function(){return Dp}),Xd(qp,Wh);var Fp=0;function Up(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Vp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,jp(e)}function jp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(qd=qp.prototype).open=function(e,t){if(this.readyState!=Fp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,jp(this)},qd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||jd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},qd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vp(this)),this.readyState=Fp},qd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,jp(this)),this.g&&(this.readyState=3,jp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof jd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Up(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},qd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vp(this):jp(this),3==this.readyState&&Up(this)}},qd.Za=function(e){this.g&&(this.response=this.responseText=e,Vp(this))},qd.Ya=function(e){this.g&&(this.response=e,Vp(this))},qd.ka=function(){this.g&&Vp(this)},qd.setRequestHeader=function(e,t){this.v.append(e,t)},qd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},qd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(qp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zp=jd.JSON.parse;function Bp(e){Wh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kp,this.L=this.M=!1}Xd(Bp,Wh);var Kp="",Gp=/^https?$/i,Wp=["POST","PUT"];function Hp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qp(e),Xp(e)}function Qp(e){e.F||(e.F=!0,Hh(e,"complete"),Hh(e,"error"))}function Yp(e){if(e.h&&"undefined"!=typeof Vd&&(!e.C[1]||4!=$p(e)||2!=e.da()))if(e.v&&4==$p(e))lf(e.La,0,e);else if(Hh(e,"readystatechange"),4==$p(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(ep)[1]||null;!i&&jd.self&&jd.self.location&&(i=jd.self.location.protocol.slice(0,-1)),r=!Gp.test(i?i.toLowerCase():"")}n=r}if(n)Hh(e,"complete"),Hh(e,"success");else{e.m=6;try{var s=2<$p(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Qp(e)}}finally{Xp(e)}}}function Xp(e,t){if(e.g){Jp(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Hh(e,"ready");try{n.onreadystatechange=r}catch(xx){}}}function Jp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(jd.clearTimeout(e.A),e.A=null)}function $p(e){return e.g?e.g.readyState:0}function Zp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Kp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ig){return null}}function em(e){let t="";return Ch(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function tm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=em(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ap(e,t,n))}function nm(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rm(e){this.Ga=0,this.j=[],this.l=new gf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nm("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nm("baseRetryDelayMs",5e3,e),this.hb=nm("retryDelaySeedMs",1e4,e),this.eb=nm("forwardChannelMaxRetries",2,e),this.xa=nm("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Sp(e&&e.concurrentRequestLimit),this.Ja=new Rp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function im(e){if(am(e),3==e.H){var t=e.W++,n=np(e.I);if(ap(n,"SID",e.K),ap(n,"RID",t),ap(n,"TYPE","terminate"),lm(e,n),(t=new qf(e,e.l,t)).L=2,t.v=op(np(n)),n=!1,jd.navigator&&jd.navigator.sendBeacon)try{n=jd.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&jd.Image&&((new Image).src=t.v,n=!0),n||(t.g=_m(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Hf(t)}bm(e)}function sm(e){e.g&&(fm(e),e.g.cancel(),e.g=null)}function am(e){sm(e),e.u&&(jd.clearTimeout(e.u),e.u=null),mm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jd.clearTimeout(e.m),e.m=null)}function om(e){if(!Tp(e.i)&&!e.m){e.m=!0;var t=e.Na;tf||sf(),nf||(tf(),nf=!0),rf.add(t,e),e.C=0}}function um(e,t){var n;n=t?t.m:e.W++;const r=np(e.I);ap(r,"SID",e.K),ap(r,"RID",n),ap(r,"AID",e.V),lm(e,r),e.o&&e.s&&tm(r,e.o,e.s),n=new qf(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=cm(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),xp(e.i,n),zf(n,r,t)}function lm(e,t){e.na&&Ch(e.na,(function(e,n){ap(t,n,e)})),e.h&&Zf({},(function(e,n){ap(t,n,e)}))}function cm(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Qd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Op(o,e,"req"+n+"_")}catch(mg){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function dm(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;tf||sf(),nf||(tf(),nf=!0),rf.add(t,e),e.A=0}}function hm(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=kf(Qd(e.Ma,e),vm(e,e.A)),e.A++,!0)}function fm(e){null!=e.B&&(jd.clearTimeout(e.B),e.B=null)}function pm(e){e.g=new qf(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=np(e.wa);ap(t,"RID","rpc"),ap(t,"SID",e.K),ap(t,"AID",e.V),ap(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ap(t,"TO",e.qa),ap(t,"TYPE","xmlhttp"),lm(e,t),e.o&&e.s&&tm(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=op(np(t)),n.s=null,n.S=!0,Bf(n,e)}function mm(e){null!=e.v&&(jd.clearTimeout(e.v),e.v=null)}function gm(e,t){var n=null;if(e.g==t){mm(e),fm(e),e.g=null;var r=2}else{if(!Cp(e.i,t))return;n=t.F,Np(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Hh(r=wf(),new Tf(r,n)),om(e)}else dm(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(kp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=kf(Qd(e.Na,e,t),vm(e,e.C)),e.C++,!0))}(e,t)||2==r&&hm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ym(e,5);break;case 4:ym(e,10);break;case 3:ym(e,6);break;default:ym(e,2)}}function vm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ym(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Qd(e.pb,e);n||(n=new tp("//www.google.com/images/cleardot.gif"),jd.location&&"http"==jd.location.protocol||rp(n,"https"),op(n)),function(e,t){const n=new gf;if(jd.Image){const r=new Image;r.onload=Yd(Mp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yd(Mp,n,r,"TestLoadImage: error",!1,t),r.onabort=Yd(Mp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yd(Mp,n,r,"TestLoadImage: timeout",!1,t),jd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ef(2);e.H=0,e.h&&e.h.za(t),bm(e),am(e)}function bm(e){if(e.H=0,e.ma=[],e.h){const t=Ap(e.i);0==t.length&&0==e.j.length||(eh(e.ma,t),eh(e.ma,e.j),e.i.i.length=0,Zd(e.j),e.j.length=0),e.h.ya()}}function wm(e,t,n){var r=n instanceof tp?np(n):new tp(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ip(r,r.m);else{var i=jd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new tp(null);r&&rp(s,r),t&&(s.g=t),i&&ip(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ap(r,n,t),ap(r,"VER",e.ra),lm(e,r),r}function _m(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bp(new Lp({ob:!0})):new Bp(e.va)).Oa(e.J),t}function Im(){}function Sm(){if(ch&&!(10<=Number(wh)))throw Error("Environmental error: no available transport.")}function Em(e,t){Wh.call(this),this.g=new rm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Cm(this)}function Tm(e){Of.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function km(){Mf.call(this),this.status=1}function Cm(e){this.g=e}function xm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Nm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Am(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(qd=Bp.prototype).Oa=function(e){this.M=e},qd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pf.g(),this.C=this.u?Af(this.u):Af(Pf),this.g.onreadystatechange=Qd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Hp(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=jd.FormData&&e instanceof jd.FormData,!(0<=$d(Wp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Jp(this),0<this.B&&((this.L=function(e){return ch&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qd(this.ua,this)):this.A=lf(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Hp(this,s)}},qd.ua=function(){"undefined"!=typeof Vd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hh(this,"timeout"),this.abort(8))},qd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hh(this,"complete"),Hh(this,"abort"),Xp(this))},qd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xp(this,!0)),Bp.$.N.call(this)},qd.La=function(){this.s||(this.G||this.v||this.l?Yp(this):this.kb())},qd.kb=function(){Yp(this)},qd.isActive=function(){return!!this.g},qd.da=function(){try{return 2<$p(this)?this.g.status:-1}catch(Dp){return-1}},qd.ja=function(){try{return this.g?this.g.responseText:""}catch(Dp){return""}},qd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zp(t)}},qd.Ia=function(){return this.m},qd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(qd=rm.prototype).ra=8,qd.H=1,qd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new qf(this,this.l,e);let s=this.s;if(this.U&&(s?(s=xh(s),Ah(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=cm(this,i,t),ap(n=np(this.I),"RID",e),ap(n,"CVER",22),this.F&&ap(n,"X-HTTP-Session-Id",this.F),lm(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(em(s)))+"&"+t:this.o&&tm(n,this.o,s)),xp(this.i,i),this.bb&&ap(n,"TYPE","init"),this.P?(ap(n,"$req",t),ap(n,"SID","null"),i.aa=!0,zf(i,n,null)):zf(i,n,t),this.H=2}}else 3==this.H&&(e?um(this,e):0==this.j.length||Tp(this.i)||um(this))},qd.Ma=function(){if(this.u=null,pm(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=kf(Qd(this.jb,this),e)}},qd.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ef(10),sm(this),pm(this))},qd.ib=function(){null!=this.v&&(this.v=null,sm(this),hm(this),Ef(19))},qd.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ef(2)):(this.l.info("Failed to ping google.com"),Ef(1))},qd.isActive=function(){return!!this.h&&this.h.isActive(this)},(qd=Im.prototype).Ba=function(){},qd.Aa=function(){},qd.za=function(){},qd.ya=function(){},qd.isActive=function(){return!0},qd.Va=function(){},Sm.prototype.g=function(e,t){return new Em(e,t)},Xd(Em,Wh),Em.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ef(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=wm(e,null,e.Y),om(e)},Em.prototype.close=function(){im(this.g)},Em.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Yh(e),e=n);t.j.push(new Ip(t.fb++,e)),3==t.H&&om(t)},Em.prototype.N=function(){this.g.h=null,delete this.j,im(this.g),delete this.g,Em.$.N.call(this)},Xd(Tm,Of),Xd(km,Mf),Xd(Cm,Im),Cm.prototype.Ba=function(){Hh(this.g,"a")},Cm.prototype.Aa=function(e){Hh(this.g,new Tm(e))},Cm.prototype.za=function(e){Hh(this.g,new km)},Cm.prototype.ya=function(){Hh(this.g,"b")},Xd(xm,(function(){this.blockSize=-1})),xm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Nm(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Nm(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Nm(this,r),i=0;break}}this.h=i,this.i+=t},xm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Dm={};function Pm(e){return-128<=e&&128>e?function(e,t){var n=Dm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Am([0|e],0>e?-1:0)})):new Am([0|e],0>e?-1:0)}function Rm(e){if(isNaN(e)||!isFinite(e))return Mm;if(0>e)return Vm(Rm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Om;return new Am(t,0)}var Om=4294967296,Mm=Pm(0),Lm=Pm(1),qm=Pm(16777216);function Fm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Um(e){return-1==e.h}function Vm(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Am(n,~e.h).add(Lm)}function jm(e,t){return e.add(Vm(t))}function zm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Bm(e,t){this.g=e,this.h=t}function Km(e,t){if(Fm(t))throw Error("division by zero");if(Fm(e))return new Bm(Mm,Mm);if(Um(e))return t=Km(Vm(e),t),new Bm(Vm(t.g),Vm(t.h));if(Um(t))return t=Km(e,Vm(t)),new Bm(Vm(t.g),t.h);if(30<e.g.length){if(Um(e)||Um(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Lm,r=t;0>=r.X(e);)n=Gm(n),r=Gm(r);var i=Wm(n,1),s=Wm(r,1);for(r=Wm(r,2),n=Wm(n,2);!Fm(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Wm(r,1),n=Wm(n,1)}return t=jm(e,i.R(t)),new Bm(i,t)}for(i=Mm;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=Rm(n)).R(t);Um(a)||0<a.X(e);)a=(s=Rm(n-=r)).R(t);Fm(s)&&(s=Lm),i=i.add(s),e=jm(e,a)}return new Bm(i,e)}function Gm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Am(n,e.h)}function Wm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Am(i,e.h)}(qd=Am.prototype).ea=function(){if(Um(this))return-Vm(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Om+r)*t,t*=Om}return e},qd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Fm(this))return"0";if(Um(this))return"-"+Vm(this).toString(e);for(var t=Rm(Math.pow(e,6)),n=this,r="";;){var i=Km(n,t).g,s=((0<(n=jm(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Fm(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},qd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},qd.X=function(e){return Um(e=jm(this,e))?-1:Fm(e)?0:1},qd.abs=function(){return Um(this)?Vm(this):this},qd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new Am(n,-2147483648&n[n.length-1]?-1:0)},qd.R=function(e){if(Fm(this)||Fm(e))return Mm;if(Um(this))return Um(e)?Vm(this).R(Vm(e)):Vm(Vm(this).R(e));if(Um(e))return Vm(this.R(Vm(e)));if(0>this.X(qm)&&0>e.X(qm))return Rm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=a*u,zm(n,2*r+2*i),n[2*r+2*i+1]+=s*u,zm(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,zm(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,zm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Am(n,0)},qd.gb=function(e){return Km(this,e).h},qd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Am(n,this.h&e.h)},qd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Am(n,this.h|e.h)},qd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Am(n,this.h^e.h)},Sm.prototype.createWebChannel=Sm.prototype.g,Em.prototype.send=Em.prototype.u,Em.prototype.open=Em.prototype.m,Em.prototype.close=Em.prototype.close,Cf.NO_ERROR=0,Cf.TIMEOUT=8,Cf.HTTP_ERROR=6,xf.COMPLETE="complete",Df.EventType=Rf,Rf.OPEN="a",Rf.CLOSE="b",Rf.ERROR="c",Rf.MESSAGE="d",Wh.prototype.listen=Wh.prototype.O,Bp.prototype.listenOnce=Bp.prototype.P,Bp.prototype.getLastError=Bp.prototype.Sa,Bp.prototype.getLastErrorCode=Bp.prototype.Ia,Bp.prototype.getStatus=Bp.prototype.da,Bp.prototype.getResponseJson=Bp.prototype.Wa,Bp.prototype.getResponseText=Bp.prototype.ja,Bp.prototype.send=Bp.prototype.ha,Bp.prototype.setWithCredentials=Bp.prototype.Oa,xm.prototype.digest=xm.prototype.l,xm.prototype.reset=xm.prototype.reset,xm.prototype.update=xm.prototype.j,Am.prototype.add=Am.prototype.add,Am.prototype.multiply=Am.prototype.R,Am.prototype.modulo=Am.prototype.gb,Am.prototype.compare=Am.prototype.X,Am.prototype.toNumber=Am.prototype.ea,Am.prototype.toString=Am.prototype.toString,Am.prototype.getBits=Am.prototype.D,Am.fromNumber=Rm,Am.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Vm(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Rm(Math.pow(n,8)),i=Mm,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=Rm(Math.pow(n,a)),i=i.R(a).add(Rm(o))):i=(i=i.R(r)).add(Rm(o))}return i};var Hm=Ud.createWebChannelTransport=function(){return new Sm},Qm=Ud.getStatEventTarget=function(){return wf()},Ym=Ud.ErrorCode=Cf,Xm=Ud.EventType=xf,Jm=Ud.Event=yf,$m=Ud.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Zm=Ud.FetchXmlHttpFactory=Lp,eg=Ud.WebChannel=Df,tg=Ud.XhrIo=Bp,ng=Ud.Md5=xm,rg=Ud.Integer=Am;const ig="@firebase/firestore";class sg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sg.UNAUTHENTICATED=new sg(null),sg.GOOGLE_CREDENTIALS=new sg("google-credentials-uid"),sg.FIRST_PARTY=new sg("first-party-uid"),sg.MOCK_USER=new sg("mock-user");let ag="9.23.0";const og=new ls("@firebase/firestore");function ug(){return og.logLevel}function lg(e){if(og.logLevel<=is.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hg);og.debug("Firestore (".concat(ag,"): ").concat(e),...i)}}function cg(e){if(og.logLevel<=is.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hg);og.error("Firestore (".concat(ag,"): ").concat(e),...i)}}function dg(e){if(og.logLevel<=is.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hg);og.warn("Firestore (".concat(ag,"): ").concat(e),...i)}}function hg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ag,") INTERNAL ASSERTION FAILED: ")+e;throw cg(t),new Error(t)}function pg(e,t){e||fg()}function mg(e,t){return e}const gg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vg extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class yg{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class bg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(sg.UNAUTHENTICATED)))}shutdown(){}}class _g{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ig{constructor(e){this.t=e,this.currentUser=sg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new yg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new yg,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{lg("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(lg("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new yg)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(lg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(pg("string"==typeof t.accessToken),new bg(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pg(null===e||"string"==typeof e),new sg(e)}}class Sg{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=sg.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Eg{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Sg(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(sg.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kg{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&lg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,lg("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{lg("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):lg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(pg("string"==typeof e.token),this.T=e.token,new Tg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class xg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Cg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ng(e,t){return e<t?-1:e>t?1:0}function Ag(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Dg(e){return e+"\0"}class Pg{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vg(gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vg(gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vg(gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vg(gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pg.fromMillis(Date.now())}static fromDate(e){return Pg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Pg(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ng(this.nanoseconds,e.nanoseconds):Ng(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rg(e)}static min(){return new Rg(new Pg(0,0))}static max(){return new Rg(new Pg(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Og{constructor(e,t,n){void 0===t?t=0:t>e.length&&fg(),void 0===n?n=e.length-t:n>e.length-t&&fg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Og.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Og?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Mg extends Og{construct(e,t,n){return new Mg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new vg(gg.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Mg(e)}static emptyPath(){return new Mg([])}}const Lg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qg extends Og{construct(e,t,n){return new qg(e,t,n)}static isValidIdentifier(e){return Lg.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new vg(gg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new vg(gg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new vg(gg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new vg(gg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qg(t)}static emptyPath(){return new qg([])}}class Fg{constructor(e){this.path=e}static fromPath(e){return new Fg(Mg.fromString(e))}static fromName(e){return new Fg(Mg.fromString(e).popFirst(5))}static empty(){return new Fg(Mg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Mg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Mg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fg(new Mg(e.slice()))}}class Ug{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Vg(e){return e.fields.find((e=>2===e.kind))}function jg(e){return e.fields.filter((e=>2!==e.kind))}Ug.UNKNOWN_ID=-1;class zg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Bg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Bg(0,Wg.min())}}function Kg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Rg.fromTimestamp(1e9===r?new Pg(n+1,0):new Pg(n,r));return new Wg(i,Fg.empty(),t)}function Gg(e){return new Wg(e.readTime,e.key,-1)}class Wg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Wg(Rg.min(),Fg.empty(),-1)}static max(){return new Wg(Rg.max(),Fg.empty(),-1)}}function Hg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fg.comparator(e.documentKey,t.documentKey),0!==n?n:Ng(e.largestBatchId,t.largestBatchId))}const Qg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xg(e){if(e.code!==gg.FAILED_PRECONDITION||e.message!==Qg)throw e;lg("LocalStore","Unexpectedly lost primary lease")}class Jg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Jg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Jg?t:Jg.resolve(t)}catch(e){return Jg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Jg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Jg.reject(t)}static resolve(e){return new Jg(((t,n)=>{t(e)}))}static reject(e){return new Jg(((t,n)=>{n(e)}))}static waitFor(e){return new Jg(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Jg.resolve(!1);for(const n of e)t=t.next((e=>e?Jg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Jg(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const u=o;t(e[u]).next((e=>{s[u]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Jg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class $g{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new yg,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new tv(e,t.error)):this.v.resolve()},this.transaction.onerror=t=>{const n=av(t.target.error);this.v.reject(new tv(e,n))}}static open(e,t,n,r){try{return new $g(t,e.transaction(r,n))}catch(e){throw new tv(t,e)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(lg("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new rv(t)}}class Zg{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===Zg.S(Oi())&&cg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lg("SimpleDb","Removing database:",e),iv(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ui())return!1;if(Zg.C())return!0;const e=Oi(),t=Zg.S(e),n=0<t&&t<10,r=Zg.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-blog/public",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async $(e){return this.db||(lg("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new tv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new vg(gg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new vg(gg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new tv(e,r))},r.onupgradeneeded=e=>{lg("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.O(t,r.transaction,e.oldVersion,this.version).next((()=>{lg("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.$(e);const t=$g.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),Jg.reject(e)))).toPromise();return s.catch((()=>{})),await t.R,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(lg("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ev{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return iv(this.L.delete())}}class tv extends vg{constructor(e,t){super(gg.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function nv(e){return"IndexedDbTransactionError"===e.name}class rv{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(lg("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lg("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),iv(n)}add(e){return lg("SimpleDb","ADD",this.store.name,e,e),iv(this.store.add(e))}get(e){return iv(this.store.get(e)).next((t=>(void 0===t&&(t=null),lg("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return lg("SimpleDb","DELETE",this.store.name,e),iv(this.store.delete(e))}count(){return lg("SimpleDb","COUNT",this.store.name),iv(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Jg(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Jg(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){lg("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new Jg(((n,r)=>{t.onerror=e=>{const t=av(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new Jg(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ev(i),a=t(i.primaryKey,i.value,s);if(a instanceof Jg){const e=a.catch((e=>(s.done(),Jg.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>Jg.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function iv(e){return new Jg(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=av(e.target.error);n(t)}}))}let sv=!1;function av(e){const t=Zg.S(Oi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new vg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sv||(sv=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ov{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){lg("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{lg("IndexBackiller","Documents written: ".concat(await this.tt.nt()))}catch(e){nv(e)?lg("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Xg(e)}await this.et(6e4)}))}}class uv{constructor(e,t){this.localStore=e,this.persistence=t}async nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return Jg.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return lg("IndexBackiller","Processing collection: ".concat(t)),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(lg("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Gg(t);Hg(r,n)>0&&(n=r)})),new Wg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class lv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function cv(e){return null==e}function dv(e){return 0===e&&1/e==-1/0}function hv(e){return"number"==typeof e&&Number.isInteger(e)&&!dv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function fv(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=mv(t)),t=pv(e.get(n),t);return mv(t)}function pv(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function mv(e){return e+"\x01\x01"}function gv(e){const t=e.length;if(pg(t>=2),2===t)return pg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mg.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&fg(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:fg()}s=t+2}return new Mg(r)}lv.ct=-1;const vv=["userId","batchId"];function yv(e,t){return[e,fv(t)]}function bv(e,t,n){return[e,fv(t),n]}const wv={},_v=["prefixPath","collectionGroup","readTime","documentId"],Iv=["prefixPath","collectionGroup","documentId"],Sv=["collectionGroup","readTime","prefixPath","documentId"],Ev=["canonicalId","targetId"],Tv=["targetId","path"],kv=["path","targetId"],Cv=["collectionId","parent"],xv=["indexId","uid"],Nv=["uid","sequenceNumber"],Av=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dv=["indexId","uid","orderedDocumentKey"],Pv=["userId","collectionPath","documentId"],Rv=["userId","collectionPath","largestBatchId"],Ov=["userId","collectionGroup","largestBatchId"],Mv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Lv=[...Mv,"documentOverlays"],qv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Fv=qv,Uv=[...Fv,"indexConfiguration","indexState","indexEntries"];class Vv extends Yg{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function jv(e,t){const n=mg(e);return Zg.M(n.ht,t)}function zv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Kv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Gv{constructor(e,t){this.comparator=e,this.root=t||Hv.EMPTY}insert(e,t){return new Gv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hv.BLACK,null,null))}remove(e){return new Gv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wv(this.root,e,this.comparator,!0)}}class Wv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Hv.RED,this.left=null!=r?r:Hv.EMPTY,this.right=null!=i?i:Hv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Hv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Hv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Hv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fg();if(this.right.isRed())throw fg();const e=this.left.check();if(e!==this.right.check())throw fg();return e+(this.isRed()?0:1)}}Hv.EMPTY=null,Hv.RED=!0,Hv.BLACK=!1,Hv.EMPTY=new class{constructor(){this.size=0}get key(){throw fg()}get value(){throw fg()}get color(){throw fg()}get left(){throw fg()}get right(){throw fg()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Hv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qv{constructor(e){this.comparator=e,this.data=new Gv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yv(this.data.getIterator())}getIteratorFrom(e){return new Yv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Qv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qv(this.comparator);return t.data=e,t}}class Yv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xv(e){return e.hasNext()?e.getNext():void 0}class Jv{constructor(e){this.fields=e,e.sort(qg.comparator)}static empty(){return new Jv([])}unionWith(e){let t=new Qv(qg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Jv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ag(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $v("Invalid base64 string: "+e):e}}(e);return new Zv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Zv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ng(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zv.EMPTY_BYTE_STRING=new Zv("");const ey=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ty(e){if(pg(!!e),"string"==typeof e){let t=0;const n=ey.exec(e);if(pg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ny(e.seconds),nanos:ny(e.nanos)}}function ny(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ry(e){return"string"==typeof e?Zv.fromBase64String(e):Zv.fromUint8Array(e)}function iy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sy(e){const t=e.mapValue.fields.__previous_value__;return iy(t)?sy(t):t}function ay(e){const t=ty(e.mapValue.fields.__local_write_time__.timestampValue);return new Pg(t.seconds,t.nanos)}class oy{constructor(e,t,n,r,i,s,a,o,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=u}}class uy{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uy("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof uy&&e.projectId===this.projectId&&e.database===this.database}}const ly={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cy={nullValue:"NULL_VALUE"};function dy(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iy(e)?4:Ty(e)?9007199254740991:10:fg()}function hy(e,t){if(e===t)return!0;const n=dy(e);if(n!==dy(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ay(e).isEqual(ay(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ty(e.timestampValue),r=ty(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ry(e.bytesValue).isEqual(ry(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ny(e.geoPointValue.latitude)===ny(t.geoPointValue.latitude)&&ny(e.geoPointValue.longitude)===ny(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ny(e.integerValue)===ny(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ny(e.doubleValue),r=ny(t.doubleValue);return n===r?dv(n)===dv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ag(e.arrayValue.values||[],t.arrayValue.values||[],hy);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zv(n)!==zv(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!hy(n[i],r[i])))return!1;return!0}(e,t);default:return fg()}}function fy(e,t){return void 0!==(e.values||[]).find((e=>hy(e,t)))}function py(e,t){if(e===t)return 0;const n=dy(e),r=dy(t);if(n!==r)return Ng(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ng(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ny(e.integerValue||e.doubleValue),r=ny(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return my(e.timestampValue,t.timestampValue);case 4:return my(ay(e),ay(t));case 5:return Ng(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ry(e),r=ry(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ng(n[i],r[i]);if(0!==e)return e}return Ng(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ng(ny(e.latitude),ny(t.latitude));return 0!==n?n:Ng(ny(e.longitude),ny(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=py(n[i],r[i]);if(e)return e}return Ng(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ly.mapValue&&t===ly.mapValue)return 0;if(e===ly.mapValue)return 1;if(t===ly.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Ng(r[a],s[a]);if(0!==e)return e;const t=py(n[r[a]],i[s[a]]);if(0!==t)return t}return Ng(r.length,s.length)}(e.mapValue,t.mapValue);default:throw fg()}}function my(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ng(e,t);const n=ty(e),r=ty(t),i=Ng(n.seconds,r.seconds);return 0!==i?i:Ng(n.nanos,r.nanos)}function gy(e){return vy(e)}function vy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ty(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ry(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Fg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=vy(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(vy(e.fields[i]));return n+"}"}(e.mapValue):fg();var t,n}function yy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function by(e){return!!e&&"integerValue"in e}function wy(e){return!!e&&"arrayValue"in e}function _y(e){return!!e&&"nullValue"in e}function Iy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sy(e){return!!e&&"mapValue"in e}function Ey(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Ey(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ey(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ty(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ky(e){return"nullValue"in e?cy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?yy(uy.empty(),Fg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:fg()}function Cy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?yy(uy.empty(),Fg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?ly:fg()}function xy(e,t){const n=py(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ny(e,t){const n=py(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class Ay{constructor(e){this.value=e}static empty(){return new Ay({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Sy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ey(t)}setAll(e){let t=qg.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ey(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Sy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hy(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Sy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ay(Ey(this.value))}}function Dy(e){const t=[];return Bv(e.fields,((e,n)=>{const r=new qg([e]);if(Sy(n)){const e=Dy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Jv(t)}class Py{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Py(e,0,Rg.min(),Rg.min(),Rg.min(),Ay.empty(),0)}static newFoundDocument(e,t,n,r){return new Py(e,1,t,Rg.min(),n,r,0)}static newNoDocument(e,t){return new Py(e,2,t,Rg.min(),Rg.min(),Ay.empty(),0)}static newUnknownDocument(e,t){return new Py(e,3,t,Rg.min(),Rg.min(),Ay.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ay.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ay.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Py&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Py(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ry{constructor(e,t){this.position=e,this.inclusive=t}}function Oy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Fg.comparator(Fg.fromName(a.referenceValue),n.key):py(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function My(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!hy(e.position[n],t.position[n]))return!1;return!0}class Ly{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function qy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Fy{}class Uy extends Fy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Yy(e,t,n):"array-contains"===t?new Zy(e,n):"in"===t?new eb(e,n):"not-in"===t?new tb(e,n):"array-contains-any"===t?new nb(e,n):new Uy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Xy(e,n):new Jy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(py(t,this.value)):null!==t&&dy(this.value)===dy(t)&&this.matchesComparison(py(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fg()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vy extends Fy{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Vy(e,t)}matches(e){return jy(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function jy(e){return"and"===e.op}function zy(e){return"or"===e.op}function By(e){return Ky(e)&&jy(e)}function Ky(e){for(const t of e.filters)if(t instanceof Vy)return!1;return!0}function Gy(e){if(e instanceof Uy)return e.field.canonicalString()+e.op.toString()+gy(e.value);if(By(e))return e.filters.map((e=>Gy(e))).join(",");{const t=e.filters.map((e=>Gy(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Wy(e,t){return e instanceof Uy?function(e,t){return t instanceof Uy&&e.op===t.op&&e.field.isEqual(t.field)&&hy(e.value,t.value)}(e,t):e instanceof Vy?function(e,t){return t instanceof Vy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Wy(n,t.filters[r])),!0)}(e,t):void fg()}function Hy(e,t){const n=e.filters.concat(t);return Vy.create(n,e.op)}function Qy(e){return e instanceof Uy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(gy(e.value))}(e):e instanceof Vy?function(e){return e.op.toString()+" {"+e.getFilters().map(Qy).join(" ,")+"}"}(e):"Filter"}class Yy extends Uy{constructor(e,t,n){super(e,t,n),this.key=Fg.fromName(n.referenceValue)}matches(e){const t=Fg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xy extends Uy{constructor(e,t){super(e,"in",t),this.keys=$y("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jy extends Uy{constructor(e,t){super(e,"not-in",t),this.keys=$y("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $y(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Fg.fromName(e.referenceValue)))}class Zy extends Uy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wy(t)&&fy(t.arrayValue,this.value)}}class eb extends Uy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&fy(this.value.arrayValue,t)}}class tb extends Uy{constructor(e,t){super(e,"not-in",t)}matches(e){if(fy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!fy(this.value.arrayValue,t)}}class nb extends Uy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wy(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>fy(this.value.arrayValue,e)))}}class rb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function ib(e){return new rb(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sb(e){const t=mg(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Gy(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),cv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>gy(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>gy(e))).join(",")),t.dt=e}return t.dt}function ab(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!qy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Wy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!My(e.startAt,t.startAt)&&My(e.endAt,t.endAt)}function ob(e){return Fg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ub(e,t){return e.filters.filter((e=>e instanceof Uy&&e.field.isEqual(t)))}function lb(e,t,n){let r=cy,i=!0;for(const s of ub(e,t)){let e=cy,t=!0;switch(s.op){case"<":case"<=":e=ky(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=cy}xy({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];xy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function cb(e,t,n){let r=ly,i=!0;for(const s of ub(e,t)){let e=ly,t=!0;switch(s.op){case">=":case">":e=Cy(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=ly}Ny({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ny({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class db{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function hb(e,t,n,r,i,s,a,o){return new db(e,t,n,r,i,s,a,o)}function fb(e){return new db(e)}function pb(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function mb(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gb(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function vb(e){return null!==e.collectionGroup}function yb(e){const t=mg(e);if(null===t.wt){t.wt=[];const e=gb(t),n=mb(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Ly(e)),t.wt.push(new Ly(qg.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ly(qg.keyField(),e))}}}return t.wt}function bb(e){const t=mg(e);if(!t._t)if("F"===t.limitType)t._t=ib(t.path,t.collectionGroup,yb(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of yb(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Ly(i.field,t))}const n=t.endAt?new Ry(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ry(t.startAt.position,t.startAt.inclusive):null;t._t=ib(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function wb(e,t){t.getFirstInequalityField(),gb(e);const n=e.filters.concat([t]);return new db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function _b(e,t,n){return new db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ib(e,t){return ab(bb(e),bb(t))&&e.limitType===t.limitType}function Sb(e){return"".concat(sb(bb(e)),"|lt:").concat(e.limitType)}function Eb(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Qy(e))).join(", "),"]")),cv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>gy(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>gy(e))).join(",")),"Target(".concat(t,")")}(bb(e)),"; limitType=").concat(e.limitType,")")}function Tb(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of yb(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Oy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,yb(e),t))&&!(e.endAt&&!function(e,t,n){const r=Oy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,yb(e),t))}(e,t)}function kb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Cb(e){return(t,n)=>{let r=!1;for(const i of yb(e)){const e=xb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function xb(e,t,n){const r=e.field.isKeyField()?Fg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?py(r,i):fg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fg()}}class Nb{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Kv(this.inner)}size(){return this.innerSize}}const Ab=new Gv(Fg.comparator);function Db(){return Ab}const Pb=new Gv(Fg.comparator);function Rb(){let e=Pb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ob(e){let t=Pb;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Mb(){return qb()}function Lb(){return qb()}function qb(){return new Nb((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Fb=new Gv(Fg.comparator),Ub=new Qv(Fg.comparator);function Vb(){let e=Ub;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const jb=new Qv(Ng);function zb(){return jb}function Bb(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dv(t)?"-0":t}}function Kb(e){return{integerValue:""+e}}function Gb(e,t){return hv(t)?Kb(t):Bb(e,t)}class Wb{constructor(){this._=void 0}}function Hb(e,t,n){return e instanceof Xb?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&iy(t)&&(t=sy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jb?$b(e,t):e instanceof Zb?ew(e,t):function(e,t){const n=Yb(e,t),r=nw(n)+nw(e.gt);return by(n)&&by(e.gt)?Kb(r):Bb(e.serializer,r)}(e,t)}function Qb(e,t,n){return e instanceof Jb?$b(e,t):e instanceof Zb?ew(e,t):n}function Yb(e,t){return e instanceof tw?by(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Xb extends Wb{}class Jb extends Wb{constructor(e){super(),this.elements=e}}function $b(e,t){const n=rw(t);for(const r of e.elements)n.some((e=>hy(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Zb extends Wb{constructor(e){super(),this.elements=e}}function ew(e,t){let n=rw(t);for(const r of e.elements)n=n.filter((e=>!hy(e,r)));return{arrayValue:{values:n}}}class tw extends Wb{constructor(e,t){super(),this.serializer=e,this.gt=t}}function nw(e){return ny(e.integerValue||e.doubleValue)}function rw(e){return wy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class iw{constructor(e,t){this.field=e,this.transform=t}}class sw{constructor(e,t){this.version=e,this.transformResults=t}}class aw{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new aw}static exists(e){return new aw(void 0,e)}static updateTime(e){return new aw(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ow(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class uw{}function lw(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bw(e.key,aw.none()):new pw(e.key,e.data,aw.none());{const n=e.data,r=Ay.empty();let i=new Qv(qg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new mw(e.key,r,new Jv(i.toArray()),aw.none())}}function cw(e,t,n){e instanceof pw?function(e,t,n){const r=e.value.clone(),i=vw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mw?function(e,t,n){if(!ow(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=vw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gw(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dw(e,t,n,r){return e instanceof pw?function(e,t,n,r){if(!ow(e.precondition,t))return n;const i=e.value.clone(),s=yw(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof mw?function(e,t,n,r){if(!ow(e.precondition,t))return n;const i=yw(e.fieldTransforms,r,t),s=t.data;return s.setAll(gw(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ow(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hw(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Yb(r.transform,e||null);null!=i&&(null===n&&(n=Ay.empty()),n.set(r.field,i))}return n||null}function fw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ag(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jb&&t instanceof Jb||e instanceof Zb&&t instanceof Zb?Ag(e.elements,t.elements,hy):e instanceof tw&&t instanceof tw?hy(e.gt,t.gt):e instanceof Xb&&t instanceof Xb}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pw extends uw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class mw extends uw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gw(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function vw(e,t,n){const r=new Map;pg(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Qb(a,o,n[i]))}return r}function yw(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Hb(e,s,t))}return r}class bw extends uw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ww extends uw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _w{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&cw(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=dw(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=dw(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Lb();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=lw(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Rg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vb())}isEqual(e){return this.batchId===e.batchId&&Ag(this.mutations,e.mutations,((e,t)=>fw(e,t)))&&Ag(this.baseMutations,e.baseMutations,((e,t)=>fw(e,t)))}}class Iw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){pg(e.mutations.length===n.length);let r=Fb;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Iw(e,t,n,r)}}class Sw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ew{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tw,kw;function Cw(e){switch(e){default:return fg();case gg.CANCELLED:case gg.UNKNOWN:case gg.DEADLINE_EXCEEDED:case gg.RESOURCE_EXHAUSTED:case gg.INTERNAL:case gg.UNAVAILABLE:case gg.UNAUTHENTICATED:return!1;case gg.INVALID_ARGUMENT:case gg.NOT_FOUND:case gg.ALREADY_EXISTS:case gg.PERMISSION_DENIED:case gg.FAILED_PRECONDITION:case gg.ABORTED:case gg.OUT_OF_RANGE:case gg.UNIMPLEMENTED:case gg.DATA_LOSS:return!0}}function xw(e){if(void 0===e)return cg("GRPC error has no .code"),gg.UNKNOWN;switch(e){case Tw.OK:return gg.OK;case Tw.CANCELLED:return gg.CANCELLED;case Tw.UNKNOWN:return gg.UNKNOWN;case Tw.DEADLINE_EXCEEDED:return gg.DEADLINE_EXCEEDED;case Tw.RESOURCE_EXHAUSTED:return gg.RESOURCE_EXHAUSTED;case Tw.INTERNAL:return gg.INTERNAL;case Tw.UNAVAILABLE:return gg.UNAVAILABLE;case Tw.UNAUTHENTICATED:return gg.UNAUTHENTICATED;case Tw.INVALID_ARGUMENT:return gg.INVALID_ARGUMENT;case Tw.NOT_FOUND:return gg.NOT_FOUND;case Tw.ALREADY_EXISTS:return gg.ALREADY_EXISTS;case Tw.PERMISSION_DENIED:return gg.PERMISSION_DENIED;case Tw.FAILED_PRECONDITION:return gg.FAILED_PRECONDITION;case Tw.ABORTED:return gg.ABORTED;case Tw.OUT_OF_RANGE:return gg.OUT_OF_RANGE;case Tw.UNIMPLEMENTED:return gg.UNIMPLEMENTED;case Tw.DATA_LOSS:return gg.DATA_LOSS;default:return fg()}}(kw=Tw||(Tw={}))[kw.OK=0]="OK",kw[kw.CANCELLED=1]="CANCELLED",kw[kw.UNKNOWN=2]="UNKNOWN",kw[kw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kw[kw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kw[kw.NOT_FOUND=5]="NOT_FOUND",kw[kw.ALREADY_EXISTS=6]="ALREADY_EXISTS",kw[kw.PERMISSION_DENIED=7]="PERMISSION_DENIED",kw[kw.UNAUTHENTICATED=16]="UNAUTHENTICATED",kw[kw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kw[kw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kw[kw.ABORTED=10]="ABORTED",kw[kw.OUT_OF_RANGE=11]="OUT_OF_RANGE",kw[kw.UNIMPLEMENTED=12]="UNIMPLEMENTED",kw[kw.INTERNAL=13]="INTERNAL",kw[kw.UNAVAILABLE=14]="UNAVAILABLE",kw[kw.DATA_LOSS=15]="DATA_LOSS";class Nw{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Aw}static getOrCreateInstance(){return null===Aw&&(Aw=new Nw),Aw}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Aw=null;function Dw(){return new TextEncoder}const Pw=new rg([4294967295,4294967295],0);function Rw(e){const t=Dw().encode(e),n=new ng;return n.update(t),new Uint8Array(n.digest())}function Ow(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new rg([n,r],0),new rg([i,s],0)]}class Mw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Lw("Invalid padding: ".concat(t));if(n<0)throw new Lw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Lw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Lw("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=rg.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(rg.fromNumber(n)));return 1===r.compare(Pw)&&(r=new rg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Rw(e),[n,r]=Ow(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Mw(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.It)return;const t=Rw(e),[n,r]=Ow(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Lw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Fw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qw(Rg.min(),r,new Gv(Ng),Db(),Vb())}}class Fw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Fw(n,t,Vb(),Vb(),Vb())}}class Uw{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Vw{constructor(e,t){this.targetId=e,this.Vt=t}}class jw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zw{constructor(){this.St=0,this.Dt=Gw(),this.Ct=Zv.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Vb(),t=Vb(),n=Vb();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fg()}})),new Fw(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Gw()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Bw{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Db(),this.zt=Kw(),this.Wt=new Gv(Ng)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:fg()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(ob(s))if(0===r){const e=new Fg(s.path);this.Yt(n,e,Py.newNoDocument(e,Rg.min()))}else pg(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=Nw.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,u;const l={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(u=null===(o=null==c?void 0:c.bits)||void 0===o?void 0:o.padding)&&void 0!==u?u:0}),l}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,u;try{o=ry(i).toUint8Array()}catch(e){if(e instanceof $v)return dg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{u=new Mw(o,s,a)}catch(e){return dg(e instanceof Lw?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===u.It?1:r!==t-this.oe(e.targetId,u)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&ob(i.target)){const t=new Fg(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Py.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Vb();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new qw(e,t,this.Wt,this.jt,n);return this.jt=Db(),this.zt=Kw(),this.Wt=new Gv(Ng),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new zw,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Qv(Ng),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||lg("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new zw),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Kw(){return new Gv(Fg.comparator)}function Gw(){return new Gv(Fg.comparator)}const Ww={asc:"ASCENDING",desc:"DESCENDING"},Hw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qw={and:"AND",or:"OR"};class Yw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Xw(e,t){return e.useProto3Json||cv(t)?t:{value:t}}function Jw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function $w(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zw(e,t){return Jw(e,t.toTimestamp())}function e_(e){return pg(!!e),Rg.fromTimestamp(function(e){const t=ty(e);return new Pg(t.seconds,t.nanos)}(e))}function t_(e,t){return function(e){return new Mg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function n_(e){const t=Mg.fromString(e);return pg(E_(t)),t}function r_(e,t){return t_(e.databaseId,t.path)}function i_(e,t){const n=n_(t);if(n.get(1)!==e.databaseId.projectId)throw new vg(gg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vg(gg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fg(u_(n))}function s_(e,t){return t_(e.databaseId,t)}function a_(e){const t=n_(e);return 4===t.length?Mg.emptyPath():u_(t)}function o_(e){return new Mg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function u_(e){return pg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function l_(e,t,n){return{name:r_(e,t),fields:n.value.mapValue.fields}}function c_(e,t,n){const r=i_(e,t.name),i=e_(t.updateTime),s=t.createTime?e_(t.createTime):Rg.min(),a=new Ay({mapValue:{fields:t.fields}}),o=Py.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function d_(e,t){let n;if(t instanceof pw)n={update:l_(e,t.key,t.value)};else if(t instanceof bw)n={delete:r_(e,t.key)};else if(t instanceof mw)n={update:l_(e,t.key,t.data),updateMask:S_(t.fieldMask)};else{if(!(t instanceof ww))return fg();n={verify:r_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Xb)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Zb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof tw)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw fg()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fg()}(e,t.precondition)),n}function h_(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?aw.updateTime(e_(e.updateTime)):void 0!==e.exists?aw.exists(e.exists):aw.none()}(t.currentDocument):aw.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)pg("REQUEST_TIME"===t.setToServerValue),n=new Xb;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Jb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Zb(e)}else"increment"in t?n=new tw(e,t.increment):fg();const r=qg.fromServerFormat(t.fieldPath);return new iw(r,n)}(e,t))):[];if(t.update){t.update.name;const i=i_(e,t.update.name),s=new Ay({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Jv(t.map((e=>qg.fromServerFormat(e))))}(t.updateMask);return new mw(i,s,e,n,r)}return new pw(i,s,n,r)}if(t.delete){const r=i_(e,t.delete);return new bw(r,n)}if(t.verify){const r=i_(e,t.verify);return new ww(r,n)}return fg()}function f_(e,t){return{documents:[s_(e,t.path)]}}function p_(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=s_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=s_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return I_(Vy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:w_(e.field),direction:v_(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Xw(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function m_(e){let t=a_(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){pg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=g_(e);return t instanceof Vy&&By(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((e=>function(e){return new Ly(__(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,cv(t)?null:t}(n.limit));let u=null;n.startAt&&(u=function(e){const t=!!e.before,n=e.values||[];return new Ry(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new Ry(n,t)}(n.endAt)),hb(t,i,a,s,o,"F",u,l)}function g_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=__(e.unaryFilter.field);return Uy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=__(e.unaryFilter.field);return Uy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=__(e.unaryFilter.field);return Uy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=__(e.unaryFilter.field);return Uy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fg()}}(e):void 0!==e.fieldFilter?function(e){return Uy.create(__(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Vy.create(e.compositeFilter.filters.map((e=>g_(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fg()}}(e.compositeFilter.op))}(e):fg()}function v_(e){return Ww[e]}function y_(e){return Hw[e]}function b_(e){return Qw[e]}function w_(e){return{fieldPath:e.canonicalString()}}function __(e){return qg.fromServerFormat(e.fieldPath)}function I_(e){return e instanceof Uy?function(e){if("=="===e.op){if(Iy(e.value))return{unaryFilter:{field:w_(e.field),op:"IS_NAN"}};if(_y(e.value))return{unaryFilter:{field:w_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Iy(e.value))return{unaryFilter:{field:w_(e.field),op:"IS_NOT_NAN"}};if(_y(e.value))return{unaryFilter:{field:w_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w_(e.field),op:y_(e.op),value:e.value}}}(e):e instanceof Vy?function(e){const t=e.getFilters().map((e=>I_(e)));return 1===t.length?t[0]:{compositeFilter:{op:b_(e.op),filters:t}}}(e):fg()}function S_(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function E_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class T_{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Rg.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Rg.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zv.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new T_(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new T_(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new T_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new T_(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class k_{constructor(e){this.fe=e}}function C_(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:x_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:r_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Jw(e,t.version.toTimestamp()),createTime:Jw(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:N_(t.version)};else{if(!t.isUnknownDocument())return fg();r.unknownDocument={path:n.path.toArray(),version:N_(t.version)}}return r}function x_(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function N_(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function A_(e){const t=new Pg(e.seconds,e.nanoseconds);return Rg.fromTimestamp(t)}function D_(e,t){const n=(t.baseMutations||[]).map((t=>h_(e.fe,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>h_(e.fe,t))),i=Pg.fromMillis(t.localWriteTimeMs);return new _w(t.batchId,i,n,r)}function P_(e){const t=A_(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?A_(e.lastLimboFreeSnapshotVersion):Rg.min();let r;var i;return void 0!==e.query.documents?(pg(1===(i=e.query).documents.length),r=bb(fb(a_(i.documents[0])))):r=function(e){return bb(m_(e))}(e.query),new T_(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Zv.fromBase64String(e.resumeToken))}function R_(e,t){const n=N_(t.snapshotVersion),r=N_(t.lastLimboFreeSnapshotVersion);let i;i=ob(t.target)?f_(e.fe,t.target):p_(e.fe,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sb(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function O_(e){const t=m_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_b(t,t.limit,"L"):t}function M_(e,t){return new Sw(t.largestBatchId,h_(e.fe,t.overlayMutation))}function L_(e,t){const n=t.path.lastSegment();return[e,fv(t.path.popLast()),n]}function q_(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:N_(r.readTime),documentKey:fv(r.documentKey.path),largestBatchId:r.largestBatchId}}class F_{getBundleMetadata(e,t){return U_(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:A_(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return U_(e).put({bundleId:(n=t).id,createTime:N_(e_(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return V_(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:O_(t.bundledQuery),readTime:A_(t.readTime)};var t}))}saveNamedQuery(e,t){return V_(e).put(function(e){return{name:e.name,readTime:N_(e_(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function U_(e){return jv(e,"bundles")}function V_(e){return jv(e,"namedQueries")}class j_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){const n=t.uid||"";return new j_(e,n)}getOverlay(e,t){return z_(e).get(L_(this.userId,t)).next((e=>e?M_(this.serializer,e):null))}getOverlays(e,t){const n=Mb();return Jg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Sw(t,i);r.push(this.we(e,s))})),Jg.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(fv(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(z_(e).J("collectionPathOverlayIndex",r))})),Jg.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Mb(),i=fv(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return z_(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=M_(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Mb();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return z_(e).X({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=M_(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}we(e,t){return z_(e).put(function(e,t,n){const[r,i,s]=L_(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:d_(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}function z_(e){return jv(e,"documentOverlays")}class B_{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ny(e.integerValue));else if("doubleValue"in e){const n=ny(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),dv(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ry(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Ty(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):fg()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),Fg.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function K_(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function G_(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=K_(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}B_.Ve=new B_;class W_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.De(n.value),n=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ne(n.value),n=t.next();this.ke()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.De(e);else if(e<2048)this.De(960|e>>>6),this.De(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.De(480|e>>>12),this.De(128|63&e>>>6),this.De(128|63&e);else{const e=t.codePointAt(0);this.De(240|e>>>18),this.De(128|63&e>>>12),this.De(128|63&e>>>6),this.De(128|63&e)}}this.Ce()}$e(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ne(e);else if(e<2048)this.Ne(960|e>>>6),this.Ne(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e);else{const e=t.codePointAt(0);this.Ne(240|e>>>18),this.Ne(128|63&e>>>12),this.Ne(128|63&e>>>6),this.Ne(128|63&e)}}this.ke()}Oe(e){const t=this.Fe(e),n=G_(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),n=G_(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class H_{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class Q_{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Y_{constructor(){this.je=new W_,this.ze=new H_(this.je),this.We=new Q_(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class X_{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new X_(this.indexId,this.documentKey,this.arrayValue,n)}}function J_(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=$_(e.arrayValue,t.arrayValue),0!==n?n:(n=$_(e.directionalValue,t.directionalValue),0!==n?n:Fg.comparator(e.documentKey,t.documentKey)))}function $_(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Z_{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const e=t;e.isInequality()?this.Ze=e:this.Xe.push(e)}}tn(e){pg(e.collectionGroup===this.collectionId);const t=Vg(e);if(void 0!==t&&!this.en(t))return!1;const n=jg(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const e=n[i];if(!this.nn(this.Ze,e)||!this.sn(this.Ye[s++],e))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Ye.length||!this.sn(this.Ye[s++],e))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function eI(e){var t,n;if(pg(e instanceof Uy||e instanceof Vy),e instanceof Uy){if(e instanceof eb){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Uy.create(e.field,"==",t))))||[];return Vy.create(r,"or")}return e}const r=e.filters.map((e=>eI(e)));return Vy.create(r,e.op)}function tI(e){if(0===e.getFilters().length)return[];const t=sI(eI(e));return pg(iI(t)),nI(t)||rI(t)?[t]:t.getFilters()}function nI(e){return e instanceof Uy}function rI(e){return e instanceof Vy&&By(e)}function iI(e){return nI(e)||rI(e)||function(e){if(e instanceof Vy&&zy(e)){for(const t of e.getFilters())if(!nI(t)&&!rI(t))return!1;return!0}return!1}(e)}function sI(e){if(pg(e instanceof Uy||e instanceof Vy),e instanceof Uy)return e;if(1===e.filters.length)return sI(e.filters[0]);const t=e.filters.map((e=>sI(e)));let n=Vy.create(t,e.op);return n=uI(n),iI(n)?n:(pg(n instanceof Vy),pg(jy(n)),pg(n.filters.length>1),n.filters.reduce(((e,t)=>aI(e,t))))}function aI(e,t){let n;return pg(e instanceof Uy||e instanceof Vy),pg(t instanceof Uy||t instanceof Vy),n=e instanceof Uy?t instanceof Uy?function(e,t){return Vy.create([e,t],"and")}(e,t):oI(e,t):t instanceof Uy?oI(t,e):function(e,t){if(pg(e.filters.length>0&&t.filters.length>0),jy(e)&&jy(t))return Hy(e,t.getFilters());const n=zy(e)?e:t,r=zy(e)?t:e,i=n.filters.map((e=>aI(e,r)));return Vy.create(i,"or")}(e,t),uI(n)}function oI(e,t){if(jy(t))return Hy(t,e.getFilters());{const n=t.filters.map((t=>aI(e,t)));return Vy.create(n,"or")}}function uI(e){if(pg(e instanceof Uy||e instanceof Vy),e instanceof Uy)return e;const t=e.getFilters();if(1===t.length)return uI(t[0]);if(Ky(e))return e;const n=t.map((e=>uI(e))),r=[];return n.forEach((t=>{t instanceof Uy?r.push(t):t instanceof Vy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Vy.create(r,e.op)}class lI{constructor(){this.rn=new cI}addToCollectionParentIndex(e,t){return this.rn.add(t),Jg.resolve()}getCollectionParents(e,t){return Jg.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Jg.resolve()}deleteFieldIndex(e,t){return Jg.resolve()}getDocumentsMatchingTarget(e,t){return Jg.resolve(null)}getIndexType(e,t){return Jg.resolve(0)}getFieldIndexes(e,t){return Jg.resolve([])}getNextCollectionGroupToUpdate(e){return Jg.resolve(null)}getMinOffset(e,t){return Jg.resolve(Wg.min())}getMinOffsetFromCollectionGroup(e,t){return Jg.resolve(Wg.min())}updateCollectionGroup(e,t,n){return Jg.resolve()}updateIndexEntries(e,t){return Jg.resolve()}}class cI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qv(Mg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qv(Mg.comparator)).toArray()}}const dI=new Uint8Array(0);class hI{constructor(e,t){this.user=e,this.databaseId=t,this.on=new cI,this.un=new Nb((e=>sb(e)),((e,t)=>ab(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.on.add(t)}));const i={collectionId:n,parent:fv(r)};return fI(e).put(i)}return Jg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Dg(t),""],!1,!0);return fI(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(gv(r.parent))}return n}))}addFieldIndex(e,t){const n=mI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=gI(e);return i.next((e=>{n.put(q_(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=mI(e),r=gI(e),i=pI(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=pI(e);let r=!0;const i=new Map;return Jg.forEach(this.cn(t),(t=>this.an(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Vb();const r=[];return Jg.forEach(i,((i,s)=>{var a;lg("IndexedDbIndexManager","Using index ".concat((a=i,"id=".concat(a.indexId,"|cg=").concat(a.collectionGroup,"|f=").concat(a.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(",")))," to execute ").concat(sb(t)));const o=function(e,t){const n=Vg(t);if(void 0===n)return null;for(const r of ub(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),u=function(e,t){const n=new Map;for(const r of jg(t))for(const t of ub(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of jg(t)){const t=0===i.kind?lb(e,i.fieldPath,e.startAt):cb(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Ry(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of jg(t)){const t=0===i.kind?cb(e,i.fieldPath,e.endAt):lb(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Ry(n,r)}(s,i),d=this.hn(i,s,l),h=this.hn(i,s,c),f=this.ln(i,s,u),p=this.fn(i.indexId,o,d,l.inclusive,h,c.inclusive,f);return Jg.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=Fg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Jg.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:tI(Vy.create(e.filters,"and")).map((t=>ib(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}fn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),u=o/(null!=t?t.length:1),l=[];for(let c=0;c<o;++c){const o=t?this.dn(t[c/u]):dI,d=this.wn(e,o,n[c%u],r),h=this._n(e,o,i[c%u],s),f=a.map((t=>this.wn(e,o,t,!0)));l.push(...this.createRange(d,h,f))}return l}wn(e,t,n,r){const i=new X_(e,Fg.empty(),t,n);return r?i:i.Je()}_n(e,t,n,r){const i=new X_(e,Fg.empty(),t,n);return r?i.Je():i}an(e,t){const n=new Z_(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return Jg.forEach(r,(t=>this.an(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Qv(qg.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}mn(e,t){const n=new Y_;for(const r of jg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.He(r.kind);B_.Ve._e(e,i)}return n.Qe()}dn(e){const t=new Y_;return B_.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const n=new Y_;return B_.Ve._e(yy(this.databaseId,t),n.He(function(e){const t=jg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}ln(e,t,n){if(null===n)return[];let r=[];r.push(new Y_);let i=0;for(const s of jg(e)){const e=n[i++];for(const n of r)if(this.yn(t,s.fieldPath)&&wy(e))r=this.pn(r,s,e);else{const t=n.He(s.kind);B_.Ve._e(e,t)}}return this.In(r)}hn(e,t,n){return this.ln(e,t,n.position)}In(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Qe();return t}pn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Y_;n.seed(e.Qe()),B_.Ve._e(s,n.He(t.kind)),i.push(n)}return i}yn(e,t){return!!e.filters.find((e=>e instanceof Uy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=mI(e),r=gI(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return Jg.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Bg(t.sequenceNumber,new Wg(A_(t.readTime),new Fg(gv(t.documentKey)),t.largestBatchId)):Bg.empty(),r=e.fields.map((e=>{let[t,n]=e;return new zg(qg.fromServerFormat(t),n)}));return new Ug(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ng(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=mI(e),i=gI(e);return this.Tn(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Jg.forEach(t,(t=>i.put(q_(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Jg.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Jg.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Jg.forEach(i,(n=>this.En(e,t,n).next((t=>{const i=this.An(r,n);return t.isEqual(i)?Jg.resolve():this.vn(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return pI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,n,r){return pI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}En(e,t,n){const r=pI(e);let i=new Qv(J_);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},((e,r)=>{i=i.add(new X_(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}An(e,t){let n=new Qv(J_);const r=this.mn(t,e);if(null==r)return n;const i=Vg(t);if(null!=i){const s=e.data.field(i.fieldPath);if(wy(s))for(const i of s.arrayValue.values||[])n=n.add(new X_(t.indexId,e.key,this.dn(i),r))}else n=n.add(new X_(t.indexId,e.key,dI,r));return n}vn(e,t,n,r,i){lg("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Xv(s),u=Xv(a);for(;o||u;){let e=!1,t=!1;if(o&&u){const r=n(o,u);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(u),u=Xv(a)):t?(i(o),o=Xv(s)):(o=Xv(s),u=Xv(a))}}(r,i,J_,(r=>{s.push(this.Rn(e,t,n,r))}),(r=>{s.push(this.Pn(e,t,n,r))})),Jg.waitFor(s)}Tn(e){let t=1;return gI(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>J_(e,t))).filter(((e,t,n)=>!t||0!==J_(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=J_(s,e),i=J_(s,t);if(0===n)r[0]=e.Je();else if(n>0&&i<0)r.push(s),r.push(s.Je());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,dI,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,dI,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return J_(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(vI)}getMinOffset(e,t){return Jg.mapArray(this.cn(t),(t=>this.an(e,t).next((e=>e||fg())))).next(vI)}}function fI(e){return jv(e,"collectionParents")}function pI(e){return jv(e,"indexEntries")}function mI(e){return jv(e,"indexConfiguration")}function gI(e){return jv(e,"indexState")}function vI(e){pg(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Hg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Wg(t.readTime,t.documentKey,n)}const yI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bI{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new bI(e,bI.DEFAULT_COLLECTION_PERCENTILE,bI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function wI(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const u=r.X({range:a},((e,t,n)=>(o++,n.delete())));s.push(u.next((()=>{pg(1===o)})));const l=[];for(const c of n.mutations){const e=bv(t,c.key.path,n.batchId);s.push(i.delete(e)),l.push(c.key)}return Jg.waitFor(s).next((()=>l))}function _I(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw fg();t=e.noDocument}return JSON.stringify(t).length}bI.DEFAULT_COLLECTION_PERCENTILE=10,bI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bI.DEFAULT=new bI(41943040,bI.DEFAULT_COLLECTION_PERCENTILE,bI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bI.DISABLED=new bI(-1,0,0);class II{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Vn={}}static de(e,t,n,r){pg(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new II(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return EI(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=TI(e),s=EI(e);return s.add({}).next((a=>{pg("number"==typeof a);const o=new _w(a,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>d_(e.fe,t))),i=n.mutations.map((t=>d_(e.fe,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),l=[];let c=new Qv(((e,t)=>Ng(e.canonicalString(),t.canonicalString())));for(const e of r){const t=bv(this.userId,e.key.path,a);c=c.add(e.key.path.popLast()),l.push(s.put(u)),l.push(i.put(t,wv))}return c.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Vn[a]=o.keys()})),Jg.waitFor(l).next((()=>o))}))}lookupMutationBatch(e,t){return EI(e).get(t).next((e=>e?(pg(e.userId===this.userId),D_(this.serializer,e)):null))}Sn(e,t){return this.Vn[t]?Jg.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Vn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return EI(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(pg(t.batchId>=n),i=D_(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return EI(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return EI(e).j("userMutationsIndex",t).next((e=>e.map((e=>D_(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=yv(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return TI(e).X({range:r},((n,r,s)=>{const[a,o,u]=n,l=gv(o);if(a===this.userId&&t.path.isEqual(l))return EI(e).get(u).next((e=>{if(!e)throw fg();pg(e.userId===this.userId),i.push(D_(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qv(Ng);const r=[];return t.forEach((t=>{const i=yv(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=TI(e).X({range:s},((e,r,i)=>{const[s,a,o]=e,u=gv(a);s===this.userId&&t.path.isEqual(u)?n=n.add(o):i.done()}));r.push(a)})),Jg.waitFor(r).next((()=>this.Dn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=yv(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new Qv(Ng);return TI(e).X({range:s},((e,t,i)=>{const[s,o,u]=e,l=gv(o);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(u)):i.done()})).next((()=>this.Dn(e,a)))}Dn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(EI(e).get(t).next((e=>{if(null===e)throw fg();pg(e.userId===this.userId),n.push(D_(this.serializer,e))})))})),Jg.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return wI(e.ht,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Cn(t.batchId)})),Jg.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Jg.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return TI(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=gv(e[1]);r.push(t)}else n.done()})).next((()=>{pg(0===r.length)}))}))}containsKey(e,t){return SI(e,this.userId,t)}xn(e){return kI(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function SI(e,t,n){const r=yv(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return TI(e).X({range:s,Y:!0},((e,n,r)=>{const[s,o,u]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function EI(e){return jv(e,"mutations")}function TI(e){return jv(e,"documentMutations")}function kI(e){return jv(e,"mutationQueues")}class CI{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new CI(0)}static Mn(){return new CI(-1)}}class xI{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next((t=>{const n=new CI(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.$n(e).next((e=>Rg.fromTimestamp(new Pg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.$n(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.$n(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.Fn(e,t).next((()=>this.$n(e).next((n=>(n.targetCount+=1,this.Bn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>NI(e).delete(t.targetId))).next((()=>this.$n(e))).next((t=>(pg(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return NI(e).X(((s,a)=>{const o=P_(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Jg.waitFor(i))).next((()=>r))}forEachTarget(e,t){return NI(e).X(((e,n)=>{const r=P_(n);t(r)}))}$n(e){return AI(e).get("targetGlobalKey").next((e=>(pg(null!==e),e)))}On(e,t){return AI(e).put("targetGlobalKey",t)}Fn(e,t){return NI(e).put(R_(this.serializer,t))}Bn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.$n(e).next((e=>e.targetCount))}getTargetData(e,t){const n=sb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return NI(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=P_(n);ab(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=DI(e);return t.forEach((t=>{const s=fv(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Jg.waitFor(r)}removeMatchingKeys(e,t,n){const r=DI(e);return Jg.forEach(t,(t=>{const i=fv(t.path);return Jg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=DI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=DI(e);let i=Vb();return r.X({range:n,Y:!0},((e,t,n)=>{const r=gv(e[1]),s=new Fg(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=fv(t.path),r=IDBKeyRange.bound([n],[Dg(n)],!1,!0);let i=0;return DI(e).X({index:"documentTargetsIndex",Y:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}le(e,t){return NI(e).get(t).next((e=>e?P_(e):null))}}function NI(e){return jv(e,"targets")}function AI(e){return jv(e,"targetGlobal")}function DI(e){return jv(e,"targetDocuments")}function PI(e,t){let[n,r]=e,[i,s]=t;const a=Ng(n,i);return 0===a?Ng(r,s):a}class RI{constructor(e){this.Ln=e,this.buffer=new Qv(PI),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();PI(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){lg("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nv(e)?lg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Xg(e)}await this.Qn(3e5)}))}}class MI{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Jg.resolve(lv.ct);const n=new RI(t);return this.jn.forEachTarget(e,(e=>n.Kn(e.sequenceNumber))).next((()=>this.jn.Wn(e,(e=>n.Kn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(lg("LruGarbageCollector","Garbage collection skipped; disabled"),Jg.resolve(yI)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(lg("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),yI):this.Hn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let n,r,i,s,a,o,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(lg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),ug()<=is.DEBUG&&lg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-o)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Jg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function LI(e,t){return new MI(e,t)}class qI{constructor(e,t){this.db=e,this.garbageCollector=LI(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Jn(e){let t=0;return this.Wn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,((e,n)=>t(n)))}addReference(e,t,n){return FI(e,n)}removeReference(e,t,n){return FI(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return FI(e,t)}Xn(e,t){return function(e,t){let n=!1;return kI(e).Z((r=>SI(e,r,t).next((e=>(e&&(n=!0),Jg.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Yn(e,((s,a)=>{if(a<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,Rg.min()),DI(e).delete([0,fv(s.path)]))))}));r.push(t)}})).next((()=>Jg.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return FI(e,t)}Yn(e,t){const n=DI(e);let r,i=lv.ct;return n.X({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:u}=n;0===s?(i!==lv.ct&&t(new Fg(gv(r)),i),i=u,r=o):i=lv.ct})).next((()=>{i!==lv.ct&&t(new Fg(gv(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function FI(e,t){return DI(e).put(function(e,t){return{targetId:0,path:fv(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class UI{constructor(){this.changes=new Nb((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Py.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Jg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class VI{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return KI(e).put(n)}removeEntry(e,t,n){return KI(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],x_(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Zn(e,n))))}getEntry(e,t){let n=Py.newInvalidDocument(t);return KI(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(GI(t))},((e,r)=>{n=this.ts(t,r)})).next((()=>n))}es(e,t){let n={size:0,document:Py.newInvalidDocument(t)};return KI(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(GI(t))},((e,r)=>{n={document:this.ts(t,r),size:_I(r)}})).next((()=>n))}getEntries(e,t){let n=Db();return this.ns(e,t,((e,t)=>{const r=this.ts(e,t);n=n.insert(e,r)})).next((()=>n))}ss(e,t){let n=Db(),r=new Gv(Fg.comparator);return this.ns(e,t,((e,t)=>{const i=this.ts(e,t);n=n.insert(e,i),r=r.insert(e,_I(t))})).next((()=>({documents:n,rs:r})))}ns(e,t,n){if(t.isEmpty())return Jg.resolve();let r=new Qv(HI);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(GI(r.first()),GI(r.last())),s=r.getIterator();let a=s.getNext();return KI(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Fg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&HI(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.G(GI(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),x_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return KI(e).j(IDBKeyRange.bound(s,a,!0)).next((e=>{let n=Db();for(const i of e){const e=this.ts(Fg.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Tb(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Db();const s=WI(t,n),a=WI(t,Wg.max());return KI(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.ts(Fg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new zI(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return BI(e).get("remoteDocumentGlobalKey").next((e=>(pg(!!e),e)))}Zn(e,t){return BI(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const e=function(e,t){let n;if(t.document)n=c_(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Fg.fromSegments(t.noDocument.path),r=A_(t.noDocument.readTime);n=Py.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return fg();{const e=Fg.fromSegments(t.unknownDocument.path),r=A_(t.unknownDocument.version);n=Py.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Pg(e[0],e[1]);return Rg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(Rg.min()))return e}return Py.newInvalidDocument(e)}}function jI(e){return new VI(e)}class zI extends UI{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Nb((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Qv(((e,t)=>Ng(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.us.get(i);if(t.push(this.os.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=C_(this.os.serializer,s);r=r.add(i.path.popLast());const u=_I(o);n+=u-a.size,t.push(this.os.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=C_(this.os.serializer,s.convertToNoDocument(Rg.min()));t.push(this.os.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.os.updateMetadata(e,n)),Jg.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next((e=>(this.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.os.ss(e,t).next((e=>{let{documents:t,rs:n}=e;return n.forEach(((e,n)=>{this.us.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function BI(e){return jv(e,"remoteDocumentGlobal")}function KI(e){return jv(e,"remoteDocumentsV14")}function GI(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function WI(e,t){const n=t.documentKey.path.toArray();return[e,x_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function HI(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=Ng(n[s],r[s]),i)return i;return i=Ng(n.length,r.length),i||(i=Ng(n[n.length-2],r[r.length-2]),i||Ng(n[n.length-1],r[r.length-1]))}class QI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class YI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&dw(n.mutation,e,Jv.empty(),Pg.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Vb()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vb();const r=Mb();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Rb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Mb();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Vb())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Db();const s=qb(),a=qb();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof mw)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),dw(a.mutation,t,a.mutation.getFieldMask(),Pg.now())):s.set(t.key,Jv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new QI(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=qb();let r=new Gv(((e,t)=>e-t)),i=Vb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Jv.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Vb()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,u=r.value,l=Lb();u.forEach((e=>{if(!i.has(e)){const r=lw(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return Jg.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Fg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Jg.resolve(Mb());let a=-1,o=i;return s.next((t=>Jg.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Jg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Vb()))).next((e=>({batchId:a,changes:Ob(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fg(t)).next((e=>{let t=Rb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Rb();return this.indexManager.getCollectionParents(e,r).next((s=>Jg.forEach(s,(s=>{const a=function(e,t){return new db(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Py.newInvalidDocument(r)))}));let n=Rb();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&dw(s.mutation,i,Jv.empty(),Pg.now()),Tb(t,i)&&(n=n.insert(e,i))})),n}))}}class XI{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Jg.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:e_(n.createTime)}),Jg.resolve()}getNamedQuery(e,t){return Jg.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:O_(e.bundledQuery),readTime:e_(e.readTime)}}(t)),Jg.resolve()}}class JI{constructor(){this.overlays=new Gv(Fg.comparator),this.ls=new Map}getOverlay(e,t){return Jg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Mb();return Jg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Jg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Jg.resolve()}getOverlaysForCollection(e,t,n){const r=Mb(),i=t.length+1,s=new Fg(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Jg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Gv(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Mb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Mb(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Jg.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Sw(t,n));let i=this.ls.get(t);void 0===i&&(i=Vb(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class $I{constructor(){this.fs=new Qv(ZI.ds),this.ws=new Qv(ZI._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new ZI(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new ZI(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new Fg(new Mg([])),n=new ZI(t,e),r=new ZI(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Fg(new Mg([])),n=new ZI(t,e),r=new ZI(t,e+1);let i=Vb();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new ZI(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class ZI{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Fg.comparator(e.key,t.key)||Ng(e.As,t.As)}static _s(e,t){return Ng(e.As,t.As)||Fg.comparator(e.key,t.key)}}class eS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Qv(ZI.ds)}checkEmpty(e){return Jg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new _w(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new ZI(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Jg.resolve(s)}lookupMutationBatch(e,t){return Jg.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Jg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Jg.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Jg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ZI(t,0),r=new ZI(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Jg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qv(Ng);return t.forEach((e=>{const t=new ZI(e,0),r=new ZI(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Jg.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fg.isDocumentKey(i)||(i=i.child(""));const s=new ZI(new Fg(i),0);let a=new Qv(Ng);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)}),s),Jg.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){pg(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Jg.forEach(t.mutations,(r=>{const i=new ZI(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new ZI(t,0),r=this.Rs.firstAfterOrEqual(n);return Jg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Jg.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class tS{constructor(e){this.Ds=e,this.docs=new Gv(Fg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Jg.resolve(n?n.document.mutableCopy():Py.newInvalidDocument(t))}getEntries(e,t){let n=Db();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Py.newInvalidDocument(e))})),Jg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Db();const s=t.path,a=new Fg(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Hg(Gg(a),n)<=0||(r.has(a.key)||Tb(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Jg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fg()}Cs(e,t){return Jg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new nS(this)}getSize(e){return Jg.resolve(this.size)}}class nS extends UI{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Jg.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class rS{constructor(e){this.persistence=e,this.xs=new Nb((e=>sb(e)),ab),this.lastRemoteSnapshotVersion=Rg.min(),this.highestTargetId=0,this.Ns=0,this.ks=new $I,this.targetCount=0,this.Ms=CI.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Jg.resolve()}getLastRemoteSnapshotVersion(e){return Jg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Jg.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Jg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Jg.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new CI(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Jg.resolve()}updateTargetData(e,t){return this.Fn(t),Jg.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Jg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Jg.waitFor(i).next((()=>r))}getTargetCount(e){return Jg.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Jg.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Jg.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Jg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Jg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Jg.resolve(n)}containsKey(e,t){return Jg.resolve(this.ks.containsKey(t))}}class iS{constructor(e,t){this.$s={},this.overlays={},this.Os=new lv(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new rS(this),this.indexManager=new lI,this.remoteDocumentCache=function(e){return new tS(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new k_(t),this.qs=new XI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new eS(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){lg("MemoryPersistence","Starting transaction:",e);const r=new sS(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Jg.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class sS extends Yg{constructor(e){super(),this.currentSequenceNumber=e}}class aS{constructor(e){this.persistence=e,this.Qs=new $I,this.js=null}static zs(e){return new aS(e)}get Ws(){if(this.js)return this.js;throw fg()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Jg.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Jg.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Jg.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jg.forEach(this.Ws,(n=>{const r=Fg.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,Rg.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Jg.or([()=>Jg.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class oS{constructor(e){this.serializer=e}O(e,t,n,r){const i=new $g("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vv,{unique:!0}),e.createObjectStore("documentMutations")}(e),uS(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Jg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),uS(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",vv,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Jg.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ys(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(i))))),n<7&&r>=7&&(s=s.next((()=>this.Zs(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ei(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Pv});t.createIndex("collectionPathOverlayIndex",Rv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ov,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:_v});t.createIndex("documentKeyIndex",Iv),t.createIndex("collectionGroupIndex",Sv)}(e))).next((()=>this.ni(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:xv}).createIndex("sequenceNumberIndex",Nv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Av}).createIndex("documentKeyIndex",Dv,{unique:!1})}(e)))),s}Xs(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=_I(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Ys(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>Jg.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>Jg.forEach(n,(n=>{pg(n.userId===t.userId);const r=D_(this.serializer,n);return wI(e,t.userId,r).next((()=>{}))}))))}))))}Zs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const s=new Mg(n),a=function(e){return[0,fv(e)]}(s);r.push(t.get(a).next((n=>n?Jg.resolve():(n=>t.put({targetId:0,path:fv(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Jg.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:Cv});const n=t.store("collectionParents"),r=new cI,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:fv(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Mg(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},((e,t)=>{let[n,r,s]=e;const a=gv(r);return i(a.popLast())}))))}ei(e){const t=e.store("targets");return t.X(((e,n)=>{const r=P_(n),i=R_(this.serializer,r);return t.put(i)}))}ni(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(a=n,a.document?new Fg(Mg.fromString(a.document.name).popFirst(5)):a.noDocument?Fg.fromSegments(a.noDocument.path):a.unknownDocument?Fg.fromSegments(a.unknownDocument.path):fg()).path.toArray();var a;const o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>Jg.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=jI(this.serializer),i=new iS(aS.zs,this.serializer.fe);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Vb();D_(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Jg.forEach(n,((e,n)=>{const s=new sg(n),a=j_.de(this.serializer,s),o=i.getIndexManager(s),u=II.de(s,this.serializer,o,i.referenceDelegate);return new YI(r,u,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Vv(t,lv.ct),e).next()}))}))}}function uS(e){e.createObjectStore("targetDocuments",{keyPath:Tv}).createIndex("documentTargetsIndex",kv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ev,{unique:!0}),e.createObjectStore("targetGlobal")}const lS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cS{constructor(e,t,n,r,i,s,a,o,u,l){let c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.ii=i,this.window=s,this.document=a,this.ri=u,this.oi=l,this.ui=c,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=e=>Promise.resolve(),!cS.D())throw new vg(gg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qI(this,r),this.di=t+"main",this.serializer=new k_(o),this.wi=new Zg(this.di,this.ui,new oS(this.serializer)),this.Bs=new xI(this.referenceDelegate,this.serializer),this.remoteDocumentCache=jI(this.serializer),this.qs=new F_,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&cg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vg(gg.FAILED_PRECONDITION,lS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Bs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new lv(e,this.ri)})).then((()=>{this.Fs=!0})).catch((e=>(this.wi&&this.wi.close(),Promise.reject(e))))}Ii(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>hS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ti(e).next((e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))))}))})).next((()=>this.Ei(e))).next((t=>this.isPrimary&&!t?this.Ai(e).next((()=>!1)):!!t&&this.vi(e).next((()=>!0)))))).catch((e=>{if(nv(e))return lg("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return lg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ii.enqueueRetryable((()=>this.fi(e))),this.isPrimary=e}))}Ti(e){return dS(e).get("owner").next((e=>Jg.resolve(this.Ri(e))))}Pi(e){return hS(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Vi(this.li,18e5)){this.li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=jv(e,"clientMetadata");return t.j().next((e=>{const n=this.Si(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Jg.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Di(t.clientId))}}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.bi())).then((()=>this.pi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?Jg.resolve(!0):dS(e).get("owner").next((t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new vg(gg.FAILED_PRECONDITION,lS);return!1}}return!(!this.networkEnabled||!this.inForeground)||hS(e).j().next((e=>void 0===this.Si(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&lg("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),await this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Vv(e,lv.ct);return this.Ai(t).next((()=>this.Pi(t)))})),this.wi.close(),this.Mi()}Si(e,t){return e.filter((e=>this.Vi(e.updateTimeMs,t)&&!this.Ci(e.clientId)))}$i(){return this.runTransaction("getActiveClients","readonly",(e=>hS(e).j().next((e=>this.Si(e,18e5).map((e=>e.clientId))))))}get started(){return this.Fs}getMutationQueue(e,t){return II.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hI(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return j_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,n){lg("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.ui)?Uv:14===s?Fv:13===s?qv:12===s?Lv:11===s?Mv:void fg();var s;let a;return this.wi.runTransaction(e,r,i,(r=>(a=new Vv(r,this.Os?this.Os.next():lv.ct),"readwrite-primary"===t?this.Ti(a).next((e=>!!e||this.Ei(a))).next((t=>{if(!t)throw cg("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.ii.enqueueRetryable((()=>this.fi(!1))),new vg(gg.FAILED_PRECONDITION,Qg);return n(a)})).next((e=>this.vi(a).next((()=>e)))):this.Oi(a).next((()=>n(a)))))).then((e=>(a.raiseOnCommittedEvent(),e)))}Oi(e){return dS(e).get("owner").next((e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new vg(gg.FAILED_PRECONDITION,lS)}))}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return dS(e).put("owner",t)}static D(){return Zg.D()}Ai(e){const t=dS(e);return t.get("owner").next((e=>this.Ri(e)?(lg("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Jg.resolve()))}Vi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(cg("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.mi())))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;!Mi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return lg("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return cg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){cg("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}Di(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function dS(e){return jv(e,"owner")}function hS(e){return jv(e,"clientMetadata")}function fS(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class pS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Vb(),r=Vb();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new pS(e,t.fromCache,n,r)}}class mS{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(pb(t))return Jg.resolve(null);let n=bb(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=_b(t,null,"F"),n=bb(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Vb(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,_b(t,null,"F")):this.Wi(e,s,t,n)}))))})))))}Gi(e,t,n,r){return pb(t)||r.isEqual(Rg.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(ug()<=is.DEBUG&&lg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Eb(t)),this.Wi(e,s,t,Kg(r,-1)))}))}ji(e,t){let n=new Qv(Cb(e));return t.forEach(((t,r)=>{Tb(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return ug()<=is.DEBUG&&lg("QueryEngine","Using full collection scan to execute query:",Eb(t)),this.Ui.getDocumentsMatchingQuery(e,t,Wg.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class gS{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Gv(Ng),this.Yi=new Nb((e=>sb(e)),ab),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YI(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function vS(e,t,n,r){return new gS(e,t,n,r)}async function yS(e,t){const n=mg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Vb();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({er:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function bS(e){const t=mg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function wS(e,t,n){let r=Vb(),i=Vb();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Db();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Rg.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):lg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{nr:r,sr:i}}))}function _S(e,t){const n=mg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function IS(e,t){const n=mg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Jg.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new T_(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function SS(e,t,n){const r=mg(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!nv(e))throw e;lg("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function ES(e,t,n){const r=mg(e);let i=Rg.min(),s=Vb();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=mg(e),i=r.Yi.get(n);return void 0!==i?Jg.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,bb(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:Rg.min(),n?s:Vb()))).next((e=>(CS(r,kb(t),e),{documents:e,ir:s})))))}function TS(e,t){const n=mg(e),r=mg(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.le(e,t).next((e=>e?e.target:null))))}function kS(e,t){const n=mg(e),r=n.Xi.get(t)||Rg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Zi.getAllFromCollectionGroup(e,t,Kg(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(CS(n,t,e),e)))}function CS(e,t,n){let r=e.Xi.get(t)||Rg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}async function xS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vb();const r=await IS(e,bb(O_(t.bundledQuery))),i=mg(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=e_(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.qs.saveNamedQuery(e,t);const a=r.withResumeToken(Zv.EMPTY_BYTE_STRING,s);return i.Ji=i.Ji.insert(a.targetId,a),i.Bs.updateTargetData(e,a).next((()=>i.Bs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Bs.addMatchingKeys(e,n,r.targetId))).next((()=>i.qs.saveNamedQuery(e,t)))}))}function NS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function AS(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function DS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class PS{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static ar(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new vg(r.error.code,r.error.message))),s?new PS(e,t,r.state,i):(cg("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RS{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static ar(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new vg(n.error.code,n.error.message))),i?new RS(e,n.state,r):(cg("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class OS{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=zb();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=hv(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new OS(e,i):(cg("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class MS{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new MS(t.clientId,t.onlineState):(cg("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class LS{constructor(){this.activeTargetIds=zb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qS{constructor(e,t,n,r,i){this.window=e,this.ii=t,this.persistenceKey=n,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Gv(Ng),this.started=!1,this.yr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.pr=NS(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new LS),this.Tr=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.$i();for(const n of e){if(n===this.wr)continue;const e=this.getItem(NS(this.persistenceKey,n));if(e){const t=OS.ar(n,e);t&&(this.gr=this.gr.insert(t.clientId,t))}}this.Pr();const t=this.storage.getItem(this.vr);if(t){const e=this.br(t);e&&this.Vr(e)}for(const n of this.yr)this.mr(n);this.yr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,n){this.Dr(e,t,n),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(DS(this.persistenceKey,e));if(n){const r=RS.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(DS(this.persistenceKey,e))}updateQueryState(e,t,n){this.kr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Cr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return lg("SharedClientState","READ",e,t),t}setItem(e,t){lg("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){lg("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){const t=e;if(t.storageArea===this.storage){if(lg("SharedClientState","EVENT",t.key,t.newValue),t.key===this.pr)return void cg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Tr.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.Fr(e,null)}{const e=this.Br(t.key,t.newValue);if(e)return this.Fr(e.clientId,e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.Lr(t.key,t.newValue);if(e)return this.qr(e)}}else if(this.Ar.test(t.key)){if(null!==t.newValue){const e=this.Ur(t.key,t.newValue);if(e)return this.Kr(e)}}else if(t.key===this.vr){if(null!==t.newValue){const e=this.br(t.newValue);if(e)return this.Vr(e)}}else if(t.key===this.Ir){const e=function(e){let t=lv.ct;if(null!=e)try{const n=JSON.parse(e);pg("number"==typeof n),t=n}catch(e){cg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==lv.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Gr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Qr(e))))}}else this.yr.push(t)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,n){const r=new PS(this.currentUser,e,t,n),i=AS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}Cr(e){const t=AS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){const t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}kr(e,t,n){const r=DS(this.persistenceKey,e),i=new RS(e,t,n);this.setItem(r,i.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const n=this.Or(e);return OS.ar(n,t)}Lr(e,t){const n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return PS.ar(new sg(i),r,t)}Ur(e,t){const n=this.Ar.exec(e),r=Number(n[1]);return RS.ar(r,t)}br(e){return MS.ar(e)}Gr(e){return JSON.parse(e)}async qr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.jr(e.batchId,e.state,e.error);lg("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const n=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),i=this.Sr(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Wr(s,a).then((()=>{this.gr=n}))}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=zb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class FS{constructor(){this.Hr=new LS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new LS,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class US{Yr(e){}shutdown(){}}class VS{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){lg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){lg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let jS=null;function zS(){return null===jS?jS=268435456+Math.round(2147483648*Math.random()):jS++,"0x"+jS.toString(16)}const BS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KS{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const GS="WebChannelConnection";class WS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=zS(),a=this.To(e,t);lg("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then((t=>(lg("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw dg("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ag,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=BS[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=zS();return new Promise(((s,a)=>{const o=new tg;o.setWithCredentials(!0),o.listenOnce(Xm.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Ym.NO_ERROR:const t=o.getResponseJson();lg(GS,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Ym.TIMEOUT:lg(GS,"RPC '".concat(e,"' ").concat(i," timed out")),a(new vg(gg.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const n=o.getStatus();if(lg(GS,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(gg).indexOf(t)>=0?t:gg.UNKNOWN}(t.status);a(new vg(e,t.message))}else a(new vg(gg.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new vg(gg.UNAVAILABLE,"Connection failed."));break;default:fg()}}finally{lg(GS,"RPC '".concat(e,"' ").concat(i," completed."))}}));const u=JSON.stringify(r);lg(GS,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",u,n,15)}))}Ro(e,t,n){const r=zS(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hm(),a=Qm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.xmlHttpFactory=new Zm({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const l=i.join("");lg(GS,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),o);const c=s.createWebChannel(l,o);let d=!1,h=!1;const f=new KS({ro:t=>{h?lg(GS,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(lg(GS,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),d=!0),lg(GS,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(c,eg.EventType.OPEN,(()=>{h||lg(GS,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(c,eg.EventType.CLOSE,(()=>{h||(h=!0,lg(GS,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())})),p(c,eg.EventType.ERROR,(t=>{h||(h=!0,dg(GS,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new vg(gg.UNAVAILABLE,"The operation could not be completed")))})),p(c,eg.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];pg(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){lg(GS,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Tw[e];if(void 0!==t)return xw(t)}(t),i=a.message;void 0===n&&(n=gg.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.wo(new vg(n,i)),c.close()}else lg(GS,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}})),p(a,Jm.STAT_EVENT,(t=>{t.stat===$m.PROXY?lg(GS,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===$m.NOPROXY&&lg(GS,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function HS(){return"undefined"!=typeof window?window:null}function QS(){return"undefined"!=typeof document?document:null}function YS(e){return new Yw(e,!0)}class XS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&lg("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class JS{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new XS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===gg.RESOURCE_EXHAUSTED?(cg(t.toString()),cg("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===gg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new vg(gg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return lg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():(lg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $S extends JS{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(pg(void 0===t||"string"==typeof t),Zv.fromBase64String(t||"")):(pg(void 0===t||t instanceof Uint8Array),Zv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?gg.UNKNOWN:xw(e.code);return new vg(t,e.message||"")}(a);n=new jw(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=i_(e,r.document.name),s=e_(r.document.updateTime),a=r.document.createTime?e_(r.document.createTime):Rg.min(),o=new Ay({mapValue:{fields:r.document.fields}}),u=Py.newFoundDocument(i,s,a,o),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Uw(l,c,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=i_(e,r.document),s=r.readTime?e_(r.readTime):Rg.min(),a=Py.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Uw([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=i_(e,r.document),s=r.removedTargetIds||[];n=new Uw([],s,i,null)}else{if(!("filter"in t))return fg();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ew(r,i),a=e.targetId;n=new Vw(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Rg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Rg.min():t.readTime?e_(t.readTime):Rg.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=o_(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ob(r)?{documents:f_(e,r)}:{query:p_(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$w(e,t.resumeToken);const r=Xw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Rg.min())>0){n.readTime=Jw(e,t.snapshotVersion.toTimestamp());const r=Xw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=o_(this.serializer),t.removeTarget=e,this.Wo(t)}}class ZS extends JS{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(pg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(pg(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?e_(e.updateTime):e_(t);return n.isEqual(Rg.min())&&(n=e_(t)),new sw(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=e_(e.commitTime);return this.listener.cu(n,t)}return pg(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=o_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>d_(this.serializer,e)))};this.Wo(t)}}class eE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new vg(gg.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===gg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vg(gg.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===gg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new vg(gg.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class tE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(cg(t),this.mu=!1):lg("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{dE(this)&&(lg("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=mg(e);t.vu.add(4),await iE(t),t.bu.set("Unknown"),t.vu.delete(4),await rE(t)}(this))}))})),this.bu=new tE(n,r)}}async function rE(e){if(dE(e))for(const t of e.Ru)await t(!0)}async function iE(e){for(const t of e.Ru)await t(!1)}function sE(e,t){const n=mg(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),cE(n)?lE(n):NE(n).Ko()&&oE(n,t))}function aE(e,t){const n=mg(e),r=NE(n);n.Au.delete(t),r.Ko()&&uE(n,t),0===n.Au.size&&(r.Ko()?r.jo():dE(n)&&n.bu.set("Unknown"))}function oE(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}NE(e).su(t)}function uE(e,t){e.Vu.qt(t),NE(e).iu(t)}function lE(e){e.Vu=new Bw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),NE(e).start(),e.bu.gu()}function cE(e){return dE(e)&&!NE(e).Uo()&&e.Au.size>0}function dE(e){return 0===mg(e).vu.size}function hE(e){e.Vu=void 0}async function fE(e){e.Au.forEach(((t,n)=>{oE(e,t)}))}async function pE(e,t){hE(e),cE(e)?(e.bu.Iu(t),lE(e)):e.bu.set("Unknown")}async function mE(e,t,n){if(e.bu.set("Online"),t instanceof jw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){lg("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await gE(e,n)}else if(t instanceof Uw?e.Vu.Ht(t):t instanceof Vw?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(Rg.min()))try{const t=await bS(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Zv.EMPTY_BYTE_STRING,r.snapshotVersion)),uE(e,t);const i=new T_(r.target,t,n,r.sequenceNumber);oE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){lg("RemoteStore","Failed to raise snapshot:",t),await gE(e,t)}}async function gE(e,t,n){if(!nv(t))throw t;e.vu.add(1),await iE(e),e.bu.set("Offline"),n||(n=()=>bS(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{lg("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await rE(e)}))}function vE(e,t){return t().catch((n=>gE(e,n,t)))}async function yE(e){const t=mg(e),n=AE(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;bE(t);)try{const e=await _S(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,wE(t,e)}catch(e){await gE(t,e)}_E(t)&&IE(t)}function bE(e){return dE(e)&&e.Eu.length<10}function wE(e,t){e.Eu.push(t);const n=AE(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function _E(e){return dE(e)&&!AE(e).Uo()&&e.Eu.length>0}function IE(e){AE(e).start()}async function SE(e){AE(e).hu()}async function EE(e){const t=AE(e);for(const n of e.Eu)t.uu(n.mutations)}async function TE(e,t,n){const r=e.Eu.shift(),i=Iw.from(r,t,n);await vE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await yE(e)}async function kE(e,t){t&&AE(e).ou&&await async function(e,t){if(Cw(n=t.code)&&n!==gg.ABORTED){const n=e.Eu.shift();AE(e).Qo(),await vE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await yE(e)}var n}(e,t),_E(e)&&IE(e)}async function CE(e,t){const n=mg(e);n.asyncQueue.verifyOperationInProgress(),lg("RemoteStore","RemoteStore received new credentials");const r=dE(n);n.vu.add(3),await iE(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await rE(n)}async function xE(e,t){const n=mg(e);t?(n.vu.delete(2),await rE(n)):t||(n.vu.add(2),await iE(n),n.bu.set("Unknown"))}function NE(e){return e.Su||(e.Su=function(e,t,n){const r=mg(e);return r.fu(),new $S(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:fE.bind(null,e),ao:pE.bind(null,e),nu:mE.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),cE(e)?lE(e):e.bu.set("Unknown")):(await e.Su.stop(),hE(e))}))),e.Su}function AE(e){return e.Du||(e.Du=function(e,t,n){const r=mg(e);return r.fu(),new ZS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:SE.bind(null,e),ao:kE.bind(null,e),au:EE.bind(null,e),cu:TE.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await yE(e)):(await e.Du.stop(),e.Eu.length>0&&(lg("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class DE{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new yg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new DE(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vg(gg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PE(e,t){if(cg("AsyncQueue","".concat(t,": ").concat(e)),nv(e))return new vg(gg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class RE{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fg.comparator(t.key,n.key):(e,t)=>Fg.comparator(e.key,t.key),this.keyedMap=Rb(),this.sortedSet=new Gv(this.comparator)}static emptySet(e){return new RE(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof RE))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new RE;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class OE{constructor(){this.Cu=new Gv(Fg.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):fg():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ME{constructor(e,t,n,r,i,s,a,o,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new ME(e,t,RE.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ib(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class LE{constructor(){this.Nu=void 0,this.listeners=[]}}class qE{constructor(){this.queries=new Nb((e=>Sb(e)),Ib),this.onlineState="Unknown",this.ku=new Set}}async function FE(e,t){const n=mg(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new LE),i)try{s.Nu=await n.onListen(r)}catch(e){const n=PE(e,"Initialization of query '".concat(Eb(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&zE(n)}async function UE(e,t){const n=mg(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function VE(e,t){const n=mg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&zE(n)}function jE(e,t,n){const r=mg(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function zE(e){e.ku.forEach((e=>{e.next()}))}class BE{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ME(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=ME.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class KE{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class GE{constructor(e){this.serializer=e}rr(e){return i_(this.serializer,e)}ur(e){return e.metadata.exists?c_(this.serializer,e.document,!1):Py.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return e_(e)}}class WE{constructor(e,t,n){this.ju=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HE(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const n=Mg.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,n=new GE(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.rr(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Vb()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=mg(e);let s=Vb(),a=Db();for(const l of n){const e=t.rr(l.metadata.name);l.document&&(s=s.add(e));const n=t.ur(l);n.setReadTime(t.cr(l.metadata.readTime)),a=a.insert(e,n)}const o=i.Zi.newChangeBuffer({trackRemovals:!0}),u=await IS(i,function(e){return bb(fb(Mg.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>wS(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.Bs.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.Bs.addMatchingKeys(e,s,u.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr))).next((()=>t.nr))))))}(this.localStore,new GE(this.serializer),this.documents,this.ju.id),t=this.Wu(this.documents);for(const n of this.queries)await xS(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:e}}}function HE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class QE{constructor(e){this.key=e}}class YE{constructor(e){this.key=e}}class XE{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Vb(),this.mutatedKeys=Vb(),this.tc=Cb(e),this.ec=new RE(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new OE,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),c=Tb(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;l&&c?l.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.rc(l,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.tc(c,o)>0||u&&this.tc(c,u)<0)&&(a=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(o||u)&&(a=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fg()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new ME(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new OE,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Vb(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new YE(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new QE(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Vb();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ME.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class JE{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $E{constructor(e){this.key=e,this.fc=!1}}class ZE{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new Nb((e=>Sb(e)),Ib),this._c=new Map,this.mc=new Set,this.gc=new Gv(Fg.comparator),this.yc=new Map,this.Ic=new $I,this.Tc={},this.Ec=new Map,this.Ac=CI.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function eT(e,t){const n=kT(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await IS(n.localStore,bb(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await tT(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&sE(n.remoteStore,e)}return i}async function tT(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await ES(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return hT(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await ES(e.localStore,t,!0),a=new XE(t,s.ir),o=a.sc(s.documents),u=Fw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=a.applyChanges(o,e.isPrimaryClient,u);hT(e,n,l.cc);const c=new JE(t,n,a);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),l.snapshot}async function nT(e,t){const n=mg(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!Ib(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await SS(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),aE(n.remoteStore,r.targetId),cT(n,r.targetId)})).catch(Xg)):(cT(n,r.targetId),await SS(n.localStore,r.targetId,!0))}async function rT(e,t){const n=mg(e);try{const e=await function(e,t){const n=mg(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach(((s,o)=>{const u=i.get(o);if(!u)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o))));let l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?l=l.withResumeToken(Zv.EMPTY_BYTE_STRING,Rg.min()).withLastLimboFreeSnapshotVersion(Rg.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(o,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,l,s)&&a.push(n.Bs.updateTargetData(e,l))}));let o=Db(),u=Vb();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(wS(e,s,t.documentUpdates).next((e=>{o=e.nr,u=e.sr}))),!r.isEqual(Rg.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Jg.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,u))).next((()=>o))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(pg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?pg(r.fc):e.removedDocuments.size>0&&(pg(r.fc),r.fc=!1))})),await mT(n,e,t)}catch(e){await Xg(e)}}function iT(e,t,n){const r=mg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=mg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&zE(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function sT(e,t,n){const r=mg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Gv(Fg.comparator);e=e.insert(s,Py.newNoDocument(s,Rg.min()));const n=Vb().add(s),i=new qw(Rg.min(),new Map,new Gv(Ng),e,n);await rT(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),pT(r)}else await SS(r.localStore,t,!1).then((()=>cT(r,t,n))).catch(Xg)}async function aT(e,t){const n=mg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=mg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Jg.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);pg(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Vb();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);lT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mT(n,e)}catch(e){await Xg(e)}}async function oT(e,t,n){const r=mg(e);try{const e=await function(e,t){const n=mg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(pg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);lT(r,t,n),uT(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await mT(r,e)}catch(n){await Xg(n)}}function uT(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function lT(e,t,n){const r=mg(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function cT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||dT(e,t)}))}function dT(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(aE(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),pT(e))}function hT(e,t,n){for(const r of n)r instanceof QE?(e.Ic.addReference(r.key,t),fT(e,r)):r instanceof YE?(lg("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||dT(e,r.key)):fg()}function fT(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(lg("SyncEngine","New document in limbo: "+n),e.mc.add(r),pT(e))}function pT(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Fg(Mg.fromString(t)),r=e.Ac.next();e.yc.set(r,new $E(n)),e.gc=e.gc.insert(n,r),sE(e.remoteStore,new T_(bb(fb(n.path)),r,"TargetPurposeLimboResolution",lv.ct))}}async function mT(e,t,n){const r=mg(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach(((e,o)=>{a.push(r.Rc(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=pS.Li(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=mg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Jg.forEach(t,(t=>Jg.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Jg.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!nv(e))throw e;lg("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function gT(e,t){const n=mg(e);if(!n.currentUser.isEqual(t)){lg("SyncEngine","User change. New user:",t.toKey());const e=await yS(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new vg(gg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await mT(n,e.er)}}function vT(e,t){const n=mg(e),r=n.yc.get(t);if(r&&r.fc)return Vb().add(r.key);{let e=Vb();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}async function yT(e,t){const n=mg(e),r=await ES(n.localStore,t.query,!0),i=t.view.hc(r);return n.isPrimaryClient&&hT(n,t.targetId,i.cc),i}async function bT(e,t){const n=mg(e);return kS(n.localStore,t).then((e=>mT(n,e)))}async function wT(e,t,n,r){const i=mg(e),s=await function(e,t){const n=mg(e),r=mg(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Sn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Jg.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await yE(i.remoteStore):"acknowledged"===n||"rejected"===n?(lT(i,t,r||null),uT(i,t),function(e,t){mg(mg(e).mutationQueue).Cn(t)}(i.localStore,t)):fg(),await mT(i,s)):lg("SyncEngine","Cannot apply mutation batch with id: "+t)}async function _T(e,t,n){const r=mg(e),i=[],s=[];for(const a of t){let e;const t=r._c.get(a);if(t&&0!==t.length){e=await IS(r.localStore,bb(t[0]));for(const e of t){const t=r.wc.get(e),n=await yT(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await TS(r.localStore,a);e=await IS(r.localStore,t),await tT(r,IT(t),a,!1,e.resumeToken)}i.push(e)}return r.dc.nu(s),i}function IT(e){return hb(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function ST(e){const t=mg(e);return mg(mg(t.localStore).persistence).$i()}async function ET(e,t,n,r){const i=mg(e);if(i.vc)return void lg("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await kS(i.localStore,kb(s[0])),r=qw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Zv.EMPTY_BYTE_STRING);await mT(i,e,r);break}case"rejected":await SS(i.localStore,t,!0),cT(i,t,r);break;default:fg()}}async function TT(e,t,n){const r=kT(e);if(r.vc){for(const e of t){if(r._c.has(e)){lg("SyncEngine","Adding an already active target "+e);continue}const t=await TS(r.localStore,e),n=await IS(r.localStore,t);await tT(r,IT(t),n.targetId,!1,n.resumeToken),sE(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await SS(r.localStore,e,!1).then((()=>{aE(r.remoteStore,e),cT(r,e)})).catch(Xg)}}function kT(e){const t=mg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vT.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sT.bind(null,t),t.dc.nu=VE.bind(null,t.eventManager),t.dc.Pc=jE.bind(null,t.eventManager),t}function CT(e){const t=mg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oT.bind(null,t),t}class xT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=YS(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return vS(this.persistence,new mS,e.initialUser,this.serializer)}createPersistence(e){return new iS(aS.zs,this.serializer)}createSharedClientState(e){return new FS}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NT extends xT{constructor(e,t,n){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Vc.initialize(this,e),await CT(this.Vc.syncEngine),await yE(this.Vc.remoteStore),await this.persistence.Ii((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return vS(this.persistence,new mS,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new OI(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new uv(t,this.persistence);return new ov(e.asyncQueue,n)}createPersistence(e){const t=fS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?bI.withCacheSize(this.cacheSizeBytes):bI.DEFAULT;return new cS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,HS(),QS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new FS}}class AT extends NT{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Vc.syncEngine;this.sharedClientState instanceof qS&&(this.sharedClientState.syncEngine={jr:wT.bind(null,t),zr:ET.bind(null,t),Wr:TT.bind(null,t),$i:ST.bind(null,t),Qr:bT.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ii((async e=>{await async function(e,t){const n=mg(e);if(kT(n),CT(n),!0===t&&!0!==n.vc){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await _T(n,e.toArray());n.vc=!0,await xE(n.remoteStore,!0);for(const r of t)sE(n.remoteStore,r)}else if(!1===t&&!1!==n.vc){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(cT(n,i),SS(n.localStore,i,!0)))),aE(n.remoteStore,i)})),await t,await _T(n,e),function(e){const t=mg(e);t.yc.forEach(((e,n)=>{aE(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Gv(Fg.comparator)}(n),n.vc=!1,await xE(n.remoteStore,!1)}}(this.Vc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=HS();if(!qS.D(t))throw new vg(gg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=fS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class DT{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>iT(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=gT.bind(null,this.syncEngine),await xE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new qE}createDatastore(e){const t=YS(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new WS(r));var r;return function(e,t,n,r){return new eE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>iT(this.syncEngine,e,0),s=VS.D()?new VS:new US,new nE(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new ZE(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=mg(e);lg("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await iE(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}function PT(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cg("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class OT{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new yg,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((e=>{e&&e.Qu()?this.metadata.resolve(e.Gu.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(e=>this.metadata.reject(e)))}close(){return this.Cc.cancel()}async getMetadata(){return this.metadata.promise}async bc(){return await this.getMetadata(),this.Nc()}async Nc(){const e=await this.kc();if(null===e)return null;const t=this.xc.decode(e),n=Number(t);isNaN(n)&&this.Mc("length string (".concat(t,") is not valid number"));const r=await this.$c(n);return new KE(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async kc(){for(;this.Oc()<0&&!await this.Fc(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.Mc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $c(e){for(;this.buffer.length<e;)await this.Fc()&&this.Mc("Reached the end of bundle when more is expected.");const t=this.xc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Mc(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}async Fc(){const e=await this.Cc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class MT{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new vg(gg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=mg(e),r=o_(n.serializer)+"/documents",i={documents:t.map((e=>r_(n.serializer,e)))},s=await n.vo("BatchGetDocuments",r,i,t.length),a=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){pg(!!t.found),t.found.name,t.found.updateTime;const n=i_(e,t.found.name),r=e_(t.found.updateTime),i=t.found.createTime?e_(t.found.createTime):Rg.min(),s=new Ay({mapValue:{fields:t.found.fields}});return Py.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){pg(!!t.missing),pg(!!t.readTime);const n=i_(e,t.missing),r=e_(t.readTime);return Py.newNoDocument(n,r)}(e,t):fg()}(n.serializer,e);a.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=a.get(e.toString());pg(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new bw(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Fg.fromPath(t);this.mutations.push(new ww(n,this.precondition(n)))})),await async function(e,t){const n=mg(e),r=o_(n.serializer)+"/documents",i={writes:t.map((e=>d_(n.serializer,e)))};await n.Io("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw fg();t=Rg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new vg(gg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rg.min())?aw.exists(!1):aw.updateTime(t):aw.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rg.min()))throw new vg(gg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return aw.updateTime(t)}return aw.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class LT{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Bc=n.maxAttempts,this.qo=new XS(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){this.qo.No((async()=>{const e=new MT(this.datastore),t=this.qc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Uc(e)}))))})).catch((e=>{this.Uc(e)}))}))}qc(e){try{const t=this.updateFunction(e);return!cv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Lc(),Promise.resolve())))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Cw(t)}return!1}}class qT{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sg.UNAUTHENTICATED,this.clientId=xg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{lg("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(lg("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vg(gg.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(xx){const n=PE(xx,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function FT(e,t){e.asyncQueue.verifyOperationInProgress(),lg("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await yS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function UT(e,t){e.asyncQueue.verifyOperationInProgress();const n=await jT(e);lg("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>CE(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>CE(t.remoteStore,n))),e._onlineComponents=t}function VT(e){return"FirebaseError"===e.name?e.code===gg.FAILED_PRECONDITION||e.code===gg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function jT(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){lg("FirestoreClient","Using user provided OfflineComponentProvider");try{await FT(e,e._uninitializedComponentsProvider._offline)}catch(xx){const n=xx;if(!VT(n))throw n;dg("Error using user provided cache. Falling back to memory cache: "+n),await FT(e,new xT)}}else lg("FirestoreClient","Using default OfflineComponentProvider"),await FT(e,new xT);return e._offlineComponents}async function zT(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(lg("FirestoreClient","Using user provided OnlineComponentProvider"),await UT(e,e._uninitializedComponentsProvider._online)):(lg("FirestoreClient","Using default OnlineComponentProvider"),await UT(e,new DT))),e._onlineComponents}function BT(e){return jT(e).then((e=>e.persistence))}function KT(e){return jT(e).then((e=>e.localStore))}function GT(e){return zT(e).then((e=>e.remoteStore))}function WT(e){return zT(e).then((e=>e.syncEngine))}function HT(e){return zT(e).then((e=>e.datastore))}async function QT(e){const t=await zT(e),n=t.eventManager;return n.onListen=eT.bind(null,t.syncEngine),n.onUnlisten=nT.bind(null,t.syncEngine),n}function YT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new RT({next:s=>{t.enqueueAndForget((()=>UE(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new vg(gg.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new vg(gg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new BE(fb(n.path),s,{includeMetadataChanges:!0,Ku:!0});return FE(e,a)}(await QT(e),e.asyncQueue,t,n,r))),r.promise}function XT(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new yg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new RT({next:n=>{t.enqueueAndForget((()=>UE(e,a))),n.fromCache&&"server"===r.source?i.reject(new vg(gg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new BE(n,s,{includeMetadataChanges:!0,Ku:!0});return FE(e,a)}(await QT(e),e.asyncQueue,t,n,r))),r.promise}function JT(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?Dw().encode(e):e,function(e,t){return new OT(e,t)}(function(e,t){if(e instanceof Uint8Array)return PT(e,t);if(e instanceof ArrayBuffer)return PT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,YS(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=mg(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=mg(e),r=e_(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.qs.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(HE(r));const i=new WE(r,e.localStore,t.serializer);let s=await t.bc();for(;s;){const e=await i.zu(s);e&&n._updateProgress(e),s=await t.bc()}const a=await i.complete();return await mT(e,a.Ju,void 0),await function(e,t){const n=mg(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.qs.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.Hu)}catch(e){return dg("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await WT(e),i,r)}))}function $T(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ZT=new Map;function ek(e,t,n){if(!n)throw new vg(gg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tk(e,t,n,r){if(!0===t&&!0===r)throw new vg(gg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nk(e){if(!Fg.isDocumentKey(e))throw new vg(gg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rk(e){if(Fg.isDocumentKey(e))throw new vg(gg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ik(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fg()}function sk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vg(gg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ik(e);throw new vg(gg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function ak(e,t){if(t<=0)throw new vg(gg.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class ok{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new vg(gg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vg(gg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$T(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new vg(gg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new vg(gg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new vg(gg.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class uk{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ok({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vg(gg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vg(gg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ok(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wg;switch(e.type){case"firstParty":return new Eg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vg(gg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ZT.get(e);t&&(lg("ComponentProvider","Removing Datastore"),ZT.delete(e),t.terminate())}(this),Promise.resolve()}}function lk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=sk(e,uk))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&dg("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=sg.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ci(JSON.stringify({alg:"none",type:"JWT"})),Ci(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new vg(gg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new sg(s)}e._authCredentials=new _g(new bg(t,n))}}class ck{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hk(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ck(this.firestore,e,this._key)}}class dk{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new dk(this.firestore,e,this._query)}}class hk extends dk{constructor(e,t,n){super(e,t,fb(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ck(this.firestore,null,new Fg(e))}withConverter(e){return new hk(this.firestore,e,this._path)}}function fk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$i(e),ek("collection","path",t),e instanceof uk){const n=Mg.fromString(t,...r);return rk(n),new hk(e,null,n)}{if(!(e instanceof ck||e instanceof hk))throw new vg(gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mg.fromString(t,...r));return rk(n),new hk(e.firestore,null,n)}}function pk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=$i(e),1===arguments.length&&(t=xg.A()),ek("doc","path",t),e instanceof uk){const n=Mg.fromString(t,...r);return nk(n),new ck(e,null,new Fg(n))}{if(!(e instanceof ck||e instanceof hk))throw new vg(gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Mg.fromString(t,...r));return nk(n),new ck(e.firestore,e instanceof hk?e.converter:null,new Fg(n))}}function mk(e,t){return e=$i(e),t=$i(t),(e instanceof ck||e instanceof hk)&&(t instanceof ck||t instanceof hk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function gk(e,t){return e=$i(e),t=$i(t),e instanceof dk&&t instanceof dk&&e.firestore===t.firestore&&Ib(e._query,t._query)&&e.converter===t.converter}class vk{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new XS(this,"async_queue_retry"),this.Xc=()=>{const e=QS();e&&lg("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=QS();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=QS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new yg;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!nv(e))throw e;lg("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cg("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=DE.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&fg()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function yk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class bk{constructor(){this._progressObserver={},this._taskCompletionResolver=new yg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wk extends uk{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new vk,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ik(this),this._firestoreClient.terminate()}}function _k(e){return e._firestoreClient||Ik(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ik(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new oy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,$T(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new qT(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Sk(e,t,n){const r=new yg;return e.asyncQueue.enqueue((async()=>{try{await FT(e,n),await UT(e,t),r.resolve()}catch(e){const n=e;if(!VT(n))throw n;dg("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function Ek(e){return function(e){const t=new yg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=mg(e);dE(n.remoteStore)||lg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=mg(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ec.get(e)||[];r.push(t),n.Ec.set(e,r)}catch(e){const n=PE(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await WT(e),t))),t.promise}(_k(e=sk(e,wk)))}function Tk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await BT(e),n=await GT(e);return t.setNetworkEnabled(!0),function(e){const t=mg(e);return t.vu.delete(0),rE(t)}(n)}))}(_k(e=sk(e,wk)))}function kk(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await BT(e),n=await GT(e);return t.setNetworkEnabled(!1),async function(e){const t=mg(e);t.vu.add(0),await iE(t),t.bu.set("Offline")}(n)}))}(_k(e=sk(e,wk)))}function Ck(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=mg(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.qs.getNamedQuery(e,t)))}(await KT(e),t)))}(_k(e=sk(e,wk)),t).then((t=>t?new dk(e,null,t.query):null))}function xk(e){if(e._initialized||e._terminated)throw new vg(gg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nk{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nk(Zv.fromBase64String(e))}catch(e){throw new vg(gg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Nk(Zv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ak{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new vg(gg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Dk{constructor(e){this._methodName=e}}class Pk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vg(gg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vg(gg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ng(this._lat,e._lat)||Ng(this._long,e._long)}}const Rk=/^__.*__$/;class Ok{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new mw(e,this.data,this.fieldMask,t,this.fieldTransforms):new pw(e,this.data,t,this.fieldTransforms)}}class Mk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new mw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Lk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fg()}}class qk{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new qk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return rC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Lk(this.ca)&&Rk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Fk{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||YS(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new qk({ca:e,methodName:t,ga:n,path:qg.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uk(e){const t=e._freezeSettings(),n=YS(e._databaseId);return new Fk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vk(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);Zk("Data must be an object, but it was:",a,r);const o=Jk(r,a);let u,l;if(s.merge)u=new Jv(a.fieldMask),l=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=eC(t,r,n);if(!a.contains(i))throw new vg(gg.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));iC(e,i)||e.push(i)}u=new Jv(e),l=a.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,l=a.fieldTransforms;return new Ok(new Ay(o),u,l)}class jk extends Dk{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jk}}function zk(e,t,n){return new qk({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Bk extends Dk{_toFieldTransform(e){return new iw(e.path,new Xb)}isEqual(e){return e instanceof Bk}}class Kk extends Dk{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=zk(this,e,!0),n=this.pa.map((e=>Xk(e,t))),r=new Jb(n);return new iw(e.path,r)}isEqual(e){return this===e}}class Gk extends Dk{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=zk(this,e,!0),n=this.pa.map((e=>Xk(e,t))),r=new Zb(n);return new iw(e.path,r)}isEqual(e){return this===e}}class Wk extends Dk{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new tw(e.serializer,Gb(e.serializer,this.Ia));return new iw(e.path,t)}isEqual(e){return this===e}}function Hk(e,t,n,r){const i=e.ya(1,t,n);Zk("Data must be an object, but it was:",i,r);const s=[],a=Ay.empty();Bv(r,((e,r)=>{const o=nC(t,e,n);r=$i(r);const u=i.da(o);if(r instanceof jk)s.push(o);else{const e=Xk(r,u);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Jv(s);return new Mk(a,o,i.fieldTransforms)}function Qk(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[eC(t,r,n)],u=[i];if(s.length%2!=0)throw new vg(gg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(eC(t,s[h])),u.push(s[h+1]);const l=[],c=Ay.empty();for(let h=o.length-1;h>=0;--h)if(!iC(l,o[h])){const e=o[h];let t=u[h];t=$i(t);const n=a.da(e);if(t instanceof jk)l.push(e);else{const r=Xk(t,n);null!=r&&(l.push(e),c.set(e,r))}}const d=new Jv(l);return new Mk(c,d,a.fieldTransforms)}function Yk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Xk(n,e.ya(r?4:3,t))}function Xk(e,t){if($k(e=$i(e)))return Zk("Unsupported field value:",t,e),Jk(e,t);if(e instanceof Dk)return function(e,t){if(!Lk(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Xk(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=$i(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Pg.fromDate(e);return{timestampValue:Jw(t.serializer,n)}}if(e instanceof Pg){const n=new Pg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Jw(t.serializer,n)}}if(e instanceof Pk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Nk)return{bytesValue:$w(t.serializer,e._byteString)};if(e instanceof ck){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:t_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(ik(e)))}(e,t)}function Jk(e,t){const n={};return Kv(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bv(e,((e,r)=>{const i=Xk(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $k(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Pg||e instanceof Pk||e instanceof Nk||e instanceof ck||e instanceof Dk)}function Zk(e,t,n){if(!$k(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ik(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function eC(e,t,n){if((t=$i(t))instanceof Ak)return t._internalPath;if("string"==typeof t)return nC(e,t);throw rC("Field path arguments must be of type string or ",e,!1,void 0,n)}const tC=new RegExp("[~\\*/\\[\\]]");function nC(e,t,n){if(t.search(tC)>=0)throw rC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Ak(...t.split("."))._internalPath}catch(r){throw rC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rC(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=" in field ".concat(r)),a&&(u+=" in document ".concat(i)),u+=")"),new vg(gg.INVALID_ARGUMENT,o+e+u)}function iC(e,t){return e.some((e=>e.isEqual(t)))}class sC{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ck(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class aC extends sC{data(){return super.data()}}function oC(e,t){return"string"==typeof t?nC(e,t):t instanceof Ak?t._internalPath:t._delegate._internalPath}function uC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vg(gg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lC{}class cC extends lC{}function dC(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof lC&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof fC)).length,n=e.filter((e=>e instanceof hC)).length;if(t>1||t>0&&n>0)throw new vg(gg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class hC extends cC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new hC(e,t,n)}_apply(e){const t=this._parse(e);return _C(e._query,t),new dk(e.firestore,e.converter,wb(e._query,t))}_parse(e){const t=Uk(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new vg(gg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){wC(a,s);const t=[];for(const n of a)t.push(bC(r,e,n));o={arrayValue:{values:t}}}else o=bC(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||wC(a,s),o=Yk(n,"where",a,"in"===s||"not-in"===s);return Uy.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class fC extends lC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fC(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Vy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)_C(n,i),n=wb(n,i)}(e._query,t),new dk(e.firestore,e.converter,wb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class pC extends cC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new pC(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new vg(gg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new vg(gg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ly(t,n);return function(e,t){if(null===mb(e)){const n=gb(e);null!==n&&IC(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new dk(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new db(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class mC extends cC{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new mC(e,t,n)}_apply(e){return new dk(e.firestore,e.converter,_b(e._query,this._limit,this._limitType))}}class gC extends cC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new gC(e,t,n)}_apply(e){const t=yC(e,this.type,this._docOrFields,this._inclusive);return new dk(e.firestore,e.converter,function(e,t){return new db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class vC extends cC{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new vC(e,t,n)}_apply(e){const t=yC(e,this.type,this._docOrFields,this._inclusive);return new dk(e.firestore,e.converter,function(e,t){return new db(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function yC(e,t,n,r){if(n[0]=$i(n[0]),n[0]instanceof sC)return function(e,t,n,r,i){if(!r)throw new vg(gg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of yb(e))if(a.field.isKeyField())s.push(yy(t,r.key));else{const e=r.data.field(a.field);if(iy(e))throw new vg(gg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new vg(gg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new Ry(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Uk(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new vg(gg.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let u=0;u<i.length;u++){const s=i[u];if(a[u].field.isKeyField()){if("string"!=typeof s)throw new vg(gg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!vb(e)&&-1!==s.indexOf("/"))throw new vg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(Mg.fromString(s));if(!Fg.isDocumentKey(n))throw new vg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Fg(n);o.push(yy(t,i))}else{const e=Yk(n,r,s);o.push(e)}}return new Ry(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function bC(e,t,n){if("string"==typeof(n=$i(n))){if(""===n)throw new vg(gg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(t)&&-1!==n.indexOf("/"))throw new vg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Mg.fromString(n));if(!Fg.isDocumentKey(r))throw new vg(gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return yy(e,new Fg(r))}if(n instanceof ck)return yy(e,n._key);throw new vg(gg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ik(n),"."))}function wC(e,t){if(!Array.isArray(e)||0===e.length)throw new vg(gg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _C(e,t){if(t.isInequality()){const n=gb(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new vg(gg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=mb(e);null!==i&&IC(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new vg(gg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vg(gg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function IC(e,t,n){if(!n.isEqual(t))throw new vg(gg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class SC{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(dy(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ny(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ry(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fg()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Pk(ny(e.latitude),ny(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=sy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ay(e));default:return null}}convertTimestamp(e){const t=ty(e);return new Pg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Mg.fromString(e);pg(E_(n));const r=new uy(n.get(1),n.get(3)),i=new Fg(n.popFirst(5));return r.isEqual(t)||cg("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function EC(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class TC extends SC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ck(this.firestore,null,t)}}class kC{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CC extends sC{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new xC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(oC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class xC extends CC{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class NC{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new kC(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new xC(this._firestore,this._userDataWriter,n.key,n,new kC(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vg(gg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new xC(e._firestore,e._userDataWriter,n.doc.key,n.doc,new kC(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new xC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new kC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:AC(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function AC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fg()}}function DC(e,t){return e instanceof CC&&t instanceof CC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof NC&&t instanceof NC&&e._firestore===t._firestore&&gk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class PC extends SC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nk(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ck(this.firestore,null,t)}}function RC(e){e=sk(e,ck);const t=sk(e.firestore,wk),n=_k(t),r=new PC(t);return function(e,t){const n=new yg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=mg(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new vg(gg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=PE(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await KT(e),t,n))),n.promise}(n,e._key).then((n=>new CC(t,r,e._key,n,new kC(null!==n&&n.hasLocalMutations,!0),e.converter)))}function OC(e){e=sk(e,dk);const t=sk(e.firestore,wk),n=_k(t),r=new PC(t);return function(e,t){const n=new yg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ES(e,t,!0),i=new XE(t,r.ir),s=i.sc(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=PE(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await KT(e),t,n))),n.promise}(n,e._query).then((n=>new NC(t,r,e,n)))}function MC(e,t,n){e=sk(e,ck);const r=sk(e.firestore,wk),i=EC(e.converter,t,n);return UC(r,[Vk(Uk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,aw.none())])}function LC(e,t,n){e=sk(e,ck);const r=sk(e.firestore,wk),i=Uk(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return s="string"==typeof(t=$i(t))||t instanceof Ak?Qk(i,"updateDoc",e._key,t,n,o):Hk(i,"updateDoc",e._key,t),UC(r,[s.toMutation(e._key,aw.exists(!0))])}function qC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=$i(e);let o={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||yk(n[u])||(o=n[u],u++);const l={includeMetadataChanges:o.includeMetadataChanges};if(yk(n[u])){const e=n[u];n[u]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[u+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[u+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let c,d,h;if(e instanceof ck)d=sk(e.firestore,wk),h=fb(e._key.path),c={next:t=>{n[u]&&n[u](VC(d,e,t))},error:n[u+1],complete:n[u+2]};else{const t=sk(e,dk);d=sk(t.firestore,wk),h=t._query;const r=new PC(d);c={next:e=>{n[u]&&n[u](new NC(d,r,t,e))},error:n[u+1],complete:n[u+2]},uC(e._query)}return function(e,t,n,r){const i=new RT(r),s=new BE(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>FE(await QT(e),s))),()=>{i.Dc(),e.asyncQueue.enqueueAndForget((async()=>UE(await QT(e),s)))}}(_k(d),h,l,c)}function FC(e,t){return function(e,t){const n=new RT(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){mg(e).ku.add(t),t.next()}(await QT(e),n))),()=>{n.Dc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){mg(e).ku.delete(t)}(await QT(e),n)))}}(_k(e=sk(e,wk)),yk(t)?t:{next:t})}function UC(e,t){return function(e,t){const n=new yg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=CT(e);try{const e=await function(e,t){const n=mg(e),r=Pg.now(),i=t.reduce(((e,t)=>e.add(t.key)),Vb());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Db(),u=Vb();return n.Zi.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(u=u.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=hw(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new mw(e.key,t,Dy(t.value.mapValue),aw.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,u);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Ob(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Gv(Ng)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await mT(r,e.changes),await yE(r.remoteStore)}catch(e){const t=PE(e,"Failed to persist write");n.reject(t)}}(await WT(e),t,n))),n.promise}(_k(e),t)}function VC(e,t,n){const r=n.docs.get(t._key),i=new PC(e);return new CC(e,i,t._key,r,new kC(n.hasPendingWrites,n.fromCache),t.converter)}const jC={maxAttempts:5};class zC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Uk(e)}set(e,t,n){this._verifyNotCommitted();const r=BC(e,this._firestore),i=EC(r.converter,t,n),s=Vk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,aw.none())),this}update(e,t,n){this._verifyNotCommitted();const r=BC(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=$i(t))||t instanceof Ak?Qk(this._dataReader,"WriteBatch.update",r._key,t,n,a):Hk(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,aw.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=BC(e,this._firestore);return this._mutations=this._mutations.concat(new bw(t._key,aw.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vg(gg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function BC(e,t){if((e=$i(e)).firestore!==t)throw new vg(gg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class KC extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Uk(e)}get(e){const t=BC(e,this._firestore),n=new TC(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return fg();const r=e[0];if(r.isFoundDocument())return new sC(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new sC(this._firestore,n,t._key,null,t.converter);throw fg()}))}set(e,t,n){const r=BC(e,this._firestore),i=EC(r.converter,t,n),s=Vk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=BC(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=$i(t))||t instanceof Ak?Qk(this._dataReader,"Transaction.update",r._key,t,n,a):Hk(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=BC(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=BC(e,this._firestore),n=new PC(this._firestore);return super.get(e).then((e=>new CC(this._firestore,n,t._key,e._document,new kC(!1,!1),t.converter)))}}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ag=e}(fa),oa(new Zi("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new wk(new Ig(e.getProvider("auth-internal")),new kg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vg(gg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uy(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),ya(ig,"3.13.0",e),ya(ig,"3.13.0","esm2017")}();function GC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new vg("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function WC(){if("undefined"===typeof Uint8Array)throw new vg("unimplemented","Uint8Arrays are not available in this environment.")}function HC(){if("undefined"==typeof atob)throw new vg("unimplemented","Blobs are unavailable in Firestore in this environment.")}class QC{constructor(e){this._delegate=e}static fromBase64String(e){return HC(),new QC(Nk.fromBase64String(e))}static fromUint8Array(e){return WC(),new QC(Nk.fromUint8Array(e))}toBase64(){return HC(),this._delegate.toBase64()}toUint8Array(){return WC(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class XC{enableIndexedDbPersistence(e,t){return function(e,t){xk(e=sk(e,wk));const n=_k(e);if(n._uninitializedComponentsProvider)throw new vg(gg.FAILED_PRECONDITION,"SDK cache is already specified.");dg("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new DT;return Sk(n,i,new NT(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){xk(e=sk(e,wk));const t=_k(e);if(t._uninitializedComponentsProvider)throw new vg(gg.FAILED_PRECONDITION,"SDK cache is already specified.");dg("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new DT;return Sk(t,r,new AT(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new vg(gg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new yg;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Zg.D())return Promise.resolve();const t=e+"main";await Zg.delete(t)}(fS(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class JC{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof uy||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||dg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lk(this._delegate,e,t,n)}enableNetwork(){return Tk(this._delegate)}disableNetwork(){return kk(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,tk("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return Ek(this._delegate)}onSnapshotsInSync(e){return FC(this._delegate,e)}get app(){if(!this._appCompat)throw new vg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dx(this,fk(this._delegate,e))}catch(xx){throw rx(xx,"collection()","Firestore.collection()")}}doc(e){try{return new nx(this,pk(this._delegate,e))}catch(xx){throw rx(xx,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ux(this,function(e,t){if(e=sk(e,uk),ek("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new vg(gg.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new dk(e,null,function(e){return new db(Mg.emptyPath(),e)}(t))}(this._delegate,e))}catch(xx){throw rx(xx,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=sk(e,wk);const r=Object.assign(Object.assign({},jC),n);return function(e){if(e.maxAttempts<1)throw new vg(gg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new yg;return e.asyncQueue.enqueueAndForget((async()=>{const i=await HT(e);new LT(e.asyncQueue,i,n,t,r).run()})),r.promise}(_k(e),(n=>t(new KC(e,n))),r)}(this._delegate,(t=>e(new ZC(this,t))))}batch(){return _k(this._delegate),new ex(new zC(this._delegate,(e=>UC(this._delegate,e))))}loadBundle(e){return function(e,t){const n=_k(e=sk(e,wk)),r=new bk;return JT(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return Ck(this._delegate,e).then((e=>e?new ux(this,e):null))}}class $C extends SC{constructor(e){super(),this.firestore=e}convertBytes(e){return new QC(new Nk(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return nx.forKey(t,this.firestore,null)}}class ZC{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}get(e){const t=hx(e);return this._delegate.get(t).then((e=>new ax(this._firestore,new CC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=hx(e);return n?(GC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=hx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=hx(e);return this._delegate.delete(t),this}}class ex{constructor(e){this._delegate=e}set(e,t,n){const r=hx(e);return n?(GC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=hx(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=hx(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class tx{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new xC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ox(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=tx.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new tx(e,new $C(e),t),r.set(t,i)),i}}tx.INSTANCES=new WeakMap;class nx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}static forPath(e,t,n){if(e.length%2!==0)throw new vg("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new nx(t,new ck(t._delegate,n,new Fg(e)))}static forKey(e,t,n){return new nx(t,new ck(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new dx(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dx(this.firestore,fk(this._delegate,e))}catch(xx){throw rx(xx,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=$i(e))instanceof ck&&mk(this._delegate,e)}set(e,t){t=GC("DocumentReference.set",t);try{return t?MC(this._delegate,e,t):MC(this._delegate,e)}catch(xx){throw rx(xx,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?LC(this._delegate,e):LC(this._delegate,e,t,...r)}catch(xx){throw rx(xx,"updateDoc()","DocumentReference.update()")}}delete(){return UC(sk((e=this._delegate).firestore,wk),[new bw(e._key,aw.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ix(t),i=sx(t,(e=>new ax(this.firestore,new CC(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return qC(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?RC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sk(e,ck);const t=sk(e.firestore,wk);return YT(_k(t),e._key,{source:"server"}).then((n=>VC(t,e,n)))}(this._delegate):function(e){e=sk(e,ck);const t=sk(e.firestore,wk);return YT(_k(t),e._key).then((n=>VC(t,e,n)))}(this._delegate),t.then((e=>new ax(this.firestore,new CC(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new nx(this.firestore,e?this._delegate.withConverter(tx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function rx(e,t,n){return e.message=e.message.replace(t,n),e}function ix(e){for(const t of e)if("object"===typeof t&&!YC(t))return t;return{}}function sx(e,t){var n,r;let i;return i=YC(e[0])?e[0]:YC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ax{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new nx(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return DC(this._delegate,e._delegate)}}class ox extends ax{data(e){const t=this._delegate.data(e);return void 0!==t||fg(),t}}class ux{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $C(e)}where(e,t,n){try{return new ux(this.firestore,dC(this._delegate,function(e,t,n){const r=t,i=oC("where",e);return hC._create(i,r,n)}(e,t,n)))}catch(xx){throw rx(xx,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ux(this.firestore,dC(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=oC("orderBy",e);return pC._create(n,t)}(e,t)))}catch(xx){throw rx(xx,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ux(this.firestore,dC(this._delegate,(ak("limit",t=e),mC._create("limit",t,"F"))))}catch(xx){throw rx(xx,"limit()","Query.limit()")}var t}limitToLast(e){try{return new ux(this.firestore,dC(this._delegate,(ak("limitToLast",t=e),mC._create("limitToLast",t,"L"))))}catch(xx){throw rx(xx,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new ux(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gC._create("startAt",t,!0)}(...arguments)))}catch(xx){throw rx(xx,"startAt()","Query.startAt()")}}startAfter(){try{return new ux(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gC._create("startAfter",t,!1)}(...arguments)))}catch(xx){throw rx(xx,"startAfter()","Query.startAfter()")}}endBefore(){try{return new ux(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vC._create("endBefore",t,!1)}(...arguments)))}catch(xx){throw rx(xx,"endBefore()","Query.endBefore()")}}endAt(){try{return new ux(this.firestore,dC(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vC._create("endAt",t,!0)}(...arguments)))}catch(xx){throw rx(xx,"endAt()","Query.endAt()")}}isEqual(e){return gk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?OC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sk(e,dk);const t=sk(e.firestore,wk),n=_k(t),r=new PC(t);return XT(n,e._query,{source:"server"}).then((n=>new NC(t,r,e,n)))}(this._delegate):function(e){e=sk(e,dk);const t=sk(e.firestore,wk),n=_k(t),r=new PC(t);return uC(e._query),XT(n,e._query).then((n=>new NC(t,r,e,n)))}(this._delegate),t.then((e=>new cx(this.firestore,new NC(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ix(t),i=sx(t,(e=>new cx(this.firestore,new NC(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return qC(this._delegate,r,i)}withConverter(e){return new ux(this.firestore,e?this._delegate.withConverter(tx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class lx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ox(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class cx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ux(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new ox(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new lx(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new ox(this._firestore,n))}))}isEqual(e){return DC(this._delegate,e._delegate)}}class dx extends ux{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new nx(this.firestore,e):null}doc(e){try{return new nx(this.firestore,void 0===e?pk(this._delegate):pk(this._delegate,e))}catch(xx){throw rx(xx,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=sk(e.firestore,wk),r=pk(e),i=EC(e.converter,t);return UC(n,[Vk(Uk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,aw.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new nx(this.firestore,e)))}isEqual(e){return mk(this._delegate,e._delegate)}withConverter(e){return new dx(this.firestore,e?this._delegate.withConverter(tx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function hx(e){return sk(e,ck)}class fx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new Ak(...t)}static documentId(){return new fx(qg.keyField().canonicalString())}isEqual(e){return(e=$i(e))instanceof Ak&&this._delegate._internalPath.isEqual(e._internalPath)}}class px{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Bk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new px(e)}static delete(){const e=new jk("deleteField");return e._methodName="FieldValue.delete",new px(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Kk("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new px(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gk("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new px(e)}static increment(e){const t=new Wk("increment",e);return t._methodName="FieldValue.increment",new px(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const mx={Firestore:JC,GeoPoint:Pk,Timestamp:Pg,Blob:QC,Transaction:ZC,WriteBatch:ex,DocumentReference:nx,DocumentSnapshot:ax,Query:ux,QueryDocumentSnapshot:ox,QuerySnapshot:cx,CollectionReference:dx,FieldPath:fx,FieldValue:px,setLogLevel:function(e){var t;t=e,og.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Zi("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mx)))}(e,((e,t)=>new JC(e,t,new XC))),e.registerVersion("@firebase/firestore-compat","0.3.12")}(qa);var gx=function(){return gx=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gx.apply(this,arguments)};var vx=function(e){return{loading:void 0===e||null===e,value:e}},yx=function(e){var t=e?e():void 0,n=(0,a.useReducer)((function(e,t){switch(t.type){case"error":return gx({},e,{error:t.error,loading:!1,value:void 0});case"reset":return vx(t.defaultValue);case"value":return gx({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),vx(t)),r=n[0],i=n[1],s=function(){var t=e?e():void 0;i({type:"reset",defaultValue:t})},o=function(e){i({type:"error",error:e})},u=function(e){i({type:"value",value:e})};return(0,a.useMemo)((function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:u,value:r.value}}),[r.error,r.loading,s,o,u,r.value])};const bx=qa.initializeApp({apiKey:"AIzaSyDiQohmQoqWuSVwz0b33VQ-c5vCoyNJVPc",authDomain:"react-test-b3315.firebaseapp.com",projectId:"react-test-b3315",storageBucket:"react-test-b3315.appspot.com",messagingSenderId:"103930812840",appId:"1:103930812840:web:942459fd41f571307f659d",measurementId:"G-1PS4FYX20E"}),wx=(bx.firestore(),bx.auth());wx.onAuthStateChanged((e=>{e&&W("/")}));const _x=new qa.auth.GoogleAuthProvider,Ix=()=>(0,mi.jsx)(mi.Fragment,{children:(0,mi.jsx)("button",{onClick:e=>{e.preventDefault(),wx.signInWithPopup(_x).then((()=>{W("/")})).catch((e=>alert(e.message)))},children:"Sign In With Google"})});function Sx(){const[e,t]=function(e){var t=yx((function(){return e.currentUser})),n=t.error,r=t.loading,i=t.setError,s=t.setValue,o=t.value;(0,a.useEffect)((function(){var t=e.onAuthStateChanged(s,i);return function(){t()}}),[e]);var u=[o,r,n];return(0,a.useMemo)((function(){return u}),u)}(wx);return(0,mi.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-3",children:(0,mi.jsx)("div",{className:"container-fluid",children:(0,mi.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:(0,mi.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[(0,mi.jsx)("li",{className:"nav-item",children:(0,mi.jsx)(Ut,{className:"nav-link",to:"/",children:"Home"})}),(0,mi.jsx)("li",{className:"nav-item",children:(0,mi.jsx)(Ut,{className:"nav-link",to:"/authors",children:"Authors"})}),e?(0,mi.jsx)("li",{className:"nav-item",children:(0,mi.jsx)("button",{className:"nav-link",onClick:()=>{wx.signOut().then((()=>{W("/")}))},children:"Logout"})}):(0,mi.jsx)("li",{className:"nav-item",children:(0,mi.jsx)(Ut,{className:"nav-link",to:"/login",children:"Login"})})]})})})})}function Ex(){return(0,mi.jsx)(mi.Fragment,{children:(0,mi.jsx)("h1",{children:"About"})})}const Tx=[{path:"about",element:(0,mi.jsx)(Ex,{})},{path:"login",element:(0,mi.jsx)(Ix,{})},{path:"authors/page?/:page?",element:(0,mi.jsx)(gi,{})},{path:"blog/:id",element:(0,mi.jsx)(Ii,{})}],kx=function(e,t){return oe({basename:null==t?void 0:t.basename,future:Et({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),y((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=v(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),m("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:g(t))}),(function(e,t){f("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)),hydrationData:(null==t?void 0:t.hydrationData)||Ct(),routes:e,mapRouteProperties:St,unstable_dataStrategy:null==t?void 0:t.unstable_dataStrategy,unstable_patchRoutesOnMiss:null==t?void 0:t.unstable_patchRoutesOnMiss,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",Component(){const e=di();e(ni(1)),(0,a.useEffect)((()=>{pi.getAll(1e3,1).then((t=>{e(oi(t.length))}))}),[e]);let t=yt(gt.UseNavigation).navigation;return(0,mi.jsx)(mi.Fragment,{children:"idle"!==t.state?(0,mi.jsx)("div",{className:"is-loading",children:"Loading..."}):(0,mi.jsxs)("div",{className:"container",children:[(0,mi.jsx)(Sx,{}),(0,mi.jsx)(_t,{}),(0,mi.jsx)(Si,{})]})})},children:[{index:!0,element:(0,mi.jsx)(bi,{})},...Tx,{path:"author/:id",Component(){let e=ot();return(0,mi.jsx)(mi.Fragment,{children:(0,mi.jsx)(bi,{author:e.id})})}}]}]),Cx=document.getElementById("root");zt.H(Cx).render((0,mi.jsx)(a.StrictMode,{children:(0,mi.jsx)(ln,{store:ti,children:(0,mi.jsx)(Mt,{router:kx})})})),i()})();
//# sourceMappingURL=main.9a150205.js.map